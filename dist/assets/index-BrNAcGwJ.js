var OF=Object.defineProperty;var IA=n=>{throw TypeError(n)};var DF=(n,e,t)=>e in n?OF(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var F=(n,e,t)=>DF(n,typeof e!="symbol"?e+"":e,t),aw=(n,e,t)=>e.has(n)||IA("Cannot "+t);var A=(n,e,t)=>(aw(n,e,"read from private field"),t?t.call(n):e.get(n)),j=(n,e,t)=>e.has(n)?IA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),L=(n,e,t,r)=>(aw(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),J=(n,e,t)=>(aw(n,e,"access private method"),t);var Sh=(n,e,t,r)=>({set _(s){L(n,e,s,t)},get _(){return A(n,e,r)}});function LF(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();function MF(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var nk={exports:{}},Dy={},rk={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf=Symbol.for("react.element"),FF=Symbol.for("react.portal"),BF=Symbol.for("react.fragment"),UF=Symbol.for("react.strict_mode"),VF=Symbol.for("react.profiler"),jF=Symbol.for("react.provider"),zF=Symbol.for("react.context"),HF=Symbol.for("react.forward_ref"),GF=Symbol.for("react.suspense"),WF=Symbol.for("react.memo"),$F=Symbol.for("react.lazy"),CA=Symbol.iterator;function QF(n){return n===null||typeof n!="object"?null:(n=CA&&n[CA]||n["@@iterator"],typeof n=="function"?n:null)}var sk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ik=Object.assign,ok={};function Xu(n,e,t){this.props=n,this.context=e,this.refs=ok,this.updater=t||sk}Xu.prototype.isReactComponent={};Xu.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Xu.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function ak(){}ak.prototype=Xu.prototype;function Jb(n,e,t){this.props=n,this.context=e,this.refs=ok,this.updater=t||sk}var Yb=Jb.prototype=new ak;Yb.constructor=Jb;ik(Yb,Xu.prototype);Yb.isPureReactComponent=!0;var PA=Array.isArray,lk=Object.prototype.hasOwnProperty,Xb={current:null},ck={key:!0,ref:!0,__self:!0,__source:!0};function uk(n,e,t){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)lk.call(e,r)&&!ck.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:jf,type:n,key:i,ref:o,props:s,_owner:Xb.current}}function KF(n,e){return{$$typeof:jf,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Zb(n){return typeof n=="object"&&n!==null&&n.$$typeof===jf}function qF(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var kA=/\/+/g;function lw(n,e){return typeof n=="object"&&n!==null&&n.key!=null?qF(""+n.key):e.toString(36)}function xg(n,e,t,r,s){var i=typeof n;(i==="undefined"||i==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case jf:case FF:o=!0}}if(o)return o=n,s=s(o),n=r===""?"."+lw(o,0):r,PA(s)?(t="",n!=null&&(t=n.replace(kA,"$&/")+"/"),xg(s,e,t,"",function(c){return c})):s!=null&&(Zb(s)&&(s=KF(s,t+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(kA,"$&/")+"/")+n)),e.push(s)),1;if(o=0,r=r===""?".":r+":",PA(n))for(var a=0;a<n.length;a++){i=n[a];var l=r+lw(i,a);o+=xg(i,e,t,l,s)}else if(l=QF(n),typeof l=="function")for(n=l.call(n),a=0;!(i=n.next()).done;)i=i.value,l=r+lw(i,a++),o+=xg(i,e,t,l,s);else if(i==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Cp(n,e,t){if(n==null)return n;var r=[],s=0;return xg(n,r,"","",function(i){return e.call(t,i,s++)}),r}function JF(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ln={current:null},Ag={transition:null},YF={ReactCurrentDispatcher:Ln,ReactCurrentBatchConfig:Ag,ReactCurrentOwner:Xb};function hk(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Cp,forEach:function(n,e,t){Cp(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Cp(n,function(){e++}),e},toArray:function(n){return Cp(n,function(e){return e})||[]},only:function(n){if(!Zb(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Se.Component=Xu;Se.Fragment=BF;Se.Profiler=VF;Se.PureComponent=Jb;Se.StrictMode=UF;Se.Suspense=GF;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YF;Se.act=hk;Se.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=ik({},n.props),s=n.key,i=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Xb.current),e.key!==void 0&&(s=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)lk.call(e,l)&&!ck.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:jf,type:n.type,key:s,ref:i,props:r,_owner:o}};Se.createContext=function(n){return n={$$typeof:zF,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:jF,_context:n},n.Consumer=n};Se.createElement=uk;Se.createFactory=function(n){var e=uk.bind(null,n);return e.type=n,e};Se.createRef=function(){return{current:null}};Se.forwardRef=function(n){return{$$typeof:HF,render:n}};Se.isValidElement=Zb;Se.lazy=function(n){return{$$typeof:$F,_payload:{_status:-1,_result:n},_init:JF}};Se.memo=function(n,e){return{$$typeof:WF,type:n,compare:e===void 0?null:e}};Se.startTransition=function(n){var e=Ag.transition;Ag.transition={};try{n()}finally{Ag.transition=e}};Se.unstable_act=hk;Se.useCallback=function(n,e){return Ln.current.useCallback(n,e)};Se.useContext=function(n){return Ln.current.useContext(n)};Se.useDebugValue=function(){};Se.useDeferredValue=function(n){return Ln.current.useDeferredValue(n)};Se.useEffect=function(n,e){return Ln.current.useEffect(n,e)};Se.useId=function(){return Ln.current.useId()};Se.useImperativeHandle=function(n,e,t){return Ln.current.useImperativeHandle(n,e,t)};Se.useInsertionEffect=function(n,e){return Ln.current.useInsertionEffect(n,e)};Se.useLayoutEffect=function(n,e){return Ln.current.useLayoutEffect(n,e)};Se.useMemo=function(n,e){return Ln.current.useMemo(n,e)};Se.useReducer=function(n,e,t){return Ln.current.useReducer(n,e,t)};Se.useRef=function(n){return Ln.current.useRef(n)};Se.useState=function(n){return Ln.current.useState(n)};Se.useSyncExternalStore=function(n,e,t){return Ln.current.useSyncExternalStore(n,e,t)};Se.useTransition=function(){return Ln.current.useTransition()};Se.version="18.3.1";rk.exports=Se;var V=rk.exports;const Ae=MF(V),XF=LF({__proto__:null,default:Ae},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZF=V,eB=Symbol.for("react.element"),tB=Symbol.for("react.fragment"),nB=Object.prototype.hasOwnProperty,rB=ZF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sB={key:!0,ref:!0,__self:!0,__source:!0};function dk(n,e,t){var r,s={},i=null,o=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)nB.call(e,r)&&!sB.hasOwnProperty(r)&&(s[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:eB,type:n,key:i,ref:o,props:s,_owner:rB.current}}Dy.Fragment=tB;Dy.jsx=dk;Dy.jsxs=dk;nk.exports=Dy;var S=nk.exports,RA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},iB=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=n[t++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=n[t++],o=n[t++],a=n[t++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=n[t++],o=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},pk={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const i=n[s],o=s+1<n.length,a=o?n[s+1]:0,l=s+2<n.length,c=l?n[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(t[u],t[d],t[f],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fk(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):iB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const i=t[n.charAt(s++)],a=s<n.length?t[n.charAt(s)]:0;++s;const c=s<n.length?t[n.charAt(s)]:64;++s;const d=s<n.length?t[n.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new oB;const f=i<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const g=c<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class oB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aB=function(n){const e=fk(n);return pk.encodeByteArray(e,!0)},lm=function(n){return aB(n).replace(/\./g,"")},gk=function(n){try{return pk.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB=()=>lB().__FIREBASE_DEFAULTS__,uB=()=>{if(typeof process>"u"||typeof RA>"u")return;const n=RA.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},hB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&gk(n[1]);return e&&JSON.parse(e)},Ly=()=>{try{return cB()||uB()||hB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},mk=n=>{var e,t;return(t=(e=Ly())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},yk=n=>{const e=mk(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},wk=()=>{var n;return(n=Ly())===null||n===void 0?void 0:n.config},vk=n=>{var e;return(e=Ly())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,i=n.sub||n.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},n);return[lm(JSON.stringify(t)),lm(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function pB(){var n;const e=(n=Ly())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mB(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wB(){const n=vn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vB(){return!pB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _B(){try{return typeof indexedDB=="object"}catch{return!1}}function bB(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB="FirebaseError";class Ms extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=EB,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zf.prototype.create)}}class zf{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?xB(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Ms(s,a,r)}}function xB(n,e){return n.replace(AB,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const AB=/\{\$([^}]+)}/g;function TB(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function cm(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const i=n[s],o=e[s];if(NA(i)&&NA(o)){if(!cm(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function NA(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Wh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function SB(n,e){const t=new IB(n,e);return t.subscribe.bind(t)}class IB{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");CB(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=cw),s.error===void 0&&(s.error=cw),s.complete===void 0&&(s.complete=cw);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CB(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function cw(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(n){return n&&n._delegate?n._delegate:n}class zo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new dB;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RB(e))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=fa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fa){return this.instances.has(e)}getOptions(e=fa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kB(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fa){return this.component?this.component.multipleInstances?e:fa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kB(n){return n===fa?void 0:n}function RB(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PB(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ce||(Ce={}));const OB={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},DB=Ce.INFO,LB={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},MB=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=LB[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eE{constructor(e){this.name=e,this._logLevel=DB,this._logHandler=MB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const FB=(n,e)=>e.some(t=>n instanceof t);let OA,DA;function BB(){return OA||(OA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UB(){return DA||(DA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bk=new WeakMap,Cv=new WeakMap,Ek=new WeakMap,uw=new WeakMap,tE=new WeakMap;function VB(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",i),n.removeEventListener("error",o)},i=()=>{t(Po(n.result)),s()},o=()=>{r(n.error),s()};n.addEventListener("success",i),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&bk.set(t,n)}).catch(()=>{}),tE.set(e,n),e}function jB(n){if(Cv.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",i),n.removeEventListener("error",o),n.removeEventListener("abort",o)},i=()=>{t(),s()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",i),n.addEventListener("error",o),n.addEventListener("abort",o)});Cv.set(n,e)}let Pv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Cv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ek.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Po(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function zB(n){Pv=n(Pv)}function HB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(hw(this),e,...t);return Ek.set(r,e.sort?e.sort():[e]),Po(r)}:UB().includes(n)?function(...e){return n.apply(hw(this),e),Po(bk.get(this))}:function(...e){return Po(n.apply(hw(this),e))}}function GB(n){return typeof n=="function"?HB(n):(n instanceof IDBTransaction&&jB(n),FB(n,BB())?new Proxy(n,Pv):n)}function Po(n){if(n instanceof IDBRequest)return VB(n);if(uw.has(n))return uw.get(n);const e=GB(n);return e!==n&&(uw.set(n,e),tE.set(e,n)),e}const hw=n=>tE.get(n);function WB(n,e,{blocked:t,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(n,e),a=Po(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Po(o.result),l.oldVersion,l.newVersion,Po(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const $B=["get","getKey","getAll","getAllKeys","count"],QB=["put","add","delete","clear"],dw=new Map;function LA(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(dw.get(e))return dw.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=QB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||$B.includes(t)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[t](...a),s&&l.done]))[0]};return dw.set(e,i),i}zB(n=>({...n,get:(e,t,r)=>LA(e,t)||n.get(e,t,r),has:(e,t)=>!!LA(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(qB(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function qB(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kv="@firebase/app",MA="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new eE("@firebase/app"),JB="@firebase/app-compat",YB="@firebase/analytics-compat",XB="@firebase/analytics",ZB="@firebase/app-check-compat",e4="@firebase/app-check",t4="@firebase/auth",n4="@firebase/auth-compat",r4="@firebase/database",s4="@firebase/data-connect",i4="@firebase/database-compat",o4="@firebase/functions",a4="@firebase/functions-compat",l4="@firebase/installations",c4="@firebase/installations-compat",u4="@firebase/messaging",h4="@firebase/messaging-compat",d4="@firebase/performance",f4="@firebase/performance-compat",p4="@firebase/remote-config",g4="@firebase/remote-config-compat",m4="@firebase/storage",y4="@firebase/storage-compat",w4="@firebase/firestore",v4="@firebase/vertexai",_4="@firebase/firestore-compat",b4="firebase",E4="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="[DEFAULT]",x4={[kv]:"fire-core",[JB]:"fire-core-compat",[XB]:"fire-analytics",[YB]:"fire-analytics-compat",[e4]:"fire-app-check",[ZB]:"fire-app-check-compat",[t4]:"fire-auth",[n4]:"fire-auth-compat",[r4]:"fire-rtdb",[s4]:"fire-data-connect",[i4]:"fire-rtdb-compat",[o4]:"fire-fn",[a4]:"fire-fn-compat",[l4]:"fire-iid",[c4]:"fire-iid-compat",[u4]:"fire-fcm",[h4]:"fire-fcm-compat",[d4]:"fire-perf",[f4]:"fire-perf-compat",[p4]:"fire-rc",[g4]:"fire-rc-compat",[m4]:"fire-gcs",[y4]:"fire-gcs-compat",[w4]:"fire-fst",[_4]:"fire-fst-compat",[v4]:"fire-vertex","fire-js":"fire-js",[b4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=new Map,A4=new Map,Nv=new Map;function FA(n,e){try{n.container.addComponent(e)}catch(t){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ul(n){const e=n.name;if(Nv.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;Nv.set(e,n);for(const t of um.values())FA(t,n);for(const t of A4.values())FA(t,n);return!0}function My(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Es(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ko=new zf("app","Firebase",T4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ko.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl=E4;function xk(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rv,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ko.create("bad-app-name",{appName:String(s)});if(t||(t=wk()),!t)throw ko.create("no-options");const i=um.get(s);if(i){if(cm(t,i.options)&&cm(r,i.config))return i;throw ko.create("duplicate-app",{appName:s})}const o=new NB(s);for(const l of Nv.values())o.addComponent(l);const a=new S4(t,r,o);return um.set(s,a),a}function nE(n=Rv){const e=um.get(n);if(!e&&n===Rv&&wk())return xk();if(!e)throw ko.create("no-app",{appName:n});return e}function As(n,e,t){var r;let s=(r=x4[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(a.join(" "));return}ul(new zo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="firebase-heartbeat-database",C4=1,Nd="firebase-heartbeat-store";let fw=null;function Ak(){return fw||(fw=WB(I4,C4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Nd)}catch(t){console.warn(t)}}}}).catch(n=>{throw ko.create("idb-open",{originalErrorMessage:n.message})})),fw}async function P4(n){try{const t=(await Ak()).transaction(Nd),r=await t.objectStore(Nd).get(Tk(n));return await t.done,r}catch(e){if(e instanceof Ms)xi.warn(e.message);else{const t=ko.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xi.warn(t.message)}}}async function BA(n,e){try{const r=(await Ak()).transaction(Nd,"readwrite");await r.objectStore(Nd).put(e,Tk(n)),await r.done}catch(t){if(t instanceof Ms)xi.warn(t.message);else{const r=ko.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});xi.warn(r.message)}}}function Tk(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=1024,R4=30*24*60*60*1e3;class N4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new D4(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=UA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=R4}),this._storage.overwrite(this._heartbeatsCache))}catch(r){xi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=UA(),{heartbeatsToSend:r,unsentEntries:s}=O4(this._heartbeatsCache.heartbeats),i=lm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return xi.warn(t),""}}}function UA(){return new Date().toISOString().substring(0,10)}function O4(n,e=k4){const t=[];let r=n.slice();for(const s of n){const i=t.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),VA(t)>e){i.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),VA(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class D4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _B()?bB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await P4(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return BA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return BA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function VA(n){return lm(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(n){ul(new zo("platform-logger",e=>new KB(e),"PRIVATE")),ul(new zo("heartbeat",e=>new N4(e),"PRIVATE")),As(kv,MA,n),As(kv,MA,"esm2017"),As("fire-js","")}L4("");function rE(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function Sk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const M4=Sk,Ik=new zf("auth","Firebase",Sk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=new eE("@firebase/auth");function F4(n,...e){hm.logLevel<=Ce.WARN&&hm.warn(`Auth (${Pl}): ${n}`,...e)}function Tg(n,...e){hm.logLevel<=Ce.ERROR&&hm.error(`Auth (${Pl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(n,...e){throw sE(n,...e)}function Ts(n,...e){return sE(n,...e)}function Ck(n,e,t){const r=Object.assign(Object.assign({},M4()),{[e]:t});return new zf("auth","Firebase",r).create(e,{appName:n.name})}function wi(n){return Ck(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sE(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Ik.create(n,...e)}function pe(n,e,...t){if(!n)throw sE(e,...t)}function hi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Tg(e),new Error(e)}function Ai(n,e){n||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function B4(){return jA()==="http:"||jA()==="https:"}function jA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B4()||mB()||"connection"in navigator)?navigator.onLine:!0}function V4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ai(t>e,"Short delay should be less than long delay!"),this.isMobile=fB()||yB()}get(){return U4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(n,e){Ai(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=new Gf(3e4,6e4);function ea(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ni(n,e,t,r,s={}){return kk(n,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Hf(Object.assign({key:n.config.apiKey},o)).slice(1),l=await n._getAdditionalHeaders();l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode);const c=Object.assign({method:e,headers:l},i);return gB()||(c.referrerPolicy="no-referrer"),Pk.fetch()(Rk(n,n.config.apiHost,t,a),c)})}async function kk(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},j4),e);try{const s=new G4(n),i=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Pp(n,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pp(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Pp(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Pp(n,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ck(n,u,c);Xr(n,u)}}catch(s){if(s instanceof Ms)throw s;Xr(n,"network-request-failed",{message:String(s)})}}async function Wf(n,e,t,r,s={}){const i=await Ni(n,e,t,r,s);return"mfaPendingCredential"in i&&Xr(n,"multi-factor-auth-required",{_serverResponse:i}),i}function Rk(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?iE(n.config,s):`${n.config.apiScheme}://${s}`}function H4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class G4{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ts(this.auth,"network-request-failed")),z4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Ts(n,e,r);return s.customData._tokenResponse=t,s}function zA(n){return n!==void 0&&n.enterprise!==void 0}class W4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return H4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $4(n,e){return Ni(n,"GET","/v2/recaptchaConfig",ea(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q4(n,e){return Ni(n,"POST","/v1/accounts:delete",e)}async function Nk(n,e){return Ni(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function K4(n,e=!1){const t=Dn(n),r=await t.getIdToken(e),s=oE(r);pe(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:cd(pw(s.auth_time)),issuedAtTime:cd(pw(s.iat)),expirationTime:cd(pw(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function pw(n){return Number(n)*1e3}function oE(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Tg("JWT malformed, contained fewer than 3 sections"),null;try{const s=gk(t);return s?JSON.parse(s):(Tg("Failed to decode base64 JWT payload"),null)}catch(s){return Tg("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function HA(n){const e=oE(n);return pe(e,"internal-error"),pe(typeof e.exp<"u","internal-error"),pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ms&&q4(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function q4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cd(this.lastLoginAt),this.creationTime=cd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dm(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Iu(n,Nk(t,{idToken:r}));pe(s==null?void 0:s.users.length,t,"internal-error");const i=s.users[0];n._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Ok(i.providerUserInfo):[],a=X4(n.providerData,o),l=n.isAnonymous,c=!(n.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Dv(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(n,d)}async function Y4(n){const e=Dn(n);await dm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function X4(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Ok(n){return n.map(e=>{var{providerId:t}=e,r=rE(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z4(n,e){const t=await kk(n,{},async()=>{const r=Hf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=n.config,o=Rk(n,s,"/v1/token",`key=${i}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Pk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function e3(n,e){return Ni(n,"POST","/v2/accounts:revokeToken",ea(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pe(e.idToken,"internal-error"),pe(typeof e.idToken<"u","internal-error"),pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){pe(e.length!==0,"internal-error");const t=HA(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:i}=await Z4(e,t);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:i}=t,o=new Sc;return r&&(pe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(pe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(pe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sc,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(n,e){pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,i=rE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new J4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Dv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Iu(this,this.stsTokenManager.getToken(this.auth,e));return pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return K4(this,e)}reload(){return Y4(this)}_assign(e){this!==e&&(pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await dm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Es(this.auth.app))return Promise.reject(wi(this.auth));const e=await this.getIdToken();return await Iu(this,Q4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,i,o,a,l,c,u;const d=(r=t.displayName)!==null&&r!==void 0?r:void 0,f=(s=t.email)!==null&&s!==void 0?s:void 0,p=(i=t.phoneNumber)!==null&&i!==void 0?i:void 0,g=(o=t.photoURL)!==null&&o!==void 0?o:void 0,y=(a=t.tenantId)!==null&&a!==void 0?a:void 0,v=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=t.createdAt)!==null&&c!==void 0?c:void 0,_=(u=t.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:C,isAnonymous:R,providerData:D,stsTokenManager:T}=t;pe(E&&T,e,"internal-error");const x=Sc.fromJSON(this.name,T);pe(typeof E=="string",e,"internal-error"),Bi(d,e.name),Bi(f,e.name),pe(typeof C=="boolean",e,"internal-error"),pe(typeof R=="boolean",e,"internal-error"),Bi(p,e.name),Bi(g,e.name),Bi(y,e.name),Bi(v,e.name),Bi(w,e.name),Bi(_,e.name);const I=new di({uid:E,auth:e,email:f,emailVerified:C,displayName:d,isAnonymous:R,photoURL:g,phoneNumber:p,tenantId:y,stsTokenManager:x,createdAt:w,lastLoginAt:_});return D&&Array.isArray(D)&&(I.providerData=D.map(k=>Object.assign({},k))),v&&(I._redirectEventId=v),I}static async _fromIdTokenResponse(e,t,r=!1){const s=new Sc;s.updateFromServerResponse(t);const i=new di({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await dm(i),i}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];pe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Ok(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Sc;a.updateFromIdToken(r);const l=new di({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Dv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new Map;function fi(n){Ai(n instanceof Function,"Expected a class definition");let e=GA.get(n);return e?(Ai(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,GA.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Dk.type="NONE";const WA=Dk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(n,e,t){return`firebase:${n}:${e}:${t}`}class Ic{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Sg(this.userKey,s.apiKey,i),this.fullPersistenceKey=Sg("persistence",s.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ic(fi(WA),e,r);const s=(await Promise.all(t.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||fi(WA);const o=Sg(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=await c._get(o);if(u){const d=di._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ic(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Ic(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Bk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vk(e))return"Blackberry";if(jk(e))return"Webos";if(Mk(e))return"Safari";if((e.includes("chrome/")||Fk(e))&&!e.includes("edge/"))return"Chrome";if(Uk(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Lk(n=vn()){return/firefox\//i.test(n)}function Mk(n=vn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fk(n=vn()){return/crios\//i.test(n)}function Bk(n=vn()){return/iemobile/i.test(n)}function Uk(n=vn()){return/android/i.test(n)}function Vk(n=vn()){return/blackberry/i.test(n)}function jk(n=vn()){return/webos/i.test(n)}function aE(n=vn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function t3(n=vn()){var e;return aE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function n3(){return wB()&&document.documentMode===10}function zk(n=vn()){return aE(n)||Uk(n)||jk(n)||Vk(n)||/windows phone/i.test(n)||Bk(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(n,e=[]){let t;switch(n){case"Browser":t=$A(vn());break;case"Worker":t=`${$A(vn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Pl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(n,e={}){return Ni(n,"GET","/v2/passwordPolicy",ea(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=6;class o3{constructor(e){var t,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:i3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QA(this),this.idTokenSubscription=new QA(this),this.beforeStateQueue=new r3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ik,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fi(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ic.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Nk(this,{idToken:e}),r=await di._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Es(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await dm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=V4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Es(this.app))return Promise.reject(wi(this));const t=e?Dn(e):null;return t&&pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Es(this.app)?Promise.reject(wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Es(this.app)?Promise.reject(wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await s3(this),t=new o3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zf("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await e3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fi(e)||this._popupRedirectResolver;pe(t,this,"argument-error"),this.redirectPersistenceManager=await Ic.create(this,[fi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const i=typeof t=="function"?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof t=="function"){const l=e.addObserver(t,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(t);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&F4(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function kl(n){return Dn(n)}class QA{constructor(e){this.auth=e,this.observer=null,this.addObserver=SB(t=>this.observer=t)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l3(n){Fy=n}function Gk(n){return Fy.loadJS(n)}function c3(){return Fy.recaptchaEnterpriseScript}function u3(){return Fy.gapiScript}function h3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class d3{constructor(){this.enterprise=new f3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class f3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const p3="recaptcha-enterprise",Wk="NO_RECAPTCHA";class g3{constructor(e){this.type=p3,this.auth=kl(e)}async verify(e="verify",t=!1){async function r(i){if(!t){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{$4(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new W4(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;zA(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(Wk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new d3().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!t&&zA(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=c3();l.length!==0&&(l+=a),Gk(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function KA(n,e,t,r=!1,s=!1){const i=new g3(n);let o;if(s)o=Wk;else try{o=await i.verify(t)}catch{o=await i.verify(t,!0)}const a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Lv(n,e,t,r,s){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await KA(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await KA(n,e,t,t==="getOobCode");return r(n,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(n,e){const t=My(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),i=t.getOptions();if(cm(i,e??{}))return s;Xr(s,"already-initialized")}return t.initialize({options:e})}function y3(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(fi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function w3(n,e,t){const r=kl(n);pe(r._canInitEmulator,r,"emulator-config-failed"),pe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=$k(e),{host:o,port:a}=v3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),_3()}function $k(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function v3(n){const e=$k(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:qA(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:qA(o)}}}function qA(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function _3(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,t){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}async function b3(n,e){return Ni(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E3(n,e){return Wf(n,"POST","/v1/accounts:signInWithPassword",ea(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x3(n,e){return Wf(n,"POST","/v1/accounts:signInWithEmailLink",ea(n,e))}async function A3(n,e){return Wf(n,"POST","/v1/accounts:signInWithEmailLink",ea(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od extends lE{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Od(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Od(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lv(e,t,"signInWithPassword",E3);case"emailLink":return x3(e,{email:this._email,oobCode:this._password});default:Xr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lv(e,r,"signUpPassword",b3);case"emailLink":return A3(e,{idToken:t,email:this._email,oobCode:this._password});default:Xr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cc(n,e){return Wf(n,"POST","/v1/accounts:signInWithIdp",ea(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3="http://localhost";class hl extends lE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new hl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,i=rE(t,["providerId","signInMethod"]);if(!r||!s)return null;const o=new hl(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Cc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Cc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Cc(e,t)}buildRequest(){const e={requestUri:T3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Hf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I3(n){const e=Gh(Wh(n)).link,t=e?Gh(Wh(e)).deep_link_id:null,r=Gh(Wh(n)).deep_link_id;return(r?Gh(Wh(r)).link:null)||r||t||e||n}class cE{constructor(e){var t,r,s,i,o,a;const l=Gh(Wh(e)),c=(t=l.apiKey)!==null&&t!==void 0?t:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=S3((s=l.mode)!==null&&s!==void 0?s:null);pe(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const t=I3(e);try{return new cE(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(){this.providerId=Zu.PROVIDER_ID}static credential(e,t){return Od._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=cE.parseLink(t);return pe(r,"argument-error"),Od._fromEmailAndCode(e,r.code,r.tenantId)}}Zu.PROVIDER_ID="password";Zu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f extends Qk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends $f{constructor(){super("facebook.com")}static credential(e){return hl._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends $f{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return hl._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Xi.credential(t,r)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends $f{constructor(){super("github.com")}static credential(e){return hl._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo extends $f{constructor(){super("twitter.com")}static credential(e,t){return hl._fromParams({providerId:eo.PROVIDER_ID,signInMethod:eo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return eo.credentialFromTaggedObject(e)}static credentialFromError(e){return eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return eo.credential(t,r)}catch{return null}}}eo.TWITTER_SIGN_IN_METHOD="twitter.com";eo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(n,e){return Wf(n,"POST","/v1/accounts:signUp",ea(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const i=await di._fromIdTokenResponse(e,r,s),o=JA(r);return new dl({user:i,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=JA(r);return new dl({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function JA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm extends Ms{constructor(e,t,r,s){var i;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,fm.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new fm(e,t,r,s)}}function Kk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?fm._fromErrorAndOperation(n,i,e,r):i})}async function P3(n,e,t=!1){const r=await Iu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return dl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3(n,e,t=!1){const{auth:r}=n;if(Es(r.app))return Promise.reject(wi(r));const s="reauthenticate";try{const i=await Iu(n,Kk(r,s,e,n),t);pe(i.idToken,r,"internal-error");const o=oE(i.idToken);pe(o,r,"internal-error");const{sub:a}=o;return pe(n.uid===a,r,"user-mismatch"),dl._forOperation(n,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Xr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qk(n,e,t=!1){if(Es(n.app))return Promise.reject(wi(n));const r="signIn",s=await Kk(n,r,e),i=await dl._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(i.user),i}async function R3(n,e){return qk(kl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jk(n){const e=kl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function N3(n,e,t){if(Es(n.app))return Promise.reject(wi(n));const r=kl(n),o=await Lv(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",C3).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Jk(n),l}),a=await dl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function O3(n,e,t){return Es(n.app)?Promise.reject(wi(n)):R3(Dn(n),Zu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Jk(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(n,e){return Ni(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Dn(n),i={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await Iu(r,D3(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function M3(n,e,t,r){return Dn(n).onIdTokenChanged(e,t,r)}function F3(n,e,t){return Dn(n).beforeAuthStateChanged(e,t)}function B3(n,e,t,r){return Dn(n).onAuthStateChanged(e,t,r)}function U3(n){return Dn(n).signOut()}const pm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pm,"1"),this.storage.removeItem(pm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=1e3,j3=10;class Xk extends Yk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);n3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,j3):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},V3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xk.type="LOCAL";const z3=Xk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk extends Yk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Zk.type="SESSION";const eR=Zk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new By(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:i}=t.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(t.origin,i)),l=await H3(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}By.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=uE("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(){return window}function W3(n){Ss().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){return typeof Ss().WorkerGlobalScope<"u"&&typeof Ss().importScripts=="function"}async function $3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q3(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function K3(){return tR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="firebaseLocalStorageDb",q3=1,gm="firebaseLocalStorage",rR="fbase_key";class Qf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Uy(n,e){return n.transaction([gm],e?"readwrite":"readonly").objectStore(gm)}function J3(){const n=indexedDB.deleteDatabase(nR);return new Qf(n).toPromise()}function Mv(){const n=indexedDB.open(nR,q3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(gm,{keyPath:rR})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(gm)?e(r):(r.close(),await J3(),e(await Mv()))})})}async function YA(n,e,t){const r=Uy(n,!0).put({[rR]:e,value:t});return new Qf(r).toPromise()}async function Y3(n,e){const t=Uy(n,!1).get(e),r=await new Qf(t).toPromise();return r===void 0?null:r.value}function XA(n,e){const t=Uy(n,!0).delete(e);return new Qf(t).toPromise()}const X3=800,Z3=3;class sR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>Z3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=By._getInstance(K3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await $3(),!this.activeServiceWorker)return;this.sender=new G3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mv();return await YA(e,pm,"1"),await XA(e,pm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>YA(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>Y3(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>XA(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Uy(s,!1).getAll();return new Qf(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),X3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sR.type="LOCAL";const eU=sR;new Gf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tU(n,e){return e?fi(e):(pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE extends lE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Cc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Cc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Cc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function nU(n){return qk(n.auth,new hE(n),n.bypassAuthState)}function rU(n){const{auth:e,user:t}=n;return pe(t,e,"internal-error"),k3(t,new hE(n),n.bypassAuthState)}async function sU(n){const{auth:e,user:t}=n;return pe(t,e,"internal-error"),P3(t,new hE(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,t,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:t,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nU;case"linkViaPopup":case"linkViaRedirect":return sU;case"reauthViaPopup":case"reauthViaRedirect":return rU;default:Xr(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=new Gf(2e3,1e4);class ic extends iR{constructor(e,t,r,s,i){super(e,t,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ic.currentPopupAction&&ic.currentPopupAction.cancel(),ic.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pe(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=uE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ts(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ts(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ic.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ts(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iU.get())};e()}}ic.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU="pendingRedirect",Ig=new Map;class aU extends iR{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ig.get(this.auth._key());if(!e){try{const r=await lU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ig.set(this.auth._key(),e)}return this.bypassAuthState||Ig.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lU(n,e){const t=hU(e),r=uU(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function cU(n,e){Ig.set(n._key(),e)}function uU(n){return fi(n._redirectPersistence)}function hU(n){return Sg(oU,n.config.apiKey,n.name)}async function dU(n,e,t=!1){if(Es(n.app))return Promise.reject(wi(n));const r=kl(n),s=tU(r,e),o=await new aU(r,s,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=10*60*1e3;class pU{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!oR(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ts(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fU&&this.cachedEventUids.clear(),this.cachedEventUids.has(ZA(e))}saveEventToCache(e){this.cachedEventUids.add(ZA(e)),this.lastProcessedEventTime=Date.now()}}function ZA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function oR({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mU(n,e={}){return Ni(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wU=/^https?/;async function vU(n){if(n.config.emulator)return;const{authorizedDomains:e}=await mU(n);for(const t of e)try{if(_U(t))return}catch{}Xr(n,"unauthorized-domain")}function _U(n){const e=Ov(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!wU.test(t))return!1;if(yU.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU=new Gf(3e4,6e4);function eT(){const n=Ss().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function EU(n){return new Promise((e,t)=>{var r,s,i;function o(){eT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eT(),t(Ts(n,"network-request-failed"))},timeout:bU.get()})}if(!((s=(r=Ss().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Ss().gapi)===null||i===void 0)&&i.load)o();else{const a=h3("iframefcb");return Ss()[a]=()=>{gapi.load?o():t(Ts(n,"network-request-failed"))},Gk(`${u3()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Cg=null,e})}let Cg=null;function xU(n){return Cg=Cg||EU(n),Cg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AU=new Gf(5e3,15e3),TU="__/auth/iframe",SU="emulator/auth/iframe",IU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PU(n){const e=n.config;pe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?iE(e,SU):`https://${n.config.authDomain}/${TU}`,r={apiKey:e.apiKey,appName:n.name,v:Pl},s=CU.get(n.config.apiHost);s&&(r.eid=s);const i=n._getFrameworks();return i.length&&(r.fw=i.join(",")),`${t}?${Hf(r).slice(1)}`}async function kU(n){const e=await xU(n),t=Ss().gapi;return pe(t,n,"internal-error"),e.open({where:document.body,url:PU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IU,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Ts(n,"network-request-failed"),a=Ss().setTimeout(()=>{i(o)},AU.get());function l(){Ss().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NU=500,OU=600,DU="_blank",LU="http://localhost";class tT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MU(n,e,t,r=NU,s=OU){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},RU),{width:r.toString(),height:s.toString(),top:i,left:o}),c=vn().toLowerCase();t&&(a=Fk(c)?DU:t),Lk(c)&&(e=e||LU,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(t3(c)&&a!=="_self")return FU(e||"",a),new tT(null);const d=window.open(e||"",a,u);pe(d,n,"popup-blocked");try{d.focus()}catch{}return new tT(d)}function FU(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU="__/auth/handler",UU="emulator/auth/handler",VU=encodeURIComponent("fac");async function nT(n,e,t,r,s,i){pe(n.config.authDomain,n,"auth-domain-config-required"),pe(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Pl,eventId:s};if(e instanceof Qk){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",TB(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof $f){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await n._getAppCheckToken(),c=l?`#${VU}=${encodeURIComponent(l)}`:"";return`${jU(n)}?${Hf(a).slice(1)}${c}`}function jU({config:n}){return n.emulator?iE(n,UU):`https://${n.authDomain}/${BU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="webStorageSupport";class zU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eR,this._completeRedirectFn=dU,this._overrideRedirectResult=cU}async _openPopup(e,t,r,s){var i;Ai((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await nT(e,t,r,Ov(),s);return MU(e,o,uE())}async _openRedirect(e,t,r,s){await this._originValidation(e);const i=await nT(e,t,r,Ov(),s);return W3(i),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:i}=this.eventManagers[t];return s?Promise.resolve(s):(Ai(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await kU(e),r=new pU(e);return t.register("authEvent",s=>(pe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(gw,{type:gw},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[gw];o!==void 0&&t(!!o),Xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zk()||Mk()||aE()}}const HU=zU;var rT="@firebase/auth",sT="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $U(n){ul(new zo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;pe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hk(n)},c=new a3(r,s,i,l);return y3(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ul(new zo("auth-internal",e=>{const t=kl(e.getProvider("auth").getImmediate());return(r=>new GU(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),As(rT,sT,WU(n)),As(rT,sT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU=5*60,KU=vk("authIdTokenMaxAge")||QU;let iT=null;const qU=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>KU)return;const s=t==null?void 0:t.token;iT!==s&&(iT=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function JU(n=nE()){const e=My(n,"auth");if(e.isInitialized())return e.getImmediate();const t=m3(n,{popupRedirectResolver:HU,persistence:[eU,z3,eR]}),r=vk("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=qU(i.toString());F3(t,o,()=>o(t.currentUser)),M3(t,a=>o(a))}}const s=mk("auth");return s&&w3(t,`http://${s}`),t}function YU(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}l3({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const i=Ts("internal-error");i.customData=s,t(i)},r.type="text/javascript",r.charset="UTF-8",YU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$U("Browser");var XU="firebase",ZU="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As(XU,ZU,"app");var oT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var el,aR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,x){function I(){}I.prototype=x.prototype,T.D=x.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(k,N,M){for(var O=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)O[fe-2]=arguments[fe];return x.prototype[N].apply(k,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,x,I){I||(I=0);var k=Array(16);if(typeof x=="string")for(var N=0;16>N;++N)k[N]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(N=0;16>N;++N)k[N]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=T.g[0],I=T.g[1],N=T.g[2];var M=T.g[3],O=x+(M^I&(N^M))+k[0]+3614090360&4294967295;x=I+(O<<7&4294967295|O>>>25),O=M+(N^x&(I^N))+k[1]+3905402710&4294967295,M=x+(O<<12&4294967295|O>>>20),O=N+(I^M&(x^I))+k[2]+606105819&4294967295,N=M+(O<<17&4294967295|O>>>15),O=I+(x^N&(M^x))+k[3]+3250441966&4294967295,I=N+(O<<22&4294967295|O>>>10),O=x+(M^I&(N^M))+k[4]+4118548399&4294967295,x=I+(O<<7&4294967295|O>>>25),O=M+(N^x&(I^N))+k[5]+1200080426&4294967295,M=x+(O<<12&4294967295|O>>>20),O=N+(I^M&(x^I))+k[6]+2821735955&4294967295,N=M+(O<<17&4294967295|O>>>15),O=I+(x^N&(M^x))+k[7]+4249261313&4294967295,I=N+(O<<22&4294967295|O>>>10),O=x+(M^I&(N^M))+k[8]+1770035416&4294967295,x=I+(O<<7&4294967295|O>>>25),O=M+(N^x&(I^N))+k[9]+2336552879&4294967295,M=x+(O<<12&4294967295|O>>>20),O=N+(I^M&(x^I))+k[10]+4294925233&4294967295,N=M+(O<<17&4294967295|O>>>15),O=I+(x^N&(M^x))+k[11]+2304563134&4294967295,I=N+(O<<22&4294967295|O>>>10),O=x+(M^I&(N^M))+k[12]+1804603682&4294967295,x=I+(O<<7&4294967295|O>>>25),O=M+(N^x&(I^N))+k[13]+4254626195&4294967295,M=x+(O<<12&4294967295|O>>>20),O=N+(I^M&(x^I))+k[14]+2792965006&4294967295,N=M+(O<<17&4294967295|O>>>15),O=I+(x^N&(M^x))+k[15]+1236535329&4294967295,I=N+(O<<22&4294967295|O>>>10),O=x+(N^M&(I^N))+k[1]+4129170786&4294967295,x=I+(O<<5&4294967295|O>>>27),O=M+(I^N&(x^I))+k[6]+3225465664&4294967295,M=x+(O<<9&4294967295|O>>>23),O=N+(x^I&(M^x))+k[11]+643717713&4294967295,N=M+(O<<14&4294967295|O>>>18),O=I+(M^x&(N^M))+k[0]+3921069994&4294967295,I=N+(O<<20&4294967295|O>>>12),O=x+(N^M&(I^N))+k[5]+3593408605&4294967295,x=I+(O<<5&4294967295|O>>>27),O=M+(I^N&(x^I))+k[10]+38016083&4294967295,M=x+(O<<9&4294967295|O>>>23),O=N+(x^I&(M^x))+k[15]+3634488961&4294967295,N=M+(O<<14&4294967295|O>>>18),O=I+(M^x&(N^M))+k[4]+3889429448&4294967295,I=N+(O<<20&4294967295|O>>>12),O=x+(N^M&(I^N))+k[9]+568446438&4294967295,x=I+(O<<5&4294967295|O>>>27),O=M+(I^N&(x^I))+k[14]+3275163606&4294967295,M=x+(O<<9&4294967295|O>>>23),O=N+(x^I&(M^x))+k[3]+4107603335&4294967295,N=M+(O<<14&4294967295|O>>>18),O=I+(M^x&(N^M))+k[8]+1163531501&4294967295,I=N+(O<<20&4294967295|O>>>12),O=x+(N^M&(I^N))+k[13]+2850285829&4294967295,x=I+(O<<5&4294967295|O>>>27),O=M+(I^N&(x^I))+k[2]+4243563512&4294967295,M=x+(O<<9&4294967295|O>>>23),O=N+(x^I&(M^x))+k[7]+1735328473&4294967295,N=M+(O<<14&4294967295|O>>>18),O=I+(M^x&(N^M))+k[12]+2368359562&4294967295,I=N+(O<<20&4294967295|O>>>12),O=x+(I^N^M)+k[5]+4294588738&4294967295,x=I+(O<<4&4294967295|O>>>28),O=M+(x^I^N)+k[8]+2272392833&4294967295,M=x+(O<<11&4294967295|O>>>21),O=N+(M^x^I)+k[11]+1839030562&4294967295,N=M+(O<<16&4294967295|O>>>16),O=I+(N^M^x)+k[14]+4259657740&4294967295,I=N+(O<<23&4294967295|O>>>9),O=x+(I^N^M)+k[1]+2763975236&4294967295,x=I+(O<<4&4294967295|O>>>28),O=M+(x^I^N)+k[4]+1272893353&4294967295,M=x+(O<<11&4294967295|O>>>21),O=N+(M^x^I)+k[7]+4139469664&4294967295,N=M+(O<<16&4294967295|O>>>16),O=I+(N^M^x)+k[10]+3200236656&4294967295,I=N+(O<<23&4294967295|O>>>9),O=x+(I^N^M)+k[13]+681279174&4294967295,x=I+(O<<4&4294967295|O>>>28),O=M+(x^I^N)+k[0]+3936430074&4294967295,M=x+(O<<11&4294967295|O>>>21),O=N+(M^x^I)+k[3]+3572445317&4294967295,N=M+(O<<16&4294967295|O>>>16),O=I+(N^M^x)+k[6]+76029189&4294967295,I=N+(O<<23&4294967295|O>>>9),O=x+(I^N^M)+k[9]+3654602809&4294967295,x=I+(O<<4&4294967295|O>>>28),O=M+(x^I^N)+k[12]+3873151461&4294967295,M=x+(O<<11&4294967295|O>>>21),O=N+(M^x^I)+k[15]+530742520&4294967295,N=M+(O<<16&4294967295|O>>>16),O=I+(N^M^x)+k[2]+3299628645&4294967295,I=N+(O<<23&4294967295|O>>>9),O=x+(N^(I|~M))+k[0]+4096336452&4294967295,x=I+(O<<6&4294967295|O>>>26),O=M+(I^(x|~N))+k[7]+1126891415&4294967295,M=x+(O<<10&4294967295|O>>>22),O=N+(x^(M|~I))+k[14]+2878612391&4294967295,N=M+(O<<15&4294967295|O>>>17),O=I+(M^(N|~x))+k[5]+4237533241&4294967295,I=N+(O<<21&4294967295|O>>>11),O=x+(N^(I|~M))+k[12]+1700485571&4294967295,x=I+(O<<6&4294967295|O>>>26),O=M+(I^(x|~N))+k[3]+2399980690&4294967295,M=x+(O<<10&4294967295|O>>>22),O=N+(x^(M|~I))+k[10]+4293915773&4294967295,N=M+(O<<15&4294967295|O>>>17),O=I+(M^(N|~x))+k[1]+2240044497&4294967295,I=N+(O<<21&4294967295|O>>>11),O=x+(N^(I|~M))+k[8]+1873313359&4294967295,x=I+(O<<6&4294967295|O>>>26),O=M+(I^(x|~N))+k[15]+4264355552&4294967295,M=x+(O<<10&4294967295|O>>>22),O=N+(x^(M|~I))+k[6]+2734768916&4294967295,N=M+(O<<15&4294967295|O>>>17),O=I+(M^(N|~x))+k[13]+1309151649&4294967295,I=N+(O<<21&4294967295|O>>>11),O=x+(N^(I|~M))+k[4]+4149444226&4294967295,x=I+(O<<6&4294967295|O>>>26),O=M+(I^(x|~N))+k[11]+3174756917&4294967295,M=x+(O<<10&4294967295|O>>>22),O=N+(x^(M|~I))+k[2]+718787259&4294967295,N=M+(O<<15&4294967295|O>>>17),O=I+(M^(N|~x))+k[9]+3951481745&4294967295,T.g[0]=T.g[0]+x&4294967295,T.g[1]=T.g[1]+(N+(O<<21&4294967295|O>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.u=function(T,x){x===void 0&&(x=T.length);for(var I=x-this.blockSize,k=this.B,N=this.h,M=0;M<x;){if(N==0)for(;M<=I;)s(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<x;)if(k[N++]=T.charCodeAt(M++),N==this.blockSize){s(this,k),N=0;break}}else for(;M<x;)if(k[N++]=T[M++],N==this.blockSize){s(this,k),N=0;break}}this.h=N,this.o+=x},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var x=1;x<T.length-8;++x)T[x]=0;var I=8*this.o;for(x=T.length-8;x<T.length;++x)T[x]=I&255,I/=256;for(this.u(T),T=Array(16),x=I=0;4>x;++x)for(var k=0;32>k;k+=8)T[I++]=this.g[x]>>>k&255;return T};function i(T,x){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=x(T)}function o(T,x){this.h=x;for(var I=[],k=!0,N=T.length-1;0<=N;N--){var M=T[N]|0;k&&M==x||(I[N]=M,k=!1)}this.g=I}var a={};function l(T){return-128<=T&&128>T?i(T,function(x){return new o([x|0],0>x?-1:0)}):new o([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return v(c(-T));for(var x=[],I=1,k=0;T>=I;k++)x[k]=T/I|0,I*=4294967296;return new o(x,0)}function u(T,x){if(T.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(T.charAt(0)=="-")return v(u(T.substring(1),x));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(x,8)),k=d,N=0;N<T.length;N+=8){var M=Math.min(8,T.length-N),O=parseInt(T.substring(N,N+M),x);8>M?(M=c(Math.pow(x,M)),k=k.j(M).add(c(O))):(k=k.j(I),k=k.add(c(O)))}return k}var d=l(0),f=l(1),p=l(16777216);n=o.prototype,n.m=function(){if(y(this))return-v(this).m();for(var T=0,x=1,I=0;I<this.g.length;I++){var k=this.i(I);T+=(0<=k?k:4294967296+k)*x,x*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(y(this))return"-"+v(this).toString(T);for(var x=c(Math.pow(T,6)),I=this,k="";;){var N=C(I,x).g;I=w(I,N.j(x));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=N,g(I))return M+k;for(;6>M.length;)M="0"+M;k=M+k}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var x=0;x<T.g.length;x++)if(T.g[x]!=0)return!1;return!0}function y(T){return T.h==-1}n.l=function(T){return T=w(this,T),y(T)?-1:g(T)?0:1};function v(T){for(var x=T.g.length,I=[],k=0;k<x;k++)I[k]=~T.g[k];return new o(I,~T.h).add(f)}n.abs=function(){return y(this)?v(this):this},n.add=function(T){for(var x=Math.max(this.g.length,T.g.length),I=[],k=0,N=0;N<=x;N++){var M=k+(this.i(N)&65535)+(T.i(N)&65535),O=(M>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);k=O>>>16,M&=65535,O&=65535,I[N]=O<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(T,x){return T.add(v(x))}n.j=function(T){if(g(this)||g(T))return d;if(y(this))return y(T)?v(this).j(v(T)):v(v(this).j(T));if(y(T))return v(this.j(v(T)));if(0>this.l(p)&&0>T.l(p))return c(this.m()*T.m());for(var x=this.g.length+T.g.length,I=[],k=0;k<2*x;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<T.g.length;N++){var M=this.i(k)>>>16,O=this.i(k)&65535,fe=T.i(N)>>>16,G=T.i(N)&65535;I[2*k+2*N]+=O*G,_(I,2*k+2*N),I[2*k+2*N+1]+=M*G,_(I,2*k+2*N+1),I[2*k+2*N+1]+=O*fe,_(I,2*k+2*N+1),I[2*k+2*N+2]+=M*fe,_(I,2*k+2*N+2)}for(k=0;k<x;k++)I[k]=I[2*k+1]<<16|I[2*k];for(k=x;k<2*x;k++)I[k]=0;return new o(I,0)};function _(T,x){for(;(T[x]&65535)!=T[x];)T[x+1]+=T[x]>>>16,T[x]&=65535,x++}function E(T,x){this.g=T,this.h=x}function C(T,x){if(g(x))throw Error("division by zero");if(g(T))return new E(d,d);if(y(T))return x=C(v(T),x),new E(v(x.g),v(x.h));if(y(x))return x=C(T,v(x)),new E(v(x.g),x.h);if(30<T.g.length){if(y(T)||y(x))throw Error("slowDivide_ only works with positive integers.");for(var I=f,k=x;0>=k.l(T);)I=R(I),k=R(k);var N=D(I,1),M=D(k,1);for(k=D(k,2),I=D(I,2);!g(k);){var O=M.add(k);0>=O.l(T)&&(N=N.add(I),M=O),k=D(k,1),I=D(I,1)}return x=w(T,N.j(x)),new E(N,x)}for(N=d;0<=T.l(x);){for(I=Math.max(1,Math.floor(T.m()/x.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),M=c(I),O=M.j(x);y(O)||0<O.l(T);)I-=k,M=c(I),O=M.j(x);g(M)&&(M=f),N=N.add(M),T=w(T,O)}return new E(N,T)}n.A=function(T){return C(this,T).h},n.and=function(T){for(var x=Math.max(this.g.length,T.g.length),I=[],k=0;k<x;k++)I[k]=this.i(k)&T.i(k);return new o(I,this.h&T.h)},n.or=function(T){for(var x=Math.max(this.g.length,T.g.length),I=[],k=0;k<x;k++)I[k]=this.i(k)|T.i(k);return new o(I,this.h|T.h)},n.xor=function(T){for(var x=Math.max(this.g.length,T.g.length),I=[],k=0;k<x;k++)I[k]=this.i(k)^T.i(k);return new o(I,this.h^T.h)};function R(T){for(var x=T.g.length+1,I=[],k=0;k<x;k++)I[k]=T.i(k)<<1|T.i(k-1)>>>31;return new o(I,T.h)}function D(T,x){var I=x>>5;x%=32;for(var k=T.g.length-I,N=[],M=0;M<k;M++)N[M]=0<x?T.i(M+I)>>>x|T.i(M+I+1)<<32-x:T.i(M+I);return new o(N,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,aR=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,el=o}).apply(typeof oT<"u"?oT:typeof self<"u"?self:typeof window<"u"?window:{});var kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lR,$h,cR,Pg,Fv,uR,hR,dR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,m,b){return h==Array.prototype||h==Object.prototype||(h[m]=b.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof kp=="object"&&kp];for(var m=0;m<h.length;++m){var b=h[m];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=t(this);function s(h,m){if(m)e:{var b=r;h=h.split(".");for(var P=0;P<h.length-1;P++){var U=h[P];if(!(U in b))break e;b=b[U]}h=h[h.length-1],P=b[h],m=m(P),m!=P&&m!=null&&e(b,h,{configurable:!0,writable:!0,value:m})}}function i(h,m){h instanceof String&&(h+="");var b=0,P=!1,U={next:function(){if(!P&&b<h.length){var z=b++;return{value:m(z,h[z]),done:!1}}return P=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}s("Array.prototype.values",function(h){return h||function(){return i(this,function(m,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(h){var m=typeof h;return m=m!="object"?m:h?Array.isArray(h)?"array":m:"null",m=="array"||m=="object"&&typeof h.length=="number"}function c(h){var m=typeof h;return m=="object"&&h!=null||m=="function"}function u(h,m,b){return h.call.apply(h.bind,arguments)}function d(h,m,b){if(!h)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,P),h.apply(m,U)}}return function(){return h.apply(m,arguments)}}function f(h,m,b){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:d,f.apply(null,arguments)}function p(h,m){var b=Array.prototype.slice.call(arguments,1);return function(){var P=b.slice();return P.push.apply(P,arguments),h.apply(this,P)}}function g(h,m){function b(){}b.prototype=m.prototype,h.aa=m.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(P,U,z){for(var ee=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ee[Ke-2]=arguments[Ke];return m.prototype[U].apply(P,ee)}}function y(h){const m=h.length;if(0<m){const b=Array(m);for(let P=0;P<m;P++)b[P]=h[P];return b}return[]}function v(h,m){for(let b=1;b<arguments.length;b++){const P=arguments[b];if(l(P)){const U=h.length||0,z=P.length||0;h.length=U+z;for(let ee=0;ee<z;ee++)h[U+ee]=P[ee]}else h.push(P)}}class w{constructor(m,b){this.i=m,this.j=b,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function _(h){return/^[\s\xa0]*$/.test(h)}function E(){var h=a.navigator;return h&&(h=h.userAgent)?h:""}function C(h){return C[" "](h),h}C[" "]=function(){};var R=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function D(h,m,b){for(const P in h)m.call(b,h[P],P,h)}function T(h,m){for(const b in h)m.call(void 0,h[b],b,h)}function x(h){const m={};for(const b in h)m[b]=h[b];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(h,m){let b,P;for(let U=1;U<arguments.length;U++){P=arguments[U];for(b in P)h[b]=P[b];for(let z=0;z<I.length;z++)b=I[z],Object.prototype.hasOwnProperty.call(P,b)&&(h[b]=P[b])}}function N(h){var m=1;h=h.split(":");const b=[];for(;0<m&&h.length;)b.push(h.shift()),m--;return h.length&&b.push(h.join(":")),b}function M(h){a.setTimeout(()=>{throw h},0)}function O(){var h=K;let m=null;return h.g&&(m=h.g,h.g=h.g.next,h.g||(h.h=null),m.next=null),m}class fe{constructor(){this.h=this.g=null}add(m,b){const P=G.get();P.set(m,b),this.h?this.h.next=P:this.g=P,this.h=P}}var G=new w(()=>new q,h=>h.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,b){this.h=m,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,W=!1,K=new fe,te=()=>{const h=a.Promise.resolve(void 0);Z=()=>{h.then(le)}};var le=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(b){M(b)}var m=G;m.j(h),100>m.h&&(m.h++,h.next=m.g,m.g=h)}W=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(h,m){this.type=h,this.g=this.target=m,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var h=!1,m=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};a.addEventListener("test",b,m),a.removeEventListener("test",b,m)}catch{}return h}();function ke(h,m){if(ce.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,P=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=m,m=h.relatedTarget){if(R){e:{try{C(m.nodeName);var U=!0;break e}catch{}U=!1}U||(m=null)}}else b=="mouseover"?m=h.fromElement:b=="mouseout"&&(m=h.toElement);this.relatedTarget=m,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Le[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ke.aa.h.call(this)}}g(ke,ce);var Le={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),me=0;function We(h,m,b,P,U){this.listener=h,this.proxy=null,this.src=m,this.type=b,this.capture=!!P,this.ha=U,this.key=++me,this.da=this.fa=!1}function st(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Fn(h){this.src=h,this.g={},this.h=0}Fn.prototype.add=function(h,m,b,P,U){var z=h.toString();h=this.g[z],h||(h=this.g[z]=[],this.h++);var ee=Ie(h,m,P,U);return-1<ee?(m=h[ee],b||(m.fa=!1)):(m=new We(m,this.src,z,!!P,U),m.fa=b,h.push(m)),m};function Gt(h,m){var b=m.type;if(b in h.g){var P=h.g[b],U=Array.prototype.indexOf.call(P,m,void 0),z;(z=0<=U)&&Array.prototype.splice.call(P,U,1),z&&(st(m),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Ie(h,m,b,P){for(var U=0;U<h.length;++U){var z=h[U];if(!z.da&&z.listener==m&&z.capture==!!b&&z.ha==P)return U}return-1}var Mt="closure_lm_"+(1e6*Math.random()|0),Ul={};function dh(h,m,b,P,U){if(Array.isArray(m)){for(var z=0;z<m.length;z++)dh(h,m[z],b,P,U);return null}return b=Rx(b),h&&h[qe]?h.K(m,b,c(P)?!!P.capture:!!P,U):sF(h,m,b,!1,P,U)}function sF(h,m,b,P,U,z){if(!m)throw Error("Invalid event type");var ee=c(U)?!!U.capture:!!U,Ke=H0(h);if(Ke||(h[Mt]=Ke=new Fn(h)),b=Ke.add(m,b,P,ee,z),b.proxy)return b;if(P=iF(),b.proxy=P,P.src=h,P.listener=b,h.addEventListener)_e||(U=ee),U===void 0&&(U=!1),h.addEventListener(m.toString(),P,U);else if(h.attachEvent)h.attachEvent(kx(m.toString()),P);else if(h.addListener&&h.removeListener)h.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return b}function iF(){function h(b){return m.call(h.src,h.listener,b)}const m=oF;return h}function Px(h,m,b,P,U){if(Array.isArray(m))for(var z=0;z<m.length;z++)Px(h,m[z],b,P,U);else P=c(P)?!!P.capture:!!P,b=Rx(b),h&&h[qe]?(h=h.i,m=String(m).toString(),m in h.g&&(z=h.g[m],b=Ie(z,b,P,U),-1<b&&(st(z[b]),Array.prototype.splice.call(z,b,1),z.length==0&&(delete h.g[m],h.h--)))):h&&(h=H0(h))&&(m=h.g[m.toString()],h=-1,m&&(h=Ie(m,b,P,U)),(b=-1<h?m[h]:null)&&z0(b))}function z0(h){if(typeof h!="number"&&h&&!h.da){var m=h.src;if(m&&m[qe])Gt(m.i,h);else{var b=h.type,P=h.proxy;m.removeEventListener?m.removeEventListener(b,P,h.capture):m.detachEvent?m.detachEvent(kx(b),P):m.addListener&&m.removeListener&&m.removeListener(P),(b=H0(m))?(Gt(b,h),b.h==0&&(b.src=null,m[Mt]=null)):st(h)}}}function kx(h){return h in Ul?Ul[h]:Ul[h]="on"+h}function oF(h,m){if(h.da)h=!0;else{m=new ke(m,this);var b=h.listener,P=h.ha||h.src;h.fa&&z0(h),h=b.call(P,m)}return h}function H0(h){return h=h[Mt],h instanceof Fn?h:null}var G0="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rx(h){return typeof h=="function"?h:(h[G0]||(h[G0]=function(m){return h.handleEvent(m)}),h[G0])}function nn(){ae.call(this),this.i=new Fn(this),this.M=this,this.F=null}g(nn,ae),nn.prototype[qe]=!0,nn.prototype.removeEventListener=function(h,m,b,P){Px(this,h,m,b,P)};function bn(h,m){var b,P=h.F;if(P)for(b=[];P;P=P.F)b.push(P);if(h=h.M,P=m.type||m,typeof m=="string")m=new ce(m,h);else if(m instanceof ce)m.target=m.target||h;else{var U=m;m=new ce(P,h),k(m,U)}if(U=!0,b)for(var z=b.length-1;0<=z;z--){var ee=m.g=b[z];U=dp(ee,P,!0,m)&&U}if(ee=m.g=h,U=dp(ee,P,!0,m)&&U,U=dp(ee,P,!1,m)&&U,b)for(z=0;z<b.length;z++)ee=m.g=b[z],U=dp(ee,P,!1,m)&&U}nn.prototype.N=function(){if(nn.aa.N.call(this),this.i){var h=this.i,m;for(m in h.g){for(var b=h.g[m],P=0;P<b.length;P++)st(b[P]);delete h.g[m],h.h--}}this.F=null},nn.prototype.K=function(h,m,b,P){return this.i.add(String(h),m,!1,b,P)},nn.prototype.L=function(h,m,b,P){return this.i.add(String(h),m,!0,b,P)};function dp(h,m,b,P){if(m=h.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,z=0;z<m.length;++z){var ee=m[z];if(ee&&!ee.da&&ee.capture==b){var Ke=ee.listener,Wt=ee.ha||ee.src;ee.fa&&Gt(h.i,ee),U=Ke.call(Wt,P)!==!1&&U}}return U&&!P.defaultPrevented}function Nx(h,m,b){if(typeof h=="function")b&&(h=f(h,b));else if(h&&typeof h.handleEvent=="function")h=f(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(h,m||0)}function Ox(h){h.g=Nx(()=>{h.g=null,h.i&&(h.i=!1,Ox(h))},h.l);const m=h.h;h.h=null,h.m.apply(null,m)}class aF extends ae{constructor(m,b){super(),this.m=m,this.l=b,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ox(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fh(h){ae.call(this),this.h=h,this.g={}}g(fh,ae);var Dx=[];function Lx(h){D(h.g,function(m,b){this.g.hasOwnProperty(b)&&z0(m)},h),h.g={}}fh.prototype.N=function(){fh.aa.N.call(this),Lx(this)},fh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var W0=a.JSON.stringify,lF=a.JSON.parse,cF=class{stringify(h){return a.JSON.stringify(h,void 0)}parse(h){return a.JSON.parse(h,void 0)}};function $0(){}$0.prototype.h=null;function Mx(h){return h.h||(h.h=h.i())}function Fx(){}var ph={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Q0(){ce.call(this,"d")}g(Q0,ce);function K0(){ce.call(this,"c")}g(K0,ce);var ia={},Bx=null;function fp(){return Bx=Bx||new nn}ia.La="serverreachability";function Ux(h){ce.call(this,ia.La,h)}g(Ux,ce);function gh(h){const m=fp();bn(m,new Ux(m))}ia.STAT_EVENT="statevent";function Vx(h,m){ce.call(this,ia.STAT_EVENT,h),this.stat=m}g(Vx,ce);function En(h){const m=fp();bn(m,new Vx(m,h))}ia.Ma="timingevent";function jx(h,m){ce.call(this,ia.Ma,h),this.size=m}g(jx,ce);function mh(h,m){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){h()},m)}function yh(){this.g=!0}yh.prototype.xa=function(){this.g=!1};function uF(h,m,b,P,U,z){h.info(function(){if(h.g)if(z)for(var ee="",Ke=z.split("&"),Wt=0;Wt<Ke.length;Wt++){var Ue=Ke[Wt].split("=");if(1<Ue.length){var rn=Ue[0];Ue=Ue[1];var sn=rn.split("_");ee=2<=sn.length&&sn[1]=="type"?ee+(rn+"="+Ue+"&"):ee+(rn+"=redacted&")}}else ee=null;else ee=z;return"XMLHTTP REQ ("+P+") [attempt "+U+"]: "+m+`
`+b+`
`+ee})}function hF(h,m,b,P,U,z,ee){h.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+U+"]: "+m+`
`+b+`
`+z+" "+ee})}function Vl(h,m,b,P){h.info(function(){return"XMLHTTP TEXT ("+m+"): "+fF(h,b)+(P?" "+P:"")})}function dF(h,m){h.info(function(){return"TIMEOUT: "+m})}yh.prototype.info=function(){};function fF(h,m){if(!h.g)return m;if(!m)return null;try{var b=JSON.parse(m);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var P=b[h];if(!(2>P.length)){var U=P[1];if(Array.isArray(U)&&!(1>U.length)){var z=U[0];if(z!="noop"&&z!="stop"&&z!="close")for(var ee=1;ee<U.length;ee++)U[ee]=""}}}}return W0(b)}catch{return m}}var pp={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zx={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},q0;function gp(){}g(gp,$0),gp.prototype.g=function(){return new XMLHttpRequest},gp.prototype.i=function(){return{}},q0=new gp;function Li(h,m,b,P){this.j=h,this.i=m,this.l=b,this.R=P||1,this.U=new fh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Hx}function Hx(){this.i=null,this.g="",this.h=!1}var Gx={},J0={};function Y0(h,m,b){h.L=1,h.v=vp(Bs(m)),h.m=b,h.P=!0,Wx(h,null)}function Wx(h,m){h.F=Date.now(),mp(h),h.A=Bs(h.v);var b=h.A,P=h.R;Array.isArray(P)||(P=[String(P)]),iA(b.i,"t",P),h.C=0,b=h.j.J,h.h=new Hx,h.g=xA(h.j,b?m:null,!h.m),0<h.O&&(h.M=new aF(f(h.Y,h,h.g),h.O)),m=h.U,b=h.g,P=h.ca;var U="readystatechange";Array.isArray(U)||(U&&(Dx[0]=U.toString()),U=Dx);for(var z=0;z<U.length;z++){var ee=dh(b,U[z],P||m.handleEvent,!1,m.h||m);if(!ee)break;m.g[ee.key]=ee}m=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,m)):(h.u="GET",h.g.ea(h.A,h.u,null,m)),gh(),uF(h.i,h.u,h.A,h.l,h.R,h.m)}Li.prototype.ca=function(h){h=h.target;const m=this.M;m&&Us(h)==3?m.j():this.Y(h)},Li.prototype.Y=function(h){try{if(h==this.g)e:{const sn=Us(this.g);var m=this.g.Ba();const Hl=this.g.Z();if(!(3>sn)&&(sn!=3||this.g&&(this.h.h||this.g.oa()||dA(this.g)))){this.J||sn!=4||m==7||(m==8||0>=Hl?gh(3):gh(2)),X0(this);var b=this.g.Z();this.X=b;t:if($x(this)){var P=dA(this.g);h="";var U=P.length,z=Us(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){oa(this),wh(this);var ee="";break t}this.h.i=new a.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,h+=this.h.i.decode(P[m],{stream:!(z&&m==U-1)});P.length=0,this.h.g+=h,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=b==200,hF(this.i,this.u,this.A,this.l,this.R,sn,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Wt=this.g;if((Ke=Wt.g?Wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ke)){var Ue=Ke;break t}}Ue=null}if(b=Ue)Vl(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Z0(this,b);else{this.o=!1,this.s=3,En(12),oa(this),wh(this);break e}}if(this.P){b=!0;let Dr;for(;!this.J&&this.C<ee.length;)if(Dr=pF(this,ee),Dr==J0){sn==4&&(this.s=4,En(14),b=!1),Vl(this.i,this.l,null,"[Incomplete Response]");break}else if(Dr==Gx){this.s=4,En(15),Vl(this.i,this.l,ee,"[Invalid Chunk]"),b=!1;break}else Vl(this.i,this.l,Dr,null),Z0(this,Dr);if($x(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sn!=4||ee.length!=0||this.h.h||(this.s=1,En(16),b=!1),this.o=this.o&&b,!b)Vl(this.i,this.l,ee,"[Invalid Chunked Response]"),oa(this),wh(this);else if(0<ee.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),iw(rn),rn.M=!0,En(11))}}else Vl(this.i,this.l,ee,null),Z0(this,ee);sn==4&&oa(this),this.o&&!this.J&&(sn==4?vA(this.j,this):(this.o=!1,mp(this)))}else RF(this.g),b==400&&0<ee.indexOf("Unknown SID")?(this.s=3,En(12)):(this.s=0,En(13)),oa(this),wh(this)}}}catch{}finally{}};function $x(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function pF(h,m){var b=h.C,P=m.indexOf(`
`,b);return P==-1?J0:(b=Number(m.substring(b,P)),isNaN(b)?Gx:(P+=1,P+b>m.length?J0:(m=m.slice(P,P+b),h.C=P+b,m)))}Li.prototype.cancel=function(){this.J=!0,oa(this)};function mp(h){h.S=Date.now()+h.I,Qx(h,h.I)}function Qx(h,m){if(h.B!=null)throw Error("WatchDog timer not null");h.B=mh(f(h.ba,h),m)}function X0(h){h.B&&(a.clearTimeout(h.B),h.B=null)}Li.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(dF(this.i,this.A),this.L!=2&&(gh(),En(17)),oa(this),this.s=2,wh(this)):Qx(this,this.S-h)};function wh(h){h.j.G==0||h.J||vA(h.j,h)}function oa(h){X0(h);var m=h.M;m&&typeof m.ma=="function"&&m.ma(),h.M=null,Lx(h.U),h.g&&(m=h.g,h.g=null,m.abort(),m.ma())}function Z0(h,m){try{var b=h.j;if(b.G!=0&&(b.g==h||ew(b.h,h))){if(!h.K&&ew(b.h,h)&&b.G==3){try{var P=b.Da.g.parse(m)}catch{P=null}if(Array.isArray(P)&&P.length==3){var U=P;if(U[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)Tp(b),xp(b);else break e;sw(b),En(18)}}else b.za=U[1],0<b.za-b.T&&37500>U[2]&&b.F&&b.v==0&&!b.C&&(b.C=mh(f(b.Za,b),6e3));if(1>=Jx(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else la(b,11)}else if((h.K||b.g==h)&&Tp(b),!_(m))for(U=b.Da.g.parse(m),m=0;m<U.length;m++){let Ue=U[m];if(b.T=Ue[0],Ue=Ue[1],b.G==2)if(Ue[0]=="c"){b.K=Ue[1],b.ia=Ue[2];const rn=Ue[3];rn!=null&&(b.la=rn,b.j.info("VER="+b.la));const sn=Ue[4];sn!=null&&(b.Aa=sn,b.j.info("SVER="+b.Aa));const Hl=Ue[5];Hl!=null&&typeof Hl=="number"&&0<Hl&&(P=1.5*Hl,b.L=P,b.j.info("backChannelRequestTimeoutMs_="+P)),P=b;const Dr=h.g;if(Dr){const Ip=Dr.g?Dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ip){var z=P.h;z.g||Ip.indexOf("spdy")==-1&&Ip.indexOf("quic")==-1&&Ip.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(tw(z,z.h),z.h=null))}if(P.D){const ow=Dr.g?Dr.g.getResponseHeader("X-HTTP-Session-Id"):null;ow&&(P.ya=ow,Ze(P.I,P.D,ow))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),P=b;var ee=h;if(P.qa=EA(P,P.J?P.ia:null,P.W),ee.K){Yx(P.h,ee);var Ke=ee,Wt=P.L;Wt&&(Ke.I=Wt),Ke.B&&(X0(Ke),mp(Ke)),P.g=ee}else yA(P);0<b.i.length&&Ap(b)}else Ue[0]!="stop"&&Ue[0]!="close"||la(b,7);else b.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?la(b,7):rw(b):Ue[0]!="noop"&&b.l&&b.l.ta(Ue),b.v=0)}}gh(4)}catch{}}var gF=class{constructor(h,m){this.g=h,this.map=m}};function Kx(h){this.l=h||10,a.PerformanceNavigationTiming?(h=a.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qx(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Jx(h){return h.h?1:h.g?h.g.size:0}function ew(h,m){return h.h?h.h==m:h.g?h.g.has(m):!1}function tw(h,m){h.g?h.g.add(m):h.h=m}function Yx(h,m){h.h&&h.h==m?h.h=null:h.g&&h.g.has(m)&&h.g.delete(m)}Kx.prototype.cancel=function(){if(this.i=Xx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Xx(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let m=h.i;for(const b of h.g.values())m=m.concat(b.D);return m}return y(h.i)}function mF(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var m=[],b=h.length,P=0;P<b;P++)m.push(h[P]);return m}m=[],b=0;for(P in h)m[b++]=h[P];return m}function yF(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var m=[];h=h.length;for(var b=0;b<h;b++)m.push(b);return m}m=[],b=0;for(const P in h)m[b++]=P;return m}}}function Zx(h,m){if(h.forEach&&typeof h.forEach=="function")h.forEach(m,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,m,void 0);else for(var b=yF(h),P=mF(h),U=P.length,z=0;z<U;z++)m.call(void 0,P[z],b&&b[z],h)}var eA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wF(h,m){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var P=h[b].indexOf("="),U=null;if(0<=P){var z=h[b].substring(0,P);U=h[b].substring(P+1)}else z=h[b];m(z,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function aa(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof aa){this.h=h.h,yp(this,h.j),this.o=h.o,this.g=h.g,wp(this,h.s),this.l=h.l;var m=h.i,b=new bh;b.i=m.i,m.g&&(b.g=new Map(m.g),b.h=m.h),tA(this,b),this.m=h.m}else h&&(m=String(h).match(eA))?(this.h=!1,yp(this,m[1]||"",!0),this.o=vh(m[2]||""),this.g=vh(m[3]||"",!0),wp(this,m[4]),this.l=vh(m[5]||"",!0),tA(this,m[6]||"",!0),this.m=vh(m[7]||"")):(this.h=!1,this.i=new bh(null,this.h))}aa.prototype.toString=function(){var h=[],m=this.j;m&&h.push(_h(m,nA,!0),":");var b=this.g;return(b||m=="file")&&(h.push("//"),(m=this.o)&&h.push(_h(m,nA,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(_h(b,b.charAt(0)=="/"?bF:_F,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",_h(b,xF)),h.join("")};function Bs(h){return new aa(h)}function yp(h,m,b){h.j=b?vh(m,!0):m,h.j&&(h.j=h.j.replace(/:$/,""))}function wp(h,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);h.s=m}else h.s=null}function tA(h,m,b){m instanceof bh?(h.i=m,AF(h.i,h.h)):(b||(m=_h(m,EF)),h.i=new bh(m,h.h))}function Ze(h,m,b){h.i.set(m,b)}function vp(h){return Ze(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function vh(h,m){return h?m?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function _h(h,m,b){return typeof h=="string"?(h=encodeURI(h).replace(m,vF),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function vF(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var nA=/[#\/\?@]/g,_F=/[#\?:]/g,bF=/[#\?]/g,EF=/[#\?@]/g,xF=/#/g;function bh(h,m){this.h=this.g=null,this.i=h||null,this.j=!!m}function Mi(h){h.g||(h.g=new Map,h.h=0,h.i&&wF(h.i,function(m,b){h.add(decodeURIComponent(m.replace(/\+/g," ")),b)}))}n=bh.prototype,n.add=function(h,m){Mi(this),this.i=null,h=jl(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(m),this.h+=1,this};function rA(h,m){Mi(h),m=jl(h,m),h.g.has(m)&&(h.i=null,h.h-=h.g.get(m).length,h.g.delete(m))}function sA(h,m){return Mi(h),m=jl(h,m),h.g.has(m)}n.forEach=function(h,m){Mi(this),this.g.forEach(function(b,P){b.forEach(function(U){h.call(m,U,P,this)},this)},this)},n.na=function(){Mi(this);const h=Array.from(this.g.values()),m=Array.from(this.g.keys()),b=[];for(let P=0;P<m.length;P++){const U=h[P];for(let z=0;z<U.length;z++)b.push(m[P])}return b},n.V=function(h){Mi(this);let m=[];if(typeof h=="string")sA(this,h)&&(m=m.concat(this.g.get(jl(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)m=m.concat(h[b])}return m},n.set=function(h,m){return Mi(this),this.i=null,h=jl(this,h),sA(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[m]),this.h+=1,this},n.get=function(h,m){return h?(h=this.V(h),0<h.length?String(h[0]):m):m};function iA(h,m,b){rA(h,m),0<b.length&&(h.i=null,h.g.set(jl(h,m),y(b)),h.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],m=Array.from(this.g.keys());for(var b=0;b<m.length;b++){var P=m[b];const z=encodeURIComponent(String(P)),ee=this.V(P);for(P=0;P<ee.length;P++){var U=z;ee[P]!==""&&(U+="="+encodeURIComponent(String(ee[P]))),h.push(U)}}return this.i=h.join("&")};function jl(h,m){return m=String(m),h.j&&(m=m.toLowerCase()),m}function AF(h,m){m&&!h.j&&(Mi(h),h.i=null,h.g.forEach(function(b,P){var U=P.toLowerCase();P!=U&&(rA(this,P),iA(this,U,b))},h)),h.j=m}function TF(h,m){const b=new yh;if(a.Image){const P=new Image;P.onload=p(Fi,b,"TestLoadImage: loaded",!0,m,P),P.onerror=p(Fi,b,"TestLoadImage: error",!1,m,P),P.onabort=p(Fi,b,"TestLoadImage: abort",!1,m,P),P.ontimeout=p(Fi,b,"TestLoadImage: timeout",!1,m,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=h}else m(!1)}function SF(h,m){const b=new yh,P=new AbortController,U=setTimeout(()=>{P.abort(),Fi(b,"TestPingServer: timeout",!1,m)},1e4);fetch(h,{signal:P.signal}).then(z=>{clearTimeout(U),z.ok?Fi(b,"TestPingServer: ok",!0,m):Fi(b,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Fi(b,"TestPingServer: error",!1,m)})}function Fi(h,m,b,P,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),P(b)}catch{}}function IF(){this.g=new cF}function CF(h,m,b){const P=b||"";try{Zx(h,function(U,z){let ee=U;c(U)&&(ee=W0(U)),m.push(P+z+"="+encodeURIComponent(ee))})}catch(U){throw m.push(P+"type="+encodeURIComponent("_badmap")),U}}function _p(h){this.l=h.Ub||null,this.j=h.eb||!1}g(_p,$0),_p.prototype.g=function(){return new bp(this.l,this.j)},_p.prototype.i=function(h){return function(){return h}}({});function bp(h,m){nn.call(this),this.D=h,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(bp,nn),n=bp.prototype,n.open=function(h,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=m,this.readyState=1,xh(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(m.body=h),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Eh(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,xh(this)),this.g&&(this.readyState=3,xh(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oA(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function oA(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var m=h.value?h.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!h.done}))&&(this.response=this.responseText+=m)}h.done?Eh(this):xh(this),this.readyState==3&&oA(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Eh(this))},n.Qa=function(h){this.g&&(this.response=h,Eh(this))},n.ga=function(){this.g&&Eh(this)};function Eh(h){h.readyState=4,h.l=null,h.j=null,h.v=null,xh(h)}n.setRequestHeader=function(h,m){this.u.append(h,m)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],m=this.h.entries();for(var b=m.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=m.next();return h.join(`\r
`)};function xh(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(bp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function aA(h){let m="";return D(h,function(b,P){m+=P,m+=":",m+=b,m+=`\r
`}),m}function nw(h,m,b){e:{for(P in b){var P=!1;break e}P=!0}P||(b=aA(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):Ze(h,m,b))}function ht(h){nn.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(ht,nn);var PF=/^https?$/i,kF=["POST","PUT"];n=ht.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,m,b,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);m=m?m.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():q0.g(),this.v=this.o?Mx(this.o):Mx(q0),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(h),!0),this.B=!1}catch(z){lA(this,z);return}if(h=b||"",b=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var U in P)b.set(U,P[U]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const z of P.keys())b.set(z,P.get(z));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(b.keys()).find(z=>z.toLowerCase()=="content-type"),U=a.FormData&&h instanceof a.FormData,!(0<=Array.prototype.indexOf.call(kF,m,void 0))||P||U||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,ee]of b)this.g.setRequestHeader(z,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hA(this),this.u=!0,this.g.send(h),this.u=!1}catch(z){lA(this,z)}};function lA(h,m){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=m,h.m=5,cA(h),Ep(h)}function cA(h){h.A||(h.A=!0,bn(h,"complete"),bn(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,bn(this,"complete"),bn(this,"abort"),Ep(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ep(this,!0)),ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?uA(this):this.bb())},n.bb=function(){uA(this)};function uA(h){if(h.h&&typeof o<"u"&&(!h.v[1]||Us(h)!=4||h.Z()!=2)){if(h.u&&Us(h)==4)Nx(h.Ea,0,h);else if(bn(h,"readystatechange"),Us(h)==4){h.h=!1;try{const ee=h.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var b;if(!(b=m)){var P;if(P=ee===0){var U=String(h.D).match(eA)[1]||null;!U&&a.self&&a.self.location&&(U=a.self.location.protocol.slice(0,-1)),P=!PF.test(U?U.toLowerCase():"")}b=P}if(b)bn(h,"complete"),bn(h,"success");else{h.m=6;try{var z=2<Us(h)?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.Z()+"]",cA(h)}}finally{Ep(h)}}}}function Ep(h,m){if(h.g){hA(h);const b=h.g,P=h.v[0]?()=>{}:null;h.g=null,h.v=null,m||bn(h,"ready");try{b.onreadystatechange=P}catch{}}}function hA(h){h.I&&(a.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function Us(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<Us(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var m=this.g.responseText;return h&&m.indexOf(h)==0&&(m=m.substring(h.length)),lF(m)}};function dA(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function RF(h){const m={};h=(h.g&&2<=Us(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<h.length;P++){if(_(h[P]))continue;var b=N(h[P]);const U=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const z=m[U]||[];m[U]=z,z.push(b)}T(m,function(P){return P.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ah(h,m,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||m}function fA(h){this.Aa=0,this.i=[],this.j=new yh,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ah("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ah("baseRetryDelayMs",5e3,h),this.cb=Ah("retryDelaySeedMs",1e4,h),this.Wa=Ah("forwardChannelMaxRetries",2,h),this.wa=Ah("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Kx(h&&h.concurrentRequestLimit),this.Da=new IF,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=fA.prototype,n.la=8,n.G=1,n.connect=function(h,m,b,P){En(0),this.W=h,this.H=m||{},b&&P!==void 0&&(this.H.OSID=b,this.H.OAID=P),this.F=this.X,this.I=EA(this,null,this.W),Ap(this)};function rw(h){if(pA(h),h.G==3){var m=h.U++,b=Bs(h.I);if(Ze(b,"SID",h.K),Ze(b,"RID",m),Ze(b,"TYPE","terminate"),Th(h,b),m=new Li(h,h.j,m),m.L=2,m.v=vp(Bs(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=m.v,b=!0),b||(m.g=xA(m.j,null),m.g.ea(m.v)),m.F=Date.now(),mp(m)}bA(h)}function xp(h){h.g&&(iw(h),h.g.cancel(),h.g=null)}function pA(h){xp(h),h.u&&(a.clearTimeout(h.u),h.u=null),Tp(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&a.clearTimeout(h.s),h.s=null)}function Ap(h){if(!qx(h.h)&&!h.s){h.s=!0;var m=h.Ga;Z||te(),W||(Z(),W=!0),K.add(m,h),h.B=0}}function NF(h,m){return Jx(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=m.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=mh(f(h.Ga,h,m),_A(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const U=new Li(this,this.j,h);let z=this.o;if(this.S&&(z?(z=x(z),k(z,this.S)):z=this.S),this.m!==null||this.O||(U.H=z,z=null),this.P)e:{for(var m=0,b=0;b<this.i.length;b++){t:{var P=this.i[b];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(m+=P,4096<m){m=b;break e}if(m===4096||b===this.i.length-1){m=b+1;break e}}m=1e3}else m=1e3;m=mA(this,U,m),b=Bs(this.I),Ze(b,"RID",h),Ze(b,"CVER",22),this.D&&Ze(b,"X-HTTP-Session-Id",this.D),Th(this,b),z&&(this.O?m="headers="+encodeURIComponent(String(aA(z)))+"&"+m:this.m&&nw(b,this.m,z)),tw(this.h,U),this.Ua&&Ze(b,"TYPE","init"),this.P?(Ze(b,"$req",m),Ze(b,"SID","null"),U.T=!0,Y0(U,b,null)):Y0(U,b,m),this.G=2}}else this.G==3&&(h?gA(this,h):this.i.length==0||qx(this.h)||gA(this))};function gA(h,m){var b;m?b=m.l:b=h.U++;const P=Bs(h.I);Ze(P,"SID",h.K),Ze(P,"RID",b),Ze(P,"AID",h.T),Th(h,P),h.m&&h.o&&nw(P,h.m,h.o),b=new Li(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),m&&(h.i=m.D.concat(h.i)),m=mA(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),tw(h.h,b),Y0(b,P,m)}function Th(h,m){h.H&&D(h.H,function(b,P){Ze(m,P,b)}),h.l&&Zx({},function(b,P){Ze(m,P,b)})}function mA(h,m,b){b=Math.min(h.i.length,b);var P=h.l?f(h.l.Na,h.l,h):null;e:{var U=h.i;let z=-1;for(;;){const ee=["count="+b];z==-1?0<b?(z=U[0].g,ee.push("ofs="+z)):z=0:ee.push("ofs="+z);let Ke=!0;for(let Wt=0;Wt<b;Wt++){let Ue=U[Wt].g;const rn=U[Wt].map;if(Ue-=z,0>Ue)z=Math.max(0,U[Wt].g-100),Ke=!1;else try{CF(rn,ee,"req"+Ue+"_")}catch{P&&P(rn)}}if(Ke){P=ee.join("&");break e}}}return h=h.i.splice(0,b),m.D=h,P}function yA(h){if(!h.g&&!h.u){h.Y=1;var m=h.Fa;Z||te(),W||(Z(),W=!0),K.add(m,h),h.v=0}}function sw(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=mh(f(h.Fa,h),_A(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,wA(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=mh(f(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,En(10),xp(this),wA(this))};function iw(h){h.A!=null&&(a.clearTimeout(h.A),h.A=null)}function wA(h){h.g=new Li(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var m=Bs(h.qa);Ze(m,"RID","rpc"),Ze(m,"SID",h.K),Ze(m,"AID",h.T),Ze(m,"CI",h.F?"0":"1"),!h.F&&h.ja&&Ze(m,"TO",h.ja),Ze(m,"TYPE","xmlhttp"),Th(h,m),h.m&&h.o&&nw(m,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=vp(Bs(m)),b.m=null,b.P=!0,Wx(b,h)}n.Za=function(){this.C!=null&&(this.C=null,xp(this),sw(this),En(19))};function Tp(h){h.C!=null&&(a.clearTimeout(h.C),h.C=null)}function vA(h,m){var b=null;if(h.g==m){Tp(h),iw(h),h.g=null;var P=2}else if(ew(h.h,m))b=m.D,Yx(h.h,m),P=1;else return;if(h.G!=0){if(m.o)if(P==1){b=m.m?m.m.length:0,m=Date.now()-m.F;var U=h.B;P=fp(),bn(P,new jx(P,b)),Ap(h)}else yA(h);else if(U=m.s,U==3||U==0&&0<m.X||!(P==1&&NF(h,m)||P==2&&sw(h)))switch(b&&0<b.length&&(m=h.h,m.i=m.i.concat(b)),U){case 1:la(h,5);break;case 4:la(h,10);break;case 3:la(h,6);break;default:la(h,2)}}}function _A(h,m){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*m}function la(h,m){if(h.j.info("Error code "+m),m==2){var b=f(h.fb,h),P=h.Xa;const U=!P;P=new aa(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||yp(P,"https"),vp(P),U?TF(P.toString(),b):SF(P.toString(),b)}else En(2);h.G=0,h.l&&h.l.sa(m),bA(h),pA(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),En(2)):(this.j.info("Failed to ping google.com"),En(1))};function bA(h){if(h.G=0,h.ka=[],h.l){const m=Xx(h.h);(m.length!=0||h.i.length!=0)&&(v(h.ka,m),v(h.ka,h.i),h.h.i.length=0,y(h.i),h.i.length=0),h.l.ra()}}function EA(h,m,b){var P=b instanceof aa?Bs(b):new aa(b);if(P.g!="")m&&(P.g=m+"."+P.g),wp(P,P.s);else{var U=a.location;P=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var z=new aa(null);P&&yp(z,P),m&&(z.g=m),U&&wp(z,U),b&&(z.l=b),P=z}return b=h.D,m=h.ya,b&&m&&Ze(P,b,m),Ze(P,"VER",h.la),Th(h,P),P}function xA(h,m,b){if(m&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=h.Ca&&!h.pa?new ht(new _p({eb:b})):new ht(h.pa),m.Ha(h.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function AA(){}n=AA.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Sp(){}Sp.prototype.g=function(h,m){return new Zn(h,m)};function Zn(h,m){nn.call(this),this.g=new fA(m),this.l=h,this.h=m&&m.messageUrlParams||null,h=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(h?h["X-WebChannel-Content-Type"]=m.messageContentType:h={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(h?h["X-WebChannel-Client-Profile"]=m.va:h={"X-WebChannel-Client-Profile":m.va}),this.g.S=h,(h=m&&m.Sb)&&!_(h)&&(this.g.m=h),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!_(m)&&(this.g.D=m,h=this.h,h!==null&&m in h&&(h=this.h,m in h&&delete h[m])),this.j=new zl(this)}g(Zn,nn),Zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){rw(this.g)},Zn.prototype.o=function(h){var m=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=W0(h),h=b);m.i.push(new gF(m.Ya++,h)),m.G==3&&Ap(m)},Zn.prototype.N=function(){this.g.l=null,delete this.j,rw(this.g),delete this.g,Zn.aa.N.call(this)};function TA(h){Q0.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var m=h.__sm__;if(m){e:{for(const b in m){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,m=m!==null&&h in m?m[h]:void 0),this.data=m}else this.data=h}g(TA,Q0);function SA(){K0.call(this),this.status=1}g(SA,K0);function zl(h){this.g=h}g(zl,AA),zl.prototype.ua=function(){bn(this.g,"a")},zl.prototype.ta=function(h){bn(this.g,new TA(h))},zl.prototype.sa=function(h){bn(this.g,new SA)},zl.prototype.ra=function(){bn(this.g,"b")},Sp.prototype.createWebChannel=Sp.prototype.g,Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,dR=function(){return new Sp},hR=function(){return fp()},uR=ia,Fv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},pp.NO_ERROR=0,pp.TIMEOUT=8,pp.HTTP_ERROR=6,Pg=pp,zx.COMPLETE="complete",cR=zx,Fx.EventType=ph,ph.OPEN="a",ph.CLOSE="b",ph.ERROR="c",ph.MESSAGE="d",nn.prototype.listen=nn.prototype.K,$h=Fx,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,lR=ht}).apply(typeof kp<"u"?kp:typeof self<"u"?self:typeof window<"u"?window:{});const aT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=new eE("@firebase/firestore");function Xl(){return fl.logLevel}function ne(n,...e){if(fl.logLevel<=Ce.DEBUG){const t=e.map(dE);fl.debug(`Firestore (${eh}): ${n}`,...t)}}function Ti(n,...e){if(fl.logLevel<=Ce.ERROR){const t=e.map(dE);fl.error(`Firestore (${eh}): ${n}`,...t)}}function Cu(n,...e){if(fl.logLevel<=Ce.WARN){const t=e.map(dE);fl.warn(`Firestore (${eh}): ${n}`,...t)}}function dE(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(n="Unexpected state"){const e=`FIRESTORE (${eh}) INTERNAL ASSERTION FAILED: `+n;throw Ti(e),new Error(e)}function ze(n,e){n||ge()}function we(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Ms{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fn.UNAUTHENTICATED))}shutdown(){}}class tV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class nV{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve();let i=new Ro;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ro,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ro)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new fR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new fn(e)}}class rV{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sV{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new rV(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oV{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ze(this.o===void 0);const r=i=>{i.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ze(typeof t.token=="string"),this.R=t.token,new iV(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=aV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<t&&(r+=e.charAt(s[i]%e.length))}return r}}function Oe(n,e){return n<e?-1:n>e?1:0}function Pu(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Dt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new Dt(0,0))}static max(){return new ye(new Dt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,t,r){t===void 0?t=0:t>e.length&&ge(),r===void 0?r=e.length-t:r>e.length-t&&ge(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Dd.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Dd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const i=e.get(s),o=t.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class gt extends Dd{construct(e,t,r){return new gt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new gt(t)}static emptyPath(){return new gt([])}}const lV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Dd{construct(e,t,r){return new Jt(e,t,r)}static isValidIdentifier(e){return lV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ue(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ue(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ue(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ue(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(gt.fromString(e))}static fromName(e){return new he(gt.fromString(e).popFirst(5))}static empty(){return new he(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new gt(e.slice()))}}function cV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=ye.fromTimestamp(r===1e9?new Dt(t+1,0):new Dt(t,r));return new Ho(s,he.empty(),e)}function uV(n){return new Ho(n.readTime,n.key,-1)}class Ho{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ho(ye.min(),he.empty(),-1)}static max(){return new Ho(ye.max(),he.empty(),-1)}}function hV(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=he.comparator(n.documentKey,e.documentKey),t!==0?t:Oe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function th(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==dV)throw n;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof $?t:$.resolve(t)}catch(t){return $.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):$.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):$.reject(t)}static resolve(e){return new $((t,r)=>{t(e)})}static reject(e){return new $((t,r)=>{r(e)})}static waitFor(e){return new $((t,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&t()},l=>r(l))}),o=!0,i===s&&t()})}static or(e){let t=$.resolve(!1);for(const r of e)t=t.next(s=>s?$.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,i)=>{r.push(t.call(this,s,i))}),this.waitFor(r)}static mapArray(e,t){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;t(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,t){return new $((r,s)=>{const i=()=>{e()===!0?t().next(()=>{i()},s):r()};i()})}}function pV(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function nh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Vy.oe=-1;function jy(n){return n==null}function mm(n){return n===0&&1/n==-1/0}function gV(n){return typeof n=="number"&&Number.isInteger(n)&&!mm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=lT(e)),e=yV(n.get(t),e);return lT(e)}function yV(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const i=n.charAt(s);switch(i){case"\0":t+="";break;case"":t+="";break;default:t+=i}}return t}function lT(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Rl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,t){this.comparator=e,this.root=t||Kt.EMPTY}insert(e,t){return new ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rp(this.root,e,this.comparator,!0)}}class Rp{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,t,r,s,i){this.key=e,this.value=t,this.color=r??Kt.RED,this.left=s??Kt.EMPTY,this.right=i??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,i){return new Kt(e??this.key,t??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,t,r),null):i===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Kt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,t,r,s,i){return this}insert(e,t,r){return new Kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uT(this.data.getIterator())}getIteratorFrom(e){return new uT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new zt(this.comparator);return t.data=e,t}}class uT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Kr([])}unionWith(e){let t=new zt(Jt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Kr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new mR("Invalid base64 string: "+i):i}}(e);return new en(t)}static fromUint8Array(e){const t=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new en(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const wV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Go(n){if(ze(!!n),typeof n=="string"){let e=0;const t=wV.exec(n);if(ze(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wt(n.seconds),nanos:wt(n.nanos)}}function wt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Wo(n){return typeof n=="string"?en.fromBase64String(n):en.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function zy(n){const e=n.mapValue.fields.__previous_value__;return fE(e)?zy(e):e}function Ld(n){const e=Go(n.mapValue.fields.__local_write_time__.timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,t,r,s,i,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Md{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Md("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Md&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $o(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?fE(n)?4:bV(n)?9007199254740991:_V(n)?10:11:ge()}function Os(n,e){if(n===e)return!0;const t=$o(n);if(t!==$o(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ld(n).isEqual(Ld(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Go(s.timestampValue),a=Go(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,i){return Wo(s.bytesValue).isEqual(Wo(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,i){return wt(s.geoPointValue.latitude)===wt(i.geoPointValue.latitude)&&wt(s.geoPointValue.longitude)===wt(i.geoPointValue.longitude)}(n,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return wt(s.integerValue)===wt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=wt(s.doubleValue),a=wt(i.doubleValue);return o===a?mm(o)===mm(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Pu(n.arrayValue.values||[],e.arrayValue.values||[],Os);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(cT(o)!==cT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Os(o[l],a[l])))return!1;return!0}(n,e);default:return ge()}}function Fd(n,e){return(n.values||[]).find(t=>Os(t,e))!==void 0}function ku(n,e){if(n===e)return 0;const t=$o(n),r=$o(e);if(t!==r)return Oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(n.booleanValue,e.booleanValue);case 2:return function(i,o){const a=wt(i.integerValue||i.doubleValue),l=wt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return hT(n.timestampValue,e.timestampValue);case 4:return hT(Ld(n),Ld(e));case 5:return Oe(n.stringValue,e.stringValue);case 6:return function(i,o){const a=Wo(i),l=Wo(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Oe(a[c],l[c]);if(u!==0)return u}return Oe(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Oe(wt(i.latitude),wt(o.latitude));return a!==0?a:Oe(wt(i.longitude),wt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return dT(n.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,u;const d=i.fields||{},f=o.fields||{},p=(a=d.value)===null||a===void 0?void 0:a.arrayValue,g=(l=f.value)===null||l===void 0?void 0:l.arrayValue,y=Oe(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return y!==0?y:dT(p,g)}(n.mapValue,e.mapValue);case 11:return function(i,o){if(i===Np.mapValue&&o===Np.mapValue)return 0;if(i===Np.mapValue)return 1;if(o===Np.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const f=Oe(l[d],u[d]);if(f!==0)return f;const p=ku(a[l[d]],c[u[d]]);if(p!==0)return p}return Oe(l.length,u.length)}(n.mapValue,e.mapValue);default:throw ge()}}function hT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Oe(n,e);const t=Go(n),r=Go(e),s=Oe(t.seconds,r.seconds);return s!==0?s:Oe(t.nanos,r.nanos)}function dT(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const i=ku(t[s],r[s]);if(i)return i}return Oe(t.length,r.length)}function Ru(n){return Bv(n)}function Bv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Go(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Wo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return he.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const i of t.values||[])s?s=!1:r+=",",r+=Bv(i);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Bv(t.fields[o])}`;return s+"}"}(n.mapValue):ge()}function kg(n){switch($o(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zy(n);return e?16+kg(e):16;case 5:return 2*n.stringValue.length;case 6:return Wo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+kg(i),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Rl(r.fields,(i,o)=>{s+=i.length+kg(o)}),s}(n.mapValue);default:throw ge()}}function Uv(n){return!!n&&"integerValue"in n}function pE(n){return!!n&&"arrayValue"in n}function fT(n){return!!n&&"nullValue"in n}function pT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rg(n){return!!n&&"mapValue"in n}function _V(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ud(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Rl(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ud(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ud(n.arrayValue.values[t]);return e}return Object.assign({},n)}function bV(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.value=e}static empty(){return new Tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Rg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ud(t)}setAll(e){let t=Jt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,r,s),r={},s=[],t=a.popLast()}o?r[a.lastSegment()]=ud(o):s.push(a.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,r,s)}delete(e){const t=this.field(e.popLast());Rg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Os(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Rg(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Rl(t,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Tr(ud(this.value))}}function yR(n){const e=[];return Rl(n.fields,(t,r)=>{const s=new Jt([t]);if(Rg(r)){const i=yR(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,t,r,s,i,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new pn(e,0,ye.min(),ye.min(),ye.min(),Tr.empty(),0)}static newFoundDocument(e,t,r,s){return new pn(e,1,t,ye.min(),r,s,0)}static newNoDocument(e,t){return new pn(e,2,t,ye.min(),ye.min(),Tr.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,ye.min(),ye.min(),Tr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(e,t){this.position=e,this.inclusive=t}}function gT(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const i=e[s],o=n.position[s];if(i.field.isKeyField()?r=he.comparator(he.fromName(o.referenceValue),t.key):r=ku(o,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function mT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Os(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,t="asc"){this.field=e,this.dir=t}}function EV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{}class kt extends wR{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new AV(e,t,r):t==="array-contains"?new IV(e,r):t==="in"?new CV(e,r):t==="not-in"?new PV(e,r):t==="array-contains-any"?new kV(e,r):new kt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new TV(e,r):new SV(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ku(t,this.value)):t!==null&&$o(this.value)===$o(t)&&this.matchesComparison(ku(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ds extends wR{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ds(e,t)}matches(e){return vR(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vR(n){return n.op==="and"}function _R(n){return xV(n)&&vR(n)}function xV(n){for(const e of n.filters)if(e instanceof Ds)return!1;return!0}function Vv(n){if(n instanceof kt)return n.field.canonicalString()+n.op.toString()+Ru(n.value);if(_R(n))return n.filters.map(e=>Vv(e)).join(",");{const e=n.filters.map(t=>Vv(t)).join(",");return`${n.op}(${e})`}}function bR(n,e){return n instanceof kt?function(r,s){return s instanceof kt&&r.op===s.op&&r.field.isEqual(s.field)&&Os(r.value,s.value)}(n,e):n instanceof Ds?function(r,s){return s instanceof Ds&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&bR(o,s.filters[a]),!0):!1}(n,e):void ge()}function ER(n){return n instanceof kt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ru(t.value)}`}(n):n instanceof Ds?function(t){return t.op.toString()+" {"+t.getFilters().map(ER).join(" ,")+"}"}(n):"Filter"}class AV extends kt{constructor(e,t,r){super(e,t,r),this.key=he.fromName(r.referenceValue)}matches(e){const t=he.comparator(e.key,this.key);return this.matchesComparison(t)}}class TV extends kt{constructor(e,t){super(e,"in",t),this.keys=xR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class SV extends kt{constructor(e,t){super(e,"not-in",t),this.keys=xR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>he.fromName(r.referenceValue))}class IV extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return pE(t)&&Fd(t.arrayValue,this.value)}}class CV extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Fd(this.value.arrayValue,t)}}class PV extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Fd(this.value.arrayValue,t)}}class kV extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!pE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Fd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,t=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function yT(n,e=null,t=[],r=[],s=null,i=null,o=null){return new RV(n,e,t,r,s,i,o)}function gE(n){const e=we(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Vv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),jy(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ru(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ru(r)).join(",")),e.ue=t}return e.ue}function mE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!EV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!bR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mT(n.startAt,e.startAt)&&mT(n.endAt,e.endAt)}function jv(n){return he.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(e,t=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function NV(n,e,t,r,s,i,o,a){return new Hy(n,e,t,r,s,i,o,a)}function yE(n){return new Hy(n)}function wT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function OV(n){return n.collectionGroup!==null}function hd(n){const e=we(n);if(e.ce===null){e.ce=[];const t=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),t.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new zt(Jt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.ce.push(new wm(i,r))}),t.has(Jt.keyField().canonicalString())||e.ce.push(new wm(Jt.keyField(),r))}return e.ce}function Is(n){const e=we(n);return e.le||(e.le=DV(e,hd(n))),e.le}function DV(n,e){if(n.limitType==="F")return yT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new wm(s.field,i)});const t=n.endAt?new ym(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ym(n.startAt.position,n.startAt.inclusive):null;return yT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function zv(n,e,t){return new Hy(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gy(n,e){return mE(Is(n),Is(e))&&n.limitType===e.limitType}function AR(n){return`${gE(Is(n))}|lt:${n.limitType}`}function Zl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>ER(s)).join(", ")}]`),jy(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Ru(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Ru(s)).join(",")),`Target(${r})`}(Is(n))}; limitType=${n.limitType})`}function Wy(n,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):he.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(n,e)&&function(r,s){for(const i of hd(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=gT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,hd(r),s)||r.endAt&&!function(o,a,l){const c=gT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,hd(r),s))}(n,e)}function LV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function TR(n){return(e,t)=>{let r=!1;for(const s of hd(n)){const i=MV(s,e,t);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function MV(n,e,t){const r=n.field.isKeyField()?he.comparator(e.key,t.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?ku(l,c):ge()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Rl(this.inner,(t,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return gR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=new ct(he.comparator);function Si(){return FV}const SR=new ct(he.comparator);function Qh(...n){let e=SR;for(const t of n)e=e.insert(t.key,t);return e}function IR(n){let e=SR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Aa(){return dd()}function CR(){return dd()}function dd(){return new Nl(n=>n.toString(),(n,e)=>n.isEqual(e))}const BV=new ct(he.comparator),UV=new zt(he.comparator);function Pe(...n){let e=UV;for(const t of n)e=e.add(t);return e}const VV=new zt(Oe);function jV(){return VV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mm(e)?"-0":e}}function PR(n){return{integerValue:""+n}}function zV(n,e){return gV(e)?PR(e):wE(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this._=void 0}}function HV(n,e,t){return n instanceof vm?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&fE(i)&&(i=zy(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof Bd?RR(n,e):n instanceof Ud?NR(n,e):function(s,i){const o=kR(s,i),a=vT(o)+vT(s.Pe);return Uv(o)&&Uv(s.Pe)?PR(a):wE(s.serializer,a)}(n,e)}function GV(n,e,t){return n instanceof Bd?RR(n,e):n instanceof Ud?NR(n,e):t}function kR(n,e){return n instanceof _m?function(r){return Uv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class vm extends $y{}class Bd extends $y{constructor(e){super(),this.elements=e}}function RR(n,e){const t=OR(e);for(const r of n.elements)t.some(s=>Os(s,r))||t.push(r);return{arrayValue:{values:t}}}class Ud extends $y{constructor(e){super(),this.elements=e}}function NR(n,e){let t=OR(e);for(const r of n.elements)t=t.filter(s=>!Os(s,r));return{arrayValue:{values:t}}}class _m extends $y{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function vT(n){return wt(n.integerValue||n.doubleValue)}function OR(n){return pE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function WV(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Bd&&s instanceof Bd||r instanceof Ud&&s instanceof Ud?Pu(r.elements,s.elements,Os):r instanceof _m&&s instanceof _m?Os(r.Pe,s.Pe):r instanceof vm&&s instanceof vm}(n.transform,e.transform)}class $V{constructor(e,t){this.version=e,this.transformResults=t}}class vi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vi}static exists(e){return new vi(void 0,e)}static updateTime(e){return new vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ng(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Qy{}function DR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new MR(n.key,vi.none()):new Kf(n.key,n.data,vi.none());{const t=n.data,r=Tr.empty();let s=new zt(Jt.comparator);for(let i of e.fields)if(!s.has(i)){let o=t.field(i);o===null&&i.length>1&&(i=i.popLast(),o=t.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ol(n.key,r,new Kr(s.toArray()),vi.none())}}function QV(n,e,t){n instanceof Kf?function(s,i,o){const a=s.value.clone(),l=bT(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ol?function(s,i,o){if(!Ng(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=bT(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(LR(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function fd(n,e,t,r){return n instanceof Kf?function(i,o,a,l){if(!Ng(i.precondition,o))return a;const c=i.value.clone(),u=ET(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ol?function(i,o,a,l){if(!Ng(i.precondition,o))return a;const c=ET(i.fieldTransforms,l,o),u=o.data;return u.setAll(LR(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(n,e,t,r):function(i,o,a){return Ng(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function KV(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),i=kR(r.transform,s||null);i!=null&&(t===null&&(t=Tr.empty()),t.set(r.field,i))}return t||null}function _T(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Pu(r,s,(i,o)=>WV(i,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Kf extends Qy{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ol extends Qy{constructor(e,t,r,s,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function LR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function bT(n,e,t){const r=new Map;ze(n.length===t.length);for(let s=0;s<t.length;s++){const i=n[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,GV(o,a,t[s]))}return r}function ET(n,e,t){const r=new Map;for(const s of n){const i=s.transform,o=t.data.field(s.field);r.set(s.field,HV(i,o,e))}return r}class MR extends Qy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qV extends Qy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&QV(i,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=fd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=fd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=CR();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(s.key)?null:a;const l=DR(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Pu(this.mutations,e.mutations,(t,r)=>_T(t,r))&&Pu(this.baseMutations,e.baseMutations,(t,r)=>_T(t,r))}}class vE{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){ze(e.mutations.length===r.length);let s=function(){return BV}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new vE(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Re;function ZV(n){switch(n){default:return ge();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}function FR(n){if(n===void 0)return Ti("GRPC error has no .code"),Y.UNKNOWN;switch(n){case St.OK:return Y.OK;case St.CANCELLED:return Y.CANCELLED;case St.UNKNOWN:return Y.UNKNOWN;case St.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case St.INTERNAL:return Y.INTERNAL;case St.UNAVAILABLE:return Y.UNAVAILABLE;case St.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case St.NOT_FOUND:return Y.NOT_FOUND;case St.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case St.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case St.ABORTED:return Y.ABORTED;case St.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case St.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case St.DATA_LOSS:return Y.DATA_LOSS;default:return ge()}}(Re=St||(St={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=new el([4294967295,4294967295],0);function xT(n){const e=e5().encode(n),t=new aR;return t.update(e),new Uint8Array(t.digest())}function AT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new el([t,r],0),new el([s,i],0)]}class _E{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Kh(`Invalid padding: ${t}`);if(r<0)throw new Kh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Kh(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=el.fromNumber(this.Ie)}Ee(e,t,r){let s=e.add(t.multiply(el.fromNumber(r)));return s.compare(t5)===1&&(s=new el([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=xT(e),[r,s]=AT(t);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new _E(i,s,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const t=xT(e),[r,s]=AT(t);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Kh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,t,r,s,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,qf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ky(ye.min(),s,new ct(Oe),Si(),Pe())}}class qf{constructor(e,t,r,s,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new qf(r,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,t,r,s){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=s}}class BR{constructor(e,t){this.targetId=e,this.me=t}}class UR{constructor(e,t,r=en.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class TT{constructor(){this.fe=0,this.ge=IT(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),t=Pe(),r=Pe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ge()}}),new qf(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=IT()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class n5{constructor(e){this.Le=e,this.Be=new Map,this.ke=Si(),this.qe=ST(),this.Qe=new ct(Oe)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,s)=>{this.ze(s)&&t(s)})}He(e){const t=e.targetId,r=e.me.count,s=this.Je(t);if(s){const i=s.target;if(jv(i))if(r===0){const o=new he(i.path);this.Ue(t,o,pn.newNoDocument(o,ye.min()))}else ze(r===1);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,c)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=t;let o,a;try{o=Wo(r).toUint8Array()}catch(l){if(l instanceof mR)return Cu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new _E(o,s,i)}catch(l){return Cu(l instanceof Kh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,i,null),s++)}),s}rt(e){const t=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&jv(a.target)){const l=new he(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,pn.newNoDocument(l,e))}i.be&&(t.set(o,i.ve()),i.Ce())}});let r=Pe();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Ky(e,t,this.Qe,this.ke,r);return this.ke=Si(),this.qe=ST(),this.Qe=new ct(Oe),s}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,t)?s.Fe(t,1):s.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new TT,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new zt(Oe),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ne("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new TT),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ST(){return new ct(he.comparator)}function IT(){return new ct(he.comparator)}const r5={asc:"ASCENDING",desc:"DESCENDING"},s5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i5={and:"AND",or:"OR"};class o5{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hv(n,e){return n.useProto3Json||jy(e)?e:{value:e}}function bm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function a5(n,e){return bm(n,e.toTimestamp())}function Cs(n){return ze(!!n),ye.fromTimestamp(function(t){const r=Go(t);return new Dt(r.seconds,r.nanos)}(n))}function bE(n,e){return Gv(n,e).canonicalString()}function Gv(n,e){const t=function(s){return new gt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function jR(n){const e=gt.fromString(n);return ze($R(e)),e}function Wv(n,e){return bE(n.databaseId,e.path)}function mw(n,e){const t=jR(e);if(t.get(1)!==n.databaseId.projectId)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new he(HR(t))}function zR(n,e){return bE(n.databaseId,e)}function l5(n){const e=jR(n);return e.length===4?gt.emptyPath():HR(e)}function $v(n){return new gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function HR(n){return ze(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function CT(n,e,t){return{name:Wv(n,e),fields:t.value.mapValue.fields}}function c5(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(ze(u===void 0||typeof u=="string"),en.fromBase64String(u||"")):(ze(u===void 0||u instanceof Buffer||u instanceof Uint8Array),en.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?Y.UNKNOWN:FR(c.code);return new ue(u,c.message||"")}(o);t=new UR(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=mw(n,r.document.name),i=Cs(r.document.updateTime),o=r.document.createTime?Cs(r.document.createTime):ye.min(),a=new Tr({mapValue:{fields:r.document.fields}}),l=pn.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];t=new Og(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=mw(n,r.document),i=r.readTime?Cs(r.readTime):ye.min(),o=pn.newNoDocument(s,i),a=r.removedTargetIds||[];t=new Og([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=mw(n,r.document),i=r.removedTargetIds||[];t=new Og([],i,s,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new XV(s,i),a=r.targetId;t=new BR(a,o)}}return t}function u5(n,e){let t;if(e instanceof Kf)t={update:CT(n,e.key,e.value)};else if(e instanceof MR)t={delete:Wv(n,e.key)};else if(e instanceof Ol)t={update:CT(n,e.key,e.data),updateMask:v5(e.fieldMask)};else{if(!(e instanceof qV))return ge();t={verify:Wv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof vm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ud)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _m)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ge()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:a5(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ge()}(n,e.precondition)),t}function h5(n,e){return n&&n.length>0?(ze(e!==void 0),n.map(t=>function(s,i){let o=s.updateTime?Cs(s.updateTime):Cs(i);return o.isEqual(ye.min())&&(o=Cs(i)),new $V(o,s.transformResults||[])}(t,e))):[]}function d5(n,e){return{documents:[zR(n,e.path)]}}function f5(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=zR(n,s);const i=function(c){if(c.length!==0)return WR(Ds.create(c,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:ec(f.field),direction:m5(f.dir)}}(u))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=Hv(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:s}}function p5(n){let e=l5(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){ze(r===1);const u=t.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];t.where&&(i=function(d){const f=GR(d);return f instanceof Ds&&_R(f)?f.getFilters():[f]}(t.where));let o=[];t.orderBy&&(o=function(d){return d.map(f=>function(g){return new wm(tc(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(t.orderBy));let a=null;t.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,jy(f)?null:f}(t.limit));let l=null;t.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new ym(p,f)}(t.startAt));let c=null;return t.endAt&&(c=function(d){const f=!d.before,p=d.values||[];return new ym(p,f)}(t.endAt)),NV(e,s,o,i,a,"F",l,c)}function g5(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function GR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=tc(t.unaryFilter.field);return kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=tc(t.unaryFilter.field);return kt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=tc(t.unaryFilter.field);return kt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=tc(t.unaryFilter.field);return kt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(n):n.fieldFilter!==void 0?function(t){return kt.create(tc(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ds.create(t.compositeFilter.filters.map(r=>GR(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ge()}}(t.compositeFilter.op))}(n):ge()}function m5(n){return r5[n]}function y5(n){return s5[n]}function w5(n){return i5[n]}function ec(n){return{fieldPath:n.canonicalString()}}function tc(n){return Jt.fromServerFormat(n.fieldPath)}function WR(n){return n instanceof kt?function(t){if(t.op==="=="){if(pT(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NAN"}};if(fT(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(pT(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NOT_NAN"}};if(fT(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ec(t.field),op:y5(t.op),value:t.value}}}(n):n instanceof Ds?function(t){const r=t.getFilters().map(s=>WR(s));return r.length===1?r[0]:{compositeFilter:{op:w5(t.op),filters:r}}}(n):ge()}function v5(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function $R(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,t,r,s,i=ye.min(),o=ye.min(),a=en.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e){this.ct=e}}function b5(n){const e=p5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this.un=new x5}addToCollectionParentIndex(e,t){return this.un.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(Ho.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(Ho.min())}updateCollectionGroup(e,t,r){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}}class x5{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new zt(gt.comparator),i=!s.has(r);return this.index[t]=s.add(r),i}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new zt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class jn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new jn(e,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(41943040,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Nu(0)}static kn(){return new Nu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT([n,e],[t,r]){const s=Oe(n,t);return s===0?Oe(e,r):s}class A5{constructor(e){this.Un=e,this.buffer=new zt(kT),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();kT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class T5{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){ne("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){nh(t)?ne("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await th(t)}await this.Hn(3e5)})}}class S5{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return $.resolve(Vy.oe);const r=new A5(t);return this.Jn.forEachTarget(e,s=>r.zn(s.sequenceNumber)).next(()=>this.Jn.Zn(e,s=>r.zn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(PT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PT):this.Xn(e,t))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let r,s,i,o,a,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),s=this.params.maximumSequenceNumbersToCollect):s=d,o=Date.now(),this.nthSequenceNumber(e,s))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,t))).next(d=>(i=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(c=Date.now(),Xl()<=Ce.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:d})))}}function I5(n,e){return new S5(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.changes=new Nl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?$.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&fd(r.mutation,s,Kr.empty(),Dt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Pe()){const s=Aa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(i=>{let o=Qh();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Aa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Pe()))}populateOverlays(e,t,r){const s=[];return r.forEach(i=>{t.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,s){let i=Si();const o=dd(),a=function(){return dd()}();return t.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Ol)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),fd(u.mutation,c,u.mutation.getFieldMask(),Dt.now())):o.set(c.key,Kr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new P5(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,t){const r=dd();let s=new ct((o,a)=>o-a),i=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=t.get(l);if(c===null)return;let u=r.get(l)||Kr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(s.get(a.batchId)||Pe()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=CR();u.forEach(f=>{if(!i.has(f)){const p=DR(t.get(f),r.get(f));p!==null&&d.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(o){return he.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):OV(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-i.size):$.resolve(Aa());let a=-1,l=i;return o.next(c=>$.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(u)?$.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Pe())).next(u=>({batchId:a,changes:IR(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new he(t)).next(r=>{let s=Qh();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const i=t.collectionGroup;let o=Qh();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,l=>{const c=function(d,f){return new Hy(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(t,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(u=>{u.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,s))).next(o=>{i.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,pn.newInvalidDocument(u)))});let a=Qh();return o.forEach((l,c)=>{const u=i.get(l);u!==void 0&&fd(u.mutation,c,Kr.empty(),Dt.now()),Wy(t,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return $.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Cs(s.createTime)}}(t)),$.resolve()}getNamedQuery(e,t){return $.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(s){return{name:s.name,query:b5(s.bundledQuery),readTime:Cs(s.readTime)}}(t)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(){this.overlays=new ct(he.comparator),this.Ir=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Aa();return $.forEach(t,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,i)=>{this.ht(e,t,i)}),$.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),$.resolve()}getOverlaysForCollection(e,t,r){const s=Aa(),i=t.length+1,o=new he(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let i=new ct((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=Aa(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Aa(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return $.resolve(a)}ht(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new YV(t,r));let i=this.Ir.get(t);i===void 0&&(i=Pe(),this.Ir.set(t,i)),this.Ir.set(t,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.Tr=new zt(Bt.Er),this.dr=new zt(Bt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new Bt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Bt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new he(new gt([])),r=new Bt(t,e),s=new Bt(t,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new he(new gt([])),r=new Bt(t,e),s=new Bt(t,e+1);let i=Pe();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const t=new Bt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return he.comparator(e.key,t.key)||Oe(e.wr,t.wr)}static Ar(e,t){return Oe(e.wr,t.wr)||he.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new zt(Bt.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new JV(i,t,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Bt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,t){return $.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.vr(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Bt(t,0),s=new Bt(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new zt(Oe);return t.forEach(s=>{const i=new Bt(s,0),o=new Bt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),$.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let i=r;he.isDocumentKey(i)||(i=i.child(""));const o=new Bt(new he(i),0);let a=new zt(Oe);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),$.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){ze(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return $.forEach(t.mutations,s=>{const i=new Bt(s.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new Bt(t,0),s=this.br.firstAfterOrEqual(r);return $.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(e){this.Mr=e,this.docs=function(){return new ct(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return $.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let r=Si();return t.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():pn.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let i=Si();const o=t.path,a=new he(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||hV(uV(u),r)<=0||(s.has(u.key)||Wy(t,u))&&(i=i.insert(u.key,u.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,t,r,s){ge()}Or(e,t){return $.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new M5(this)}getSize(e){return $.resolve(this.size)}}class M5 extends C5{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),$.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.persistence=e,this.Nr=new Nl(t=>gE(t),mE),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new EE,this.targetCount=0,this.kr=Nu.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,s)=>t(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),$.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Nu(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.Kn(t),$.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return $.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),$.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const s=this.persistence.referenceDelegate,i=[];return s&&t.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),$.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return $.resolve(r)}containsKey(e,t){return $.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Vy(0),this.Kr=!1,this.Kr=!0,this.$r=new O5,this.referenceDelegate=e(this),this.Ur=new F5(this),this.indexManager=new E5,this.remoteDocumentCache=function(s){return new L5(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new _5(t),this.Gr=new R5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new N5,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new D5(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){ne("MemoryPersistence","Starting transaction:",e);const s=new B5(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,t){return $.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class B5 extends fV{constructor(e){super(),this.currentSequenceNumber=e}}class xE{constructor(e){this.persistence=e,this.Jr=new EE,this.Yr=null}static Zr(e){return new xE(e)}get Xr(){if(this.Yr)return this.Yr;throw ge()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),$.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),$.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,r=>{const s=he.fromPath(r);return this.ei(e,s).next(i=>{i||t.removeEntry(s,ye.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return $.or([()=>$.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Em{constructor(e,t){this.persistence=e,this.ti=new Nl(r=>mV(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=I5(this,t)}static Zr(e,t){return new Em(e,t)}zr(){}jr(e){return $.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Yn(e){const t=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}er(e){let t=0;return this.Zn(e,r=>{t++}).next(()=>t)}Zn(e,t){return $.forEach(this.ti,(r,s)=>this.nr(e,r,s).next(i=>i?$.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.Or(e,o=>this.nr(e,o,t).next(a=>{a||(r++,i.removeEntry(o,ye.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ti.set(t,e.currentSequenceNumber),$.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ti.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,t,r){return this.ti.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,t){return this.ti.set(t,e.currentSequenceNumber),$.resolve()}Wr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kg(e.data.value)),t}nr(e,t,r){return $.or([()=>this.persistence.Hr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ti.get(t);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=s}static Wi(e,t){let r=Pe(),s=Pe();for(const i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new AE(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return vB()?8:pV(vn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,s){const i={result:null};return this.Yi(e,t).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,t,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new U5;return this.Xi(e,t,o).next(a=>{if(i.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>i.result)}es(e,t,r,s){return r.documentReadCount<this.ji?(Xl()<=Ce.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Zl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(Xl()<=Ce.DEBUG&&ne("QueryEngine","Query:",Zl(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Xl()<=Ce.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Zl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Is(t))):$.resolve())}Yi(e,t){if(wT(t))return $.resolve(null);let r=Is(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=zv(t,null,"F"),r=Is(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Pe(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(t,a);return this.ns(t,c,o,l.readTime)?this.Yi(e,zv(t,null,"F")):this.rs(e,c,t,l)}))})))}Zi(e,t,r,s){return wT(t)||s.isEqual(ye.min())?$.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(t,i);return this.ns(t,o,r,s)?$.resolve(null):(Xl()<=Ce.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Zl(t)),this.rs(e,o,t,cV(s,-1)).next(a=>a))})}ts(e,t){let r=new zt(TR(e));return t.forEach((s,i)=>{Wy(e,i)&&(r=r.add(i))}),r}ns(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,t,r){return Xl()<=Ce.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Zl(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ho.min(),r)}rs(e,t,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(t.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e,t,r,s){this.persistence=e,this.ss=t,this.serializer=s,this.os=new ct(Oe),this._s=new Nl(i=>gE(i),mE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new k5(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function z5(n,e,t,r){return new j5(n,e,t,r)}async function KR(n,e){const t=we(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Pe();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function H5(n,e){const t=we(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,f=d.keys();let p=$.resolve();return f.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(y=>{const v=c.docVersions.get(g);ze(v!==null),y.version.compareTo(v)<0&&(d.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(t,r,e,i).next(()=>i.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Pe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function qR(n){const e=we(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function G5(n,e){const t=we(n),r=e.snapshotVersion;let s=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=t.cs.newChangeBuffer({trackRemovals:!0});s=t.os;const a=[];e.targetChanges.forEach((u,d)=>{const f=s.get(d);if(!f)return;a.push(t.Ur.removeMatchingKeys(i,u.removedDocuments,d).next(()=>t.Ur.addMatchingKeys(i,u.addedDocuments,d)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(en.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(d,p),function(y,v,w){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(f,p,u)&&a.push(t.Ur.updateTargetData(i,p))});let l=Si(),c=Pe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(W5(i,o,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(ye.min())){const u=t.Ur.getLastRemoteSnapshotVersion(i).next(d=>t.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(t.os=s,i))}function W5(n,e,t){let r=Pe(),s=Pe();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let o=Si();return t.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ye.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function $5(n,e){const t=we(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Q5(n,e){const t=we(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ur.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):t.Ur.allocateTargetId(r).next(o=>(s=new bo(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}async function Qv(n,e,t){const r=we(n),s=r.os.get(e),i=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!nh(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function RT(n,e,t){const r=we(n);let s=ye.min(),i=Pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const d=we(l),f=d._s.get(u);return f!==void 0?$.resolve(d.os.get(f)):d.Ur.getTargetData(c,u)}(r,o,Is(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?s:ye.min(),t?i:Pe())).next(a=>(K5(r,LV(e),a),{documents:a,Ts:i})))}function K5(n,e,t){let r=n.us.get(e)||ye.min();t.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),n.us.set(e,r)}class NT{constructor(){this.activeTargetIds=jV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class q5{constructor(){this.so=new NT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new NT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Op=null;function yw(){return Op===null?Op=function(){return 268435456+Math.round(2147483648*Math.random())}():Op++,"0x"+Op.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class Z5 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(t,r,s,i,o){const a=yw(),l=this.xo(t,r.toUriEncodedString());ne("RestConnection",`Sending RPC '${t}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(t,l,c,s).then(u=>(ne("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw Cu("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}Lo(t,r,s,i,o,a){return this.Mo(t,r,s,i,o)}Oo(t,r,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eh}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>t[o]=i),s&&s.headers.forEach((i,o)=>t[o]=i)}xo(t,r){const s=Y5[t];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,s){const i=yw();return new Promise((o,a)=>{const l=new lR;l.setWithCredentials(!0),l.listenOnce(cR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Pg.NO_ERROR:const u=l.getResponseJson();ne(on,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Pg.TIMEOUT:ne(on,`RPC '${e}' ${i} timed out`),a(new ue(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Pg.HTTP_ERROR:const d=l.getStatus();if(ne(on,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(w)>=0?w:Y.UNKNOWN}(p.status);a(new ue(g,p.message))}else a(new ue(Y.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ue(Y.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{ne(on,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);ne(on,`RPC '${e}' ${i} sending request:`,s),l.send(t,"POST",c,r,15)})}Bo(e,t,r){const s=yw(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dR(),a=hR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;const u=i.join("");ne(on,`Creating RPC '${e}' stream ${s}: ${u}`,l);const d=o.createWebChannel(u,l);let f=!1,p=!1;const g=new X5({Io:v=>{p?ne(on,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(f||(ne(on,`Opening RPC '${e}' stream ${s} transport.`),d.open(),f=!0),ne(on,`RPC '${e}' stream ${s} sending:`,v),d.send(v))},To:()=>d.close()}),y=(v,w,_)=>{v.listen(w,E=>{try{_(E)}catch(C){setTimeout(()=>{throw C},0)}})};return y(d,$h.EventType.OPEN,()=>{p||(ne(on,`RPC '${e}' stream ${s} transport opened.`),g.yo())}),y(d,$h.EventType.CLOSE,()=>{p||(p=!0,ne(on,`RPC '${e}' stream ${s} transport closed`),g.So())}),y(d,$h.EventType.ERROR,v=>{p||(p=!0,Cu(on,`RPC '${e}' stream ${s} transport errored:`,v),g.So(new ue(Y.UNAVAILABLE,"The operation could not be completed")))}),y(d,$h.EventType.MESSAGE,v=>{var w;if(!p){const _=v.data[0];ze(!!_);const E=_,C=E.error||((w=E[0])===null||w===void 0?void 0:w.error);if(C){ne(on,`RPC '${e}' stream ${s} received error:`,C);const R=C.status;let D=function(I){const k=St[I];if(k!==void 0)return FR(k)}(R),T=C.message;D===void 0&&(D=Y.INTERNAL,T="Unknown error status: "+R+" with message "+C.message),p=!0,g.So(new ue(D,T)),d.close()}else ne(on,`RPC '${e}' stream ${s} received:`,_),g.bo(_)}}),y(a,uR.STAT_EVENT,v=>{v.stat===Fv.PROXY?ne(on,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===Fv.NOPROXY&&ne(on,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function ww(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n){return new o5(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,t,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,t-r);s>0&&ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,t,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new JR(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(Ti(t.toString()),Ti("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===t&&this.P_(r,s)},r=>{e(()=>{const s=new ue(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class e6 extends YR{constructor(e,t,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=c5(this.serializer,e),r=function(i){if(!("targetChange"in i))return ye.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?Cs(o.readTime):ye.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=$v(this.serializer),t.addTarget=function(i,o){let a;const l=o.target;if(a=jv(l)?{documents:d5(i,l)}:{query:f5(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=VR(i,o.resumeToken);const c=Hv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ye.min())>0){a.readTime=bm(i,o.snapshotVersion.toTimestamp());const c=Hv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=g5(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=$v(this.serializer),t.removeTarget=e,this.a_(t)}}class t6 extends YR{constructor(e,t,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=h5(e.writeResults,e.commitTime),r=Cs(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=$v(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>u5(this.serializer,r))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6 extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Gv(t,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ue(Y.UNKNOWN,i.toString())})}Lo(e,t,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Gv(t,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(Y.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class r6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ti(t),this.D_=!1):ne("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e,t,r,s,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Dl(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=we(l);c.L_.add(4),await Jf(c),c.q_.set("Unknown"),c.L_.delete(4),await Jy(c)}(this))})}),this.q_=new r6(r,s)}}async function Jy(n){if(Dl(n))for(const e of n.B_)await e(!0)}async function Jf(n){for(const e of n.B_)await e(!1)}function XR(n,e){const t=we(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),CE(t)?IE(t):rh(t).r_()&&SE(t,e))}function TE(n,e){const t=we(n),r=rh(t);t.N_.delete(e),r.r_()&&ZR(t,e),t.N_.size===0&&(r.r_()?r.o_():Dl(t)&&t.q_.set("Unknown"))}function SE(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}rh(n).A_(e)}function ZR(n,e){n.Q_.xe(e),rh(n).R_(e)}function IE(n){n.Q_=new n5({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),rh(n).start(),n.q_.v_()}function CE(n){return Dl(n)&&!rh(n).n_()&&n.N_.size>0}function Dl(n){return we(n).L_.size===0}function e2(n){n.Q_=void 0}async function i6(n){n.q_.set("Online")}async function o6(n){n.N_.forEach((e,t)=>{SE(n,e)})}async function a6(n,e){e2(n),CE(n)?(n.q_.M_(e),IE(n)):n.q_.set("Unknown")}async function l6(n,e,t){if(n.q_.set("Online"),e instanceof UR&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(n,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await xm(n,r)}else if(e instanceof Og?n.Q_.Ke(e):e instanceof BR?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ye.min()))try{const r=await qR(n.localStore);t.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.N_.get(c);u&&i.N_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.N_.get(l);if(!u)return;i.N_.set(l,u.withResumeToken(en.EMPTY_BYTE_STRING,u.snapshotVersion)),ZR(i,l);const d=new bo(u.target,l,c,u.sequenceNumber);SE(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(n,t)}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),await xm(n,r)}}async function xm(n,e,t){if(!nh(e))throw e;n.L_.add(1),await Jf(n),n.q_.set("Offline"),t||(t=()=>qR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await Jy(n)})}function t2(n,e){return e().catch(t=>xm(n,t,e))}async function Yy(n){const e=we(n),t=Qo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;c6(e);)try{const s=await $5(e.localStore,r);if(s===null){e.O_.length===0&&t.o_();break}r=s.batchId,u6(e,s)}catch(s){await xm(e,s)}n2(e)&&r2(e)}function c6(n){return Dl(n)&&n.O_.length<10}function u6(n,e){n.O_.push(e);const t=Qo(n);t.r_()&&t.V_&&t.m_(e.mutations)}function n2(n){return Dl(n)&&!Qo(n).n_()&&n.O_.length>0}function r2(n){Qo(n).start()}async function h6(n){Qo(n).p_()}async function d6(n){const e=Qo(n);for(const t of n.O_)e.m_(t.mutations)}async function f6(n,e,t){const r=n.O_.shift(),s=vE.from(r,e,t);await t2(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Yy(n)}async function p6(n,e){e&&Qo(n).V_&&await async function(r,s){if(function(o){return ZV(o)&&o!==Y.ABORTED}(s.code)){const i=r.O_.shift();Qo(r).s_(),await t2(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Yy(r)}}(n,e),n2(n)&&r2(n)}async function DT(n,e){const t=we(n);t.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=Dl(t);t.L_.add(3),await Jf(t),r&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Jy(t)}async function g6(n,e){const t=we(n);e?(t.L_.delete(2),await Jy(t)):e||(t.L_.add(2),await Jf(t),t.q_.set("Unknown"))}function rh(n){return n.K_||(n.K_=function(t,r,s){const i=we(t);return i.w_(),new e6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Eo:i6.bind(null,n),Ro:o6.bind(null,n),mo:a6.bind(null,n),d_:l6.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),CE(n)?IE(n):n.q_.set("Unknown")):(await n.K_.stop(),e2(n))})),n.K_}function Qo(n){return n.U_||(n.U_=function(t,r,s){const i=we(t);return i.w_(),new t6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:h6.bind(null,n),mo:p6.bind(null,n),f_:d6.bind(null,n),g_:f6.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await Yy(n)):(await n.U_.stop(),n.O_.length>0&&(ne("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,t,r,s,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ro,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,i){const o=Date.now()+r,a=new PE(e,t,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kE(n,e){if(Ti("AsyncQueue",`${e}: ${n}`),nh(n))return new ue(Y.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e){this.comparator=e?(t,r)=>e(t,r)||he.comparator(t.key,r.key):(t,r)=>he.comparator(t.key,r.key),this.keyedMap=Qh(),this.sortedSet=new ct(this.comparator)}static emptySet(e){return new Pc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Pc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.W_=new ct(he.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ge():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ou{constructor(e,t,r,s,i,o,a,l,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,s,i){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Ou(e,t,Pc.emptySet(t),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class y6{constructor(){this.queries=MT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){const s=we(t),i=s.queries;s.queries=MT(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ue(Y.ABORTED,"Firestore shutting down"))}}function MT(){return new Nl(n=>AR(n),Gy)}async function w6(n,e){const t=we(n);let r=3;const s=e.query;let i=t.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new m6,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await t.onListen(s,!0);break;case 1:i.z_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(o){const a=kE(o,`Initialization of query '${Zl(e.query)}' failed`);return void e.onError(a)}t.queries.set(s,i),i.j_.push(e),e.Z_(t.onlineState),i.z_&&e.X_(i.z_)&&RE(t)}async function v6(n,e){const t=we(n),r=e.query;let s=3;const i=t.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function _6(n,e){const t=we(n);let r=!1;for(const s of e){const i=s.query,o=t.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&RE(t)}function b6(n,e,t){const r=we(n),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(t);r.queries.delete(e)}function RE(n){n.Y_.forEach(e=>{e.next()})}var Kv,FT;(FT=Kv||(Kv={})).ea="default",FT.Cache="cache";class E6{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ou(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Kv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.key=e}}class i2{constructor(e){this.key=e}}class x6{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Pe(),this.mutatedKeys=Pe(),this.Aa=TR(e),this.Ra=new Pc(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new LT,s=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const f=s.get(u),p=Wy(this.query,d)?d:null,g=!!f&&this.mutatedKeys.has(f.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;f&&p?f.data.isEqual(p.data)?g!==y&&(r.track({type:3,doc:p}),v=!0):this.ga(f,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||c&&this.Aa(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),v=!0):f&&!p&&(r.track({type:1,doc:f}),v=!0,(l||c)&&(a=!0)),v&&(p?(o=o.add(p),i=y?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,d)=>function(p,g){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return y(p)-y(g)}(u.type,d.type)||this.Aa(u.doc,d.doc)),this.pa(r),s=s!=null&&s;const a=t&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new Ou(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new LT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new i2(r))}),this.da.forEach(r=>{e.has(r)||t.push(new s2(r))}),t}ba(e){this.Ta=e.Ts,this.da=Pe();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ou.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class A6{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class T6{constructor(e){this.key=e,this.va=!1}}class S6{constructor(e,t,r,s,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Nl(a=>AR(a),Gy),this.Ma=new Map,this.xa=new Set,this.Oa=new ct(he.comparator),this.Na=new Map,this.La=new EE,this.Ba={},this.ka=new Map,this.qa=Nu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function I6(n,e,t=!0){const r=h2(n);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await o2(r,e,t,!0),s}async function C6(n,e){const t=h2(n);await o2(t,e,!0,!1)}async function o2(n,e,t,r){const s=await Q5(n.localStore,Is(e)),i=s.targetId,o=n.sharedClientState.addLocalQueryTarget(i,t);let a;return r&&(a=await P6(n,e,i,o==="current",s.resumeToken)),n.isPrimaryClient&&t&&XR(n.remoteStore,s),a}async function P6(n,e,t,r,s){n.Ka=(d,f,p)=>async function(y,v,w,_){let E=v.view.ma(w);E.ns&&(E=await RT(y.localStore,v.query,!1).then(({documents:T})=>v.view.ma(T,E)));const C=_&&_.targetChanges.get(v.targetId),R=_&&_.targetMismatches.get(v.targetId)!=null,D=v.view.applyChanges(E,y.isPrimaryClient,C,R);return UT(y,v.targetId,D.wa),D.snapshot}(n,d,f,p);const i=await RT(n.localStore,e,!0),o=new x6(e,i.Ts),a=o.ma(i.documents),l=qf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),c=o.applyChanges(a,n.isPrimaryClient,l);UT(n,t,c.wa);const u=new A6(e,t,o);return n.Fa.set(e,u),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),c.snapshot}async function k6(n,e,t){const r=we(n),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Gy(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Qv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&TE(r.remoteStore,s.targetId),qv(r,s.targetId)}).catch(th)):(qv(r,s.targetId),await Qv(r.localStore,s.targetId,!0))}async function R6(n,e){const t=we(n),r=t.Fa.get(e),s=t.Ma.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),TE(t.remoteStore,r.targetId))}async function N6(n,e,t){const r=U6(n);try{const s=await function(o,a){const l=we(o),c=Dt.now(),u=a.reduce((p,g)=>p.add(g.key),Pe());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Si(),y=Pe();return l.cs.getEntries(p,u).next(v=>{g=v,g.forEach((w,_)=>{_.isValidDocument()||(y=y.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{d=v;const w=[];for(const _ of a){const E=KV(_,d.get(_.key).overlayedDocument);E!=null&&w.push(new Ol(_.key,E,yR(E.value.mapValue),vi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,w,a)}).next(v=>{f=v;const w=v.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(p,v.batchId,w)})}).then(()=>({batchId:f.batchId,changes:IR(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new ct(Oe)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,t),await Yf(r,s.changes),await Yy(r.remoteStore)}catch(s){const i=kE(s,"Failed to persist write");t.reject(i)}}async function a2(n,e){const t=we(n);try{const r=await G5(t.localStore,e);e.targetChanges.forEach((s,i)=>{const o=t.Na.get(i);o&&(ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?ze(o.va):s.removedDocuments.size>0&&(ze(o.va),o.va=!1))}),await Yf(t,r,e)}catch(r){await th(r)}}function BT(n,e,t){const r=we(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=we(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const f of d.j_)f.Z_(a)&&(c=!0)}),c&&RE(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function O6(n,e,t){const r=we(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new ct(he.comparator);o=o.insert(i,pn.newNoDocument(i,ye.min()));const a=Pe().add(i),l=new Ky(ye.min(),new Map,new ct(Oe),o,a);await a2(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),NE(r)}else await Qv(r.localStore,e,!1).then(()=>qv(r,e,t)).catch(th)}async function D6(n,e){const t=we(n),r=e.batch.batchId;try{const s=await H5(t.localStore,e);c2(t,r,null),l2(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Yf(t,s)}catch(s){await th(s)}}async function L6(n,e,t){const r=we(n);try{const s=await function(o,a){const l=we(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(ze(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);c2(r,e,t),l2(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Yf(r,s)}catch(s){await th(s)}}function l2(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function c2(n,e,t){const r=we(n);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(t?i.reject(t):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function qv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||u2(n,r)})}function u2(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(TE(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),NE(n))}function UT(n,e,t){for(const r of t)r instanceof s2?(n.La.addReference(r.key,e),M6(n,r)):r instanceof i2?(ne("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||u2(n,r.key)):ge()}function M6(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(ne("SyncEngine","New document in limbo: "+t),n.xa.add(r),NE(n))}function NE(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new he(gt.fromString(e)),r=n.qa.next();n.Na.set(r,new T6(t)),n.Oa=n.Oa.insert(t,r),XR(n.remoteStore,new bo(Is(yE(t.path)),r,"TargetPurposeLimboResolution",Vy.oe))}}async function Yf(n,e,t){const r=we(n),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,t).then(c=>{var u;if((c||t)&&r.isPrimaryClient){const d=c?!c.fromCache:(u=t==null?void 0:t.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(c){s.push(c);const d=AE.Wi(l.targetId,c);i.push(d)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const u=we(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>$.forEach(c,f=>$.forEach(f.$i,p=>u.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>$.forEach(f.Ui,p=>u.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!nh(d))throw d;ne("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const p=u.os.get(f),g=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(g);u.os=u.os.insert(f,y)}}}(r.localStore,i))}async function F6(n,e){const t=we(n);if(!t.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=await KR(t.localStore,e);t.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new ue(Y.CANCELLED,o))})}),i.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yf(t,r.hs)}}function B6(n,e){const t=we(n),r=t.Na.get(e);if(r&&r.va)return Pe().add(r.key);{let s=Pe();const i=t.Ma.get(e);if(!i)return s;for(const o of i){const a=t.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function h2(n){const e=we(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=a2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=B6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=O6.bind(null,e),e.Ca.d_=_6.bind(null,e.eventManager),e.Ca.$a=b6.bind(null,e.eventManager),e}function U6(n){const e=we(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=L6.bind(null,e),e}class Am{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qy(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return z5(this.persistence,new V5,e.initialUser,this.serializer)}Ga(e){return new QR(xE.Zr,this.serializer)}Wa(e){return new q5}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Am.provider={build:()=>new Am};class V6 extends Am{constructor(e){super(),this.cacheSizeBytes=e}ja(e,t){ze(this.persistence.referenceDelegate instanceof Em);const r=this.persistence.referenceDelegate.garbageCollector;return new T5(r,e.asyncQueue,t)}Ga(e){const t=this.cacheSizeBytes!==void 0?jn.withCacheSize(this.cacheSizeBytes):jn.DEFAULT;return new QR(r=>Em.Zr(r,t),this.serializer)}}class Jv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>BT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=F6.bind(null,this.syncEngine),await g6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new y6}()}createDatastore(e){const t=qy(e.databaseInfo.databaseId),r=function(i){return new Z5(i)}(e.databaseInfo);return function(i,o,a,l){return new n6(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,i,o,a){return new s6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>BT(this.syncEngine,t,0),function(){return OT.D()?new OT:new J5}())}createSyncEngine(e,t){return function(s,i,o,a,l,c,u){const d=new S6(s,i,o,a,l,c);return u&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const i=we(s);ne("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Jf(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Jv.provider={build:()=>new Jv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ti("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e,t,r,s,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=fn.UNAUTHENTICATED,this.clientId=pR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ne("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ne("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ro;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=kE(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vw(n,e){n.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await KR(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function VT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await H6(n);ne("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>DT(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>DT(e.remoteStore,s)),n._onlineComponents=e}async function H6(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await vw(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===Y.FAILED_PRECONDITION||s.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Cu("Error using user provided cache. Falling back to memory cache: "+t),await vw(n,new Am)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),await vw(n,new V6(void 0));return n._offlineComponents}async function d2(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),await VT(n,n._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),await VT(n,new Jv))),n._onlineComponents}function G6(n){return d2(n).then(e=>e.syncEngine)}async function W6(n){const e=await d2(n),t=e.eventManager;return t.onListen=I6.bind(null,e.syncEngine),t.onUnlisten=k6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=C6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=R6.bind(null,e.syncEngine),t}function $6(n,e,t={}){const r=new Ro;return n.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new j6({next:f=>{u.Za(),o.enqueueAndForget(()=>v6(i,d));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new ue(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new ue(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new E6(yE(a.path),u,{includeMetadataChanges:!0,_a:!0});return w6(i,d)}(await W6(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(n,e,t){if(!t)throw new ue(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function K6(n,e,t,r){if(e===!0&&r===!0)throw new ue(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zT(n){if(!he.isDocumentKey(n))throw new ue(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function OE(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ge()}function Vd(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ue(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=OE(n);throw new ue(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}K6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class DE{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new eV;switch(r.type){case"firstParty":return new sV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=jT.get(t);r&&(ne("ComponentProvider","Removing Datastore"),jT.delete(t),r.terminate())}(this),Promise.resolve()}}function q6(n,e,t,r={}){var s;const i=(n=Vd(n,DE))._getSettings(),o=`${e}:${t}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Cu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=fn.MOCK_USER;else{a=_k(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ue(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new fn(c)}n._authCredentials=new tV(new fR(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new LE(this.firestore,e,this._query)}}class Cr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cr(this.firestore,e,this._key)}}class jd extends LE{constructor(e,t,r){super(e,t,yE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cr(this.firestore,null,new he(e))}withConverter(e){return new jd(this.firestore,e,this._path)}}function Tm(n,e,...t){if(n=Dn(n),arguments.length===1&&(e=pR.newId()),Q6("doc","path",e),n instanceof DE){const r=gt.fromString(e,...t);return zT(r),new Cr(n,null,new he(r))}{if(!(n instanceof Cr||n instanceof jd))throw new ue(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gt.fromString(e,...t));return zT(r),new Cr(n.firestore,n instanceof jd?n.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new JR(this,"async_queue_retry"),this.Vu=()=>{const r=ww();r&&ne("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=ww();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=ww();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Ro;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!nh(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ti("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const s=PE.createAndSchedule(this,e,t,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&ge()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class ME extends DE{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new GT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new GT(e),this._firestoreClient=void 0,await e}}}function J6(n,e){const t=typeof n=="object"?n:nE(),r=typeof n=="string"?n:"(default)",s=My(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=yk("firestore");i&&q6(s,...i)}return s}function p2(n){if(n._terminated)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Y6(n),n._firestoreClient}function Y6(n){var e,t,r;const s=n._freezeSettings(),i=function(a,l,c,u){return new vV(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,f2(u.experimentalLongPollingOptions),u.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new z6(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Du(en.fromBase64String(e))}catch(t){throw new ue(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Du(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=/^__.*__$/;class Z6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ol(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kf(e,this.data,t,this.fieldTransforms)}}function m2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class VE{constructor(e,t,r,s,i,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new VE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Sm(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(m2(this.Cu)&&X6.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ej{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||qy(e)}Qu(e,t,r,s=!1){return new VE({Cu:e,methodName:t,qu:r,path:Jt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tj(n){const e=n._freezeSettings(),t=qy(n._databaseId);return new ej(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nj(n,e,t,r,s,i={}){const o=n.Qu(i.merge||i.mergeFields?2:0,e,t,s);_2("Data must be an object, but it was:",o,r);const a=w2(r,o);let l,c;if(i.merge)l=new Kr(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const f=rj(e,d,t);if(!o.contains(f))throw new ue(Y.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);ij(u,f)||u.push(f)}l=new Kr(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new Z6(new Tr(a),l,c)}function y2(n,e){if(v2(n=Dn(n)))return _2("Unsupported field value:",e,n),w2(n,e);if(n instanceof g2)return function(r,s){if(!m2(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=y2(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(n,e)}return function(r,s){if((r=Dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Dt.fromDate(r);return{timestampValue:bm(s.serializer,i)}}if(r instanceof Dt){const i=new Dt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bm(s.serializer,i)}}if(r instanceof BE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Du)return{bytesValue:VR(s.serializer,r._byteString)};if(r instanceof Cr){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:bE(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof UE)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return wE(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${OE(r)}`)}(n,e)}function w2(n,e){const t={};return gR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rl(n,(r,s)=>{const i=y2(s,e.Mu(r));i!=null&&(t[r]=i)}),{mapValue:{fields:t}}}function v2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Dt||n instanceof BE||n instanceof Du||n instanceof Cr||n instanceof g2||n instanceof UE)}function _2(n,e,t){if(!v2(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=OE(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function rj(n,e,t){if((e=Dn(e))instanceof FE)return e._internalPath;if(typeof e=="string")return b2(n,e);throw Sm("Field path arguments must be of type string or ",n,!1,void 0,t)}const sj=new RegExp("[~\\*/\\[\\]]");function b2(n,e,t){if(e.search(sj)>=0)throw Sm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new FE(...e.split("."))._internalPath}catch{throw Sm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sm(n,e,t,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ue(Y.INVALID_ARGUMENT,a+n+l)}function ij(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,t,r,s,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Cr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(x2("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class oj extends E2{data(){return super.data()}}function x2(n,e){return typeof e=="string"?b2(n,e):e instanceof FE?e._internalPath:e._delegate._internalPath}class aj{convertValue(e,t="none"){switch($o(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Rl(e,(s,i)=>{r[s]=this.convertValue(i,t)}),r}convertVectorValue(e){var t,r,s;const i=(s=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>wt(o.doubleValue));return new UE(i)}convertGeoPoint(e){return new BE(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=zy(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ld(e));default:return null}}convertTimestamp(e){const t=Go(e);return new Dt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=gt.fromString(e);ze($R(r));const s=new Md(r.get(1),r.get(3)),i=new he(r.popFirst(5));return s.isEqual(t)||Ti(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lj(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class A2 extends E2{constructor(e,t,r,s,i,o){super(e,t,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new uj(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(x2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class uj extends A2{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(n){n=Vd(n,Cr);const e=Vd(n.firestore,ME);return $6(p2(e),n._key).then(t=>pj(e,n,t))}class hj extends aj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Du(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cr(this.firestore,null,t)}}function dj(n,e,t){n=Vd(n,Cr);const r=Vd(n.firestore,ME),s=lj(n.converter,e);return fj(r,[nj(tj(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,vi.none())])}function fj(n,e){return function(r,s){const i=new Ro;return r.asyncQueue.enqueueAndForget(async()=>N6(await G6(r),s,i)),i.promise}(p2(n),e)}function pj(n,e,t){const r=t.docs.get(e._key),s=new hj(n);return new A2(n,s,e._key,r,new cj(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){eh=s})(Pl),ul(new zo("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ME(new nV(r.getProvider("auth-internal")),new oV(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ue(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Md(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),As(aT,"4.7.4",e),As(aT,"4.7.4","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="firebasestorage.googleapis.com",gj="storageBucket",mj=2*60*1e3,yj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Ms{constructor(e,t,r=0){super(_w(e),`Firebase Storage: ${t} (${_w(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _w(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ls;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ls||(Ls={}));function _w(n){return"storage/"+n}function wj(){const n="An unknown error occurred, please check the error payload for server response.";return new Fs(Ls.UNKNOWN,n)}function vj(){return new Fs(Ls.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _j(){return new Fs(Ls.CANCELED,"User canceled the upload/download.")}function bj(n){return new Fs(Ls.INVALID_URL,"Invalid URL '"+n+"'.")}function Ej(n){return new Fs(Ls.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function WT(n){return new Fs(Ls.INVALID_ARGUMENT,n)}function S2(){return new Fs(Ls.APP_DELETED,"The Firebase app was deleted.")}function xj(n){return new Fs(Ls.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=qr.makeFromUrl(e,t)}catch{return new qr(e,"")}if(r.path==="")return r;throw Ej(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",d=t.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${s}/o${f}`,"i"),g={bucket:1,path:3},y=t===T2?"(?:storage.googleapis.com|storage.cloud.google.com)":t,v="([^?#]*)",w=new RegExp(`^https?://${y}/${s}/${v}`,"i"),E=[{regex:a,indices:l,postModify:i},{regex:p,indices:g,postModify:c},{regex:w,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<E.length;C++){const R=E[C],D=R.regex.exec(e);if(D){const T=D[R.indices.bucket];let x=D[R.indices.path];x||(x=""),r=new qr(T,x),R.postModify(r);break}}if(r==null)throw bj(e);return r}}class Aj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(n,e,t){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function d(v){s=setTimeout(()=>{s=null,n(p,l())},v)}function f(){i&&clearTimeout(i)}function p(v,...w){if(c){f();return}if(v){f(),u.call(null,v,...w);return}if(l()||o){f(),u.call(null,v,...w);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,d(E)}let g=!1;function y(v){g||(g=!0,f(),!c&&(s!==null?(v||(a=2),clearTimeout(s),d(0)):v||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,y(!0)},t),y}function Sj(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(n){return n!==void 0}function $T(n,e,t,r){if(r<e)throw WT(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw WT(`Invalid value for '${n}'. Expected ${t} or less.`)}function Cj(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Im;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Im||(Im={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,i=e.indexOf(n)!==-1;return t||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e,t,r,s,i,o,a,l,c,u,d,f=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Dp(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Im.NO_ERROR,l=i.getStatus();if(!a||Pj(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Im.ABORT;r(!1,new Dp(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Dp(c,i))})},t=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Ij(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=wj();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?S2():_j();o(l)}else{const l=vj();o(l)}};this.canceled_?t(!1,new Dp(!1,null,!0)):this.backoffId_=Tj(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Sj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Dp{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Rj(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Nj(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Oj(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Dj(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Lj(n,e,t,r,s,i,o=!0){const a=Cj(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return Oj(c,e),Rj(c,t),Nj(c,i),Dj(c,r),new kj(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Fj(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,t){this._service=e,t instanceof qr?this._location=t:this._location=qr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Cm(e,t)}get root(){const e=new qr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Fj(this._location.path)}get storage(){return this._service}get parent(){const e=Mj(this._location.path);if(e===null)return null;const t=new qr(this._location.bucket,e);return new Cm(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw xj(e)}}function QT(n,e){const t=e==null?void 0:e[gj];return t==null?null:qr.makeFromBucketSpec(t,n)}function Bj(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:_k(s,n.app.options.projectId))}class Uj{constructor(e,t,r,s,i){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=T2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=mj,this._maxUploadRetryTime=yj,this._requests=new Set,s!=null?this._bucket=qr.makeFromBucketSpec(s,this._host):this._bucket=QT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=qr.makeFromBucketSpec(this._url,e):this._bucket=QT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){$T("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){$T("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Cm(this,e)}_makeRequest(e,t,r,s,i=!0){if(this._deleted)return new Aj(S2());{const o=Lj(e,this._appId,r,s,t,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const KT="@firebase/storage",qT="0.13.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="storage";function Vj(n=nE(),e){n=Dn(n);const r=My(n,I2).getImmediate({identifier:e}),s=yk("storage");return s&&jj(r,...s),r}function jj(n,e,t,r={}){Bj(n,e,t,r)}function zj(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Uj(t,r,s,e,Pl)}function Hj(){ul(new zo(I2,zj,"PUBLIC").setMultipleInstances(!0)),As(KT,qT,""),As(KT,qT,"esm2017")}Hj();const Gj={apiKey:"AIzaSyBX-HLFmAycSUYuwNbKgj0v-kKFZqzKqUk",authDomain:"financial-web3-dashboard.firebaseapp.com",projectId:"financial-web3-dashboard",storageBucketId:"financial-web3-dashboard.appspot.com",messagingSenderId:"1054499771954",appId:"1:1054499771954:web:a4a1a820d490173adcce2b"},zE=xk(Gj),ci=JU(zE),Pm=J6(zE);Vj(zE);const Wj="/assets/user_default-Bzz_QVm4.png",C2=V.createContext(null),$j=()=>V.useContext(C2),Qj=({children:n})=>{const[e,t]=V.useState(null);return V.useEffect(()=>{const r=B3(ci,async s=>{if(s)try{const i=Tm(Pm,"users",s.uid),o=await jE(i),a=o.exists()?o.data():{};t({uid:s.uid,displayName:s.displayName||a.displayName||"Anonymous",photoURL:s.photoURL||a.photoURL||Wj,email:s.email||a.email})}catch(i){console.error("Error fetching user document",i)}else t(null)});return()=>r()},[]),S.jsx(C2.Provider,{value:e,children:n})};var P2={exports:{}},dr={},k2={exports:{}},R2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(W,K){var te=W.length;W.push(K);e:for(;0<te;){var le=te-1>>>1,ae=W[le];if(0<s(ae,K))W[le]=K,W[te]=ae,te=le;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var K=W[0],te=W.pop();if(te!==K){W[0]=te;e:for(var le=0,ae=W.length,ce=ae>>>1;le<ce;){var _e=2*(le+1)-1,ke=W[_e],Le=_e+1,qe=W[Le];if(0>s(ke,te))Le<ae&&0>s(qe,ke)?(W[le]=qe,W[Le]=te,le=Le):(W[le]=ke,W[_e]=te,le=_e);else if(Le<ae&&0>s(qe,te))W[le]=qe,W[Le]=te,le=Le;else break e}}return K}function s(W,K){var te=W.sortIndex-K.sortIndex;return te!==0?te:W.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;n.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(W){for(var K=t(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=W)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=t(c)}}function C(W){if(y=!1,E(W),!g)if(t(l)!==null)g=!0,q(R);else{var K=t(c);K!==null&&Z(C,K.startTime-W)}}function R(W,K){g=!1,y&&(y=!1,w(x),x=-1),p=!0;var te=f;try{for(E(K),d=t(l);d!==null&&(!(d.expirationTime>K)||W&&!N());){var le=d.callback;if(typeof le=="function"){d.callback=null,f=d.priorityLevel;var ae=le(d.expirationTime<=K);K=n.unstable_now(),typeof ae=="function"?d.callback=ae:d===t(l)&&r(l),E(K)}else r(l);d=t(l)}if(d!==null)var ce=!0;else{var _e=t(c);_e!==null&&Z(C,_e.startTime-K),ce=!1}return ce}finally{d=null,f=te,p=!1}}var D=!1,T=null,x=-1,I=5,k=-1;function N(){return!(n.unstable_now()-k<I)}function M(){if(T!==null){var W=n.unstable_now();k=W;var K=!0;try{K=T(!0,W)}finally{K?O():(D=!1,T=null)}}else D=!1}var O;if(typeof _=="function")O=function(){_(M)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,G=fe.port2;fe.port1.onmessage=M,O=function(){G.postMessage(null)}}else O=function(){v(M,0)};function q(W){T=W,D||(D=!0,O())}function Z(W,K){x=v(function(){W(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,q(R))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(W){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var te=f;f=K;try{return W()}finally{f=te}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,K){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var te=f;f=W;try{return K()}finally{f=te}},n.unstable_scheduleCallback=function(W,K,te){var le=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?le+te:le):te=le,W){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=te+ae,W={id:u++,callback:K,priorityLevel:W,startTime:te,expirationTime:ae,sortIndex:-1},te>le?(W.sortIndex=te,e(c,W),t(l)===null&&W===t(c)&&(y?(w(x),x=-1):y=!0,Z(C,te-le))):(W.sortIndex=ae,e(l,W),g||p||(g=!0,q(R))),W},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(W){var K=f;return function(){var te=f;f=K;try{return W.apply(this,arguments)}finally{f=te}}}})(R2);k2.exports=R2;var Kj=k2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qj=V,hr=Kj;function X(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N2=new Set,zd={};function Ll(n,e){Lu(n,e),Lu(n+"Capture",e)}function Lu(n,e){for(zd[n]=e,n=0;n<e.length;n++)N2.add(e[n])}var Ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yv=Object.prototype.hasOwnProperty,Jj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,JT={},YT={};function Yj(n){return Yv.call(YT,n)?!0:Yv.call(JT,n)?!1:Jj.test(n)?YT[n]=!0:(JT[n]=!0,!1)}function Xj(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Zj(n,e,t,r){if(e===null||typeof e>"u"||Xj(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mn(n,e,t,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){tn[n]=new Mn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];tn[e]=new Mn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){tn[n]=new Mn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){tn[n]=new Mn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){tn[n]=new Mn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){tn[n]=new Mn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){tn[n]=new Mn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){tn[n]=new Mn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){tn[n]=new Mn(n,5,!1,n.toLowerCase(),null,!1,!1)});var HE=/[\-:]([a-z])/g;function GE(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(HE,GE);tn[e]=new Mn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(HE,GE);tn[e]=new Mn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(HE,GE);tn[e]=new Mn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){tn[n]=new Mn(n,1,!1,n.toLowerCase(),null,!1,!1)});tn.xlinkHref=new Mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){tn[n]=new Mn(n,1,!1,n.toLowerCase(),null,!0,!0)});function WE(n,e,t,r){var s=tn.hasOwnProperty(e)?tn[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Zj(e,t,s,r)&&(t=null),r||s===null?Yj(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):s.mustUseProperty?n[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,r=s.attributeNamespace,t===null?n.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var Oi=qj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lp=Symbol.for("react.element"),oc=Symbol.for("react.portal"),ac=Symbol.for("react.fragment"),$E=Symbol.for("react.strict_mode"),Xv=Symbol.for("react.profiler"),O2=Symbol.for("react.provider"),D2=Symbol.for("react.context"),QE=Symbol.for("react.forward_ref"),Zv=Symbol.for("react.suspense"),e_=Symbol.for("react.suspense_list"),KE=Symbol.for("react.memo"),Ki=Symbol.for("react.lazy"),L2=Symbol.for("react.offscreen"),XT=Symbol.iterator;function Ih(n){return n===null||typeof n!="object"?null:(n=XT&&n[XT]||n["@@iterator"],typeof n=="function"?n:null)}var ut=Object.assign,bw;function qh(n){if(bw===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);bw=e&&e[1]||""}return`
`+bw+n}var Ew=!1;function xw(n,e){if(!n||Ew)return"";Ew=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ew=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?qh(n):""}function e9(n){switch(n.tag){case 5:return qh(n.type);case 16:return qh("Lazy");case 13:return qh("Suspense");case 19:return qh("SuspenseList");case 0:case 2:case 15:return n=xw(n.type,!1),n;case 11:return n=xw(n.type.render,!1),n;case 1:return n=xw(n.type,!0),n;default:return""}}function t_(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ac:return"Fragment";case oc:return"Portal";case Xv:return"Profiler";case $E:return"StrictMode";case Zv:return"Suspense";case e_:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case D2:return(n.displayName||"Context")+".Consumer";case O2:return(n._context.displayName||"Context")+".Provider";case QE:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case KE:return e=n.displayName||null,e!==null?e:t_(n.type)||"Memo";case Ki:e=n._payload,n=n._init;try{return t_(n(e))}catch{}}return null}function t9(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return t_(e);case 8:return e===$E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ko(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function M2(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function n9(n){var e=M2(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,i=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Mp(n){n._valueTracker||(n._valueTracker=n9(n))}function F2(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=M2(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function km(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function n_(n,e){var t=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function ZT(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Ko(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function B2(n,e){e=e.checked,e!=null&&WE(n,"checked",e,!1)}function r_(n,e){B2(n,e);var t=Ko(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?s_(n,e.type,t):e.hasOwnProperty("defaultValue")&&s_(n,e.type,Ko(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function eS(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function s_(n,e,t){(e!=="number"||km(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Jh=Array.isArray;function kc(n,e,t,r){if(n=n.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<n.length;t++)s=e.hasOwnProperty("$"+n[t].value),n[t].selected!==s&&(n[t].selected=s),s&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Ko(t),e=null,s=0;s<n.length;s++){if(n[s].value===t){n[s].selected=!0,r&&(n[s].defaultSelected=!0);return}e!==null||n[s].disabled||(e=n[s])}e!==null&&(e.selected=!0)}}function i_(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function tS(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(X(92));if(Jh(t)){if(1<t.length)throw Error(X(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ko(t)}}function U2(n,e){var t=Ko(e.value),r=Ko(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function nS(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function V2(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function o_(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?V2(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Fp,j2=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,s){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,s)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Fp=Fp||document.createElement("div"),Fp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fp.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Hd(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var pd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r9=["Webkit","ms","Moz","O"];Object.keys(pd).forEach(function(n){r9.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),pd[e]=pd[n]})});function z2(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||pd.hasOwnProperty(n)&&pd[n]?(""+e).trim():e+"px"}function H2(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,s=z2(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,s):n[t]=s}}var s9=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a_(n,e){if(e){if(s9[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function l_(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c_=null;function qE(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var u_=null,Rc=null,Nc=null;function rS(n){if(n=ep(n)){if(typeof u_!="function")throw Error(X(280));var e=n.stateNode;e&&(e=n0(e),u_(n.stateNode,n.type,e))}}function G2(n){Rc?Nc?Nc.push(n):Nc=[n]:Rc=n}function W2(){if(Rc){var n=Rc,e=Nc;if(Nc=Rc=null,rS(n),e)for(n=0;n<e.length;n++)rS(e[n])}}function $2(n,e){return n(e)}function Q2(){}var Aw=!1;function K2(n,e,t){if(Aw)return n(e,t);Aw=!0;try{return $2(n,e,t)}finally{Aw=!1,(Rc!==null||Nc!==null)&&(Q2(),W2())}}function Gd(n,e){var t=n.stateNode;if(t===null)return null;var r=n0(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(X(231,e,typeof t));return t}var h_=!1;if(Ii)try{var Ch={};Object.defineProperty(Ch,"passive",{get:function(){h_=!0}}),window.addEventListener("test",Ch,Ch),window.removeEventListener("test",Ch,Ch)}catch{h_=!1}function i9(n,e,t,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var gd=!1,Rm=null,Nm=!1,d_=null,o9={onError:function(n){gd=!0,Rm=n}};function a9(n,e,t,r,s,i,o,a,l){gd=!1,Rm=null,i9.apply(o9,arguments)}function l9(n,e,t,r,s,i,o,a,l){if(a9.apply(this,arguments),gd){if(gd){var c=Rm;gd=!1,Rm=null}else throw Error(X(198));Nm||(Nm=!0,d_=c)}}function Ml(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function q2(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function sS(n){if(Ml(n)!==n)throw Error(X(188))}function c9(n){var e=n.alternate;if(!e){if(e=Ml(n),e===null)throw Error(X(188));return e!==n?null:n}for(var t=n,r=e;;){var s=t.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){t=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===t)return sS(s),n;if(i===r)return sS(s),e;i=i.sibling}throw Error(X(188))}if(t.return!==r.return)t=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o)throw Error(X(189))}}if(t.alternate!==r)throw Error(X(190))}if(t.tag!==3)throw Error(X(188));return t.stateNode.current===t?n:e}function J2(n){return n=c9(n),n!==null?Y2(n):null}function Y2(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Y2(n);if(e!==null)return e;n=n.sibling}return null}var X2=hr.unstable_scheduleCallback,iS=hr.unstable_cancelCallback,u9=hr.unstable_shouldYield,h9=hr.unstable_requestPaint,_t=hr.unstable_now,d9=hr.unstable_getCurrentPriorityLevel,JE=hr.unstable_ImmediatePriority,Z2=hr.unstable_UserBlockingPriority,Om=hr.unstable_NormalPriority,f9=hr.unstable_LowPriority,eN=hr.unstable_IdlePriority,Xy=null,Ps=null;function p9(n){if(Ps&&typeof Ps.onCommitFiberRoot=="function")try{Ps.onCommitFiberRoot(Xy,n,void 0,(n.current.flags&128)===128)}catch{}}var Jr=Math.clz32?Math.clz32:y9,g9=Math.log,m9=Math.LN2;function y9(n){return n>>>=0,n===0?32:31-(g9(n)/m9|0)|0}var Bp=64,Up=4194304;function Yh(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Dm(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,s=n.suspendedLanes,i=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~s;a!==0?r=Yh(a):(i&=o,i!==0&&(r=Yh(i)))}else o=t&~s,o!==0?r=Yh(o):i!==0&&(r=Yh(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-Jr(e),s=1<<t,r|=n[t],e&=~s;return r}function w9(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function v9(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,s=n.expirationTimes,i=n.pendingLanes;0<i;){var o=31-Jr(i),a=1<<o,l=s[o];l===-1?(!(a&t)||a&r)&&(s[o]=w9(a,e)):l<=e&&(n.expiredLanes|=a),i&=~a}}function f_(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function tN(){var n=Bp;return Bp<<=1,!(Bp&4194240)&&(Bp=64),n}function Tw(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Xf(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Jr(e),n[e]=t}function _9(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var s=31-Jr(t),i=1<<s;e[s]=0,r[s]=-1,n[s]=-1,t&=~i}}function YE(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-Jr(t),s=1<<r;s&e|n[r]&e&&(n[r]|=e),t&=~s}}var Ge=0;function nN(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var rN,XE,sN,iN,oN,p_=!1,Vp=[],No=null,Oo=null,Do=null,Wd=new Map,$d=new Map,to=[],b9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oS(n,e){switch(n){case"focusin":case"focusout":No=null;break;case"dragenter":case"dragleave":Oo=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":Wd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$d.delete(e.pointerId)}}function Ph(n,e,t,r,s,i){return n===null||n.nativeEvent!==i?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ep(e),e!==null&&XE(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),n)}function E9(n,e,t,r,s){switch(e){case"focusin":return No=Ph(No,n,e,t,r,s),!0;case"dragenter":return Oo=Ph(Oo,n,e,t,r,s),!0;case"mouseover":return Do=Ph(Do,n,e,t,r,s),!0;case"pointerover":var i=s.pointerId;return Wd.set(i,Ph(Wd.get(i)||null,n,e,t,r,s)),!0;case"gotpointercapture":return i=s.pointerId,$d.set(i,Ph($d.get(i)||null,n,e,t,r,s)),!0}return!1}function aN(n){var e=Ta(n.target);if(e!==null){var t=Ml(e);if(t!==null){if(e=t.tag,e===13){if(e=q2(t),e!==null){n.blockedOn=e,oN(n.priority,function(){sN(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Dg(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=g_(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);c_=r,t.target.dispatchEvent(r),c_=null}else return e=ep(t),e!==null&&XE(e),n.blockedOn=t,!1;e.shift()}return!0}function aS(n,e,t){Dg(n)&&t.delete(e)}function x9(){p_=!1,No!==null&&Dg(No)&&(No=null),Oo!==null&&Dg(Oo)&&(Oo=null),Do!==null&&Dg(Do)&&(Do=null),Wd.forEach(aS),$d.forEach(aS)}function kh(n,e){n.blockedOn===e&&(n.blockedOn=null,p_||(p_=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,x9)))}function Qd(n){function e(s){return kh(s,n)}if(0<Vp.length){kh(Vp[0],n);for(var t=1;t<Vp.length;t++){var r=Vp[t];r.blockedOn===n&&(r.blockedOn=null)}}for(No!==null&&kh(No,n),Oo!==null&&kh(Oo,n),Do!==null&&kh(Do,n),Wd.forEach(e),$d.forEach(e),t=0;t<to.length;t++)r=to[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<to.length&&(t=to[0],t.blockedOn===null);)aN(t),t.blockedOn===null&&to.shift()}var Oc=Oi.ReactCurrentBatchConfig,Lm=!0;function A9(n,e,t,r){var s=Ge,i=Oc.transition;Oc.transition=null;try{Ge=1,ZE(n,e,t,r)}finally{Ge=s,Oc.transition=i}}function T9(n,e,t,r){var s=Ge,i=Oc.transition;Oc.transition=null;try{Ge=4,ZE(n,e,t,r)}finally{Ge=s,Oc.transition=i}}function ZE(n,e,t,r){if(Lm){var s=g_(n,e,t,r);if(s===null)Lw(n,e,r,Mm,t),oS(n,r);else if(E9(s,n,e,t,r))r.stopPropagation();else if(oS(n,r),e&4&&-1<b9.indexOf(n)){for(;s!==null;){var i=ep(s);if(i!==null&&rN(i),i=g_(n,e,t,r),i===null&&Lw(n,e,r,Mm,t),i===s)break;s=i}s!==null&&r.stopPropagation()}else Lw(n,e,r,null,t)}}var Mm=null;function g_(n,e,t,r){if(Mm=null,n=qE(r),n=Ta(n),n!==null)if(e=Ml(n),e===null)n=null;else if(t=e.tag,t===13){if(n=q2(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Mm=n,null}function lN(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d9()){case JE:return 1;case Z2:return 4;case Om:case f9:return 16;case eN:return 536870912;default:return 16}default:return 16}}var Eo=null,e1=null,Lg=null;function cN(){if(Lg)return Lg;var n,e=e1,t=e.length,r,s="value"in Eo?Eo.value:Eo.textContent,i=s.length;for(n=0;n<t&&e[n]===s[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===s[i-r];r++);return Lg=s.slice(n,1<r?1-r:void 0)}function Mg(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function jp(){return!0}function lS(){return!1}function fr(n){function e(t,r,s,i,o){this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?jp:lS,this.isPropagationStopped=lS,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=jp)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=jp)},persist:function(){},isPersistent:jp}),e}var sh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},t1=fr(sh),Zf=ut({},sh,{view:0,detail:0}),S9=fr(Zf),Sw,Iw,Rh,Zy=ut({},Zf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:n1,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Rh&&(Rh&&n.type==="mousemove"?(Sw=n.screenX-Rh.screenX,Iw=n.screenY-Rh.screenY):Iw=Sw=0,Rh=n),Sw)},movementY:function(n){return"movementY"in n?n.movementY:Iw}}),cS=fr(Zy),I9=ut({},Zy,{dataTransfer:0}),C9=fr(I9),P9=ut({},Zf,{relatedTarget:0}),Cw=fr(P9),k9=ut({},sh,{animationName:0,elapsedTime:0,pseudoElement:0}),R9=fr(k9),N9=ut({},sh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),O9=fr(N9),D9=ut({},sh,{data:0}),uS=fr(D9),L9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},M9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B9(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=F9[n])?!!e[n]:!1}function n1(){return B9}var U9=ut({},Zf,{key:function(n){if(n.key){var e=L9[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Mg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?M9[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:n1,charCode:function(n){return n.type==="keypress"?Mg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Mg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),V9=fr(U9),j9=ut({},Zy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hS=fr(j9),z9=ut({},Zf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:n1}),H9=fr(z9),G9=ut({},sh,{propertyName:0,elapsedTime:0,pseudoElement:0}),W9=fr(G9),$9=ut({},Zy,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Q9=fr($9),K9=[9,13,27,32],r1=Ii&&"CompositionEvent"in window,md=null;Ii&&"documentMode"in document&&(md=document.documentMode);var q9=Ii&&"TextEvent"in window&&!md,uN=Ii&&(!r1||md&&8<md&&11>=md),dS=" ",fS=!1;function hN(n,e){switch(n){case"keyup":return K9.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dN(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var lc=!1;function J9(n,e){switch(n){case"compositionend":return dN(e);case"keypress":return e.which!==32?null:(fS=!0,dS);case"textInput":return n=e.data,n===dS&&fS?null:n;default:return null}}function Y9(n,e){if(lc)return n==="compositionend"||!r1&&hN(n,e)?(n=cN(),Lg=e1=Eo=null,lc=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uN&&e.locale!=="ko"?null:e.data;default:return null}}var X9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!X9[n.type]:e==="textarea"}function fN(n,e,t,r){G2(r),e=Fm(e,"onChange"),0<e.length&&(t=new t1("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var yd=null,Kd=null;function Z9(n){AN(n,0)}function e0(n){var e=hc(n);if(F2(e))return n}function e8(n,e){if(n==="change")return e}var pN=!1;if(Ii){var Pw;if(Ii){var kw="oninput"in document;if(!kw){var gS=document.createElement("div");gS.setAttribute("oninput","return;"),kw=typeof gS.oninput=="function"}Pw=kw}else Pw=!1;pN=Pw&&(!document.documentMode||9<document.documentMode)}function mS(){yd&&(yd.detachEvent("onpropertychange",gN),Kd=yd=null)}function gN(n){if(n.propertyName==="value"&&e0(Kd)){var e=[];fN(e,Kd,n,qE(n)),K2(Z9,e)}}function t8(n,e,t){n==="focusin"?(mS(),yd=e,Kd=t,yd.attachEvent("onpropertychange",gN)):n==="focusout"&&mS()}function n8(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return e0(Kd)}function r8(n,e){if(n==="click")return e0(e)}function s8(n,e){if(n==="input"||n==="change")return e0(e)}function i8(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Zr=typeof Object.is=="function"?Object.is:i8;function qd(n,e){if(Zr(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var s=t[r];if(!Yv.call(e,s)||!Zr(n[s],e[s]))return!1}return!0}function yS(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function wS(n,e){var t=yS(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=yS(t)}}function mN(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?mN(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function yN(){for(var n=window,e=km();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=km(n.document)}return e}function s1(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function o8(n){var e=yN(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&mN(t.ownerDocument.documentElement,t)){if(r!==null&&s1(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var s=t.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!n.extend&&i>r&&(s=r,r=i,i=s),s=wS(t,i);var o=wS(t,r);s&&o&&(n.rangeCount!==1||n.anchorNode!==s.node||n.anchorOffset!==s.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),n.removeAllRanges(),i>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var a8=Ii&&"documentMode"in document&&11>=document.documentMode,cc=null,m_=null,wd=null,y_=!1;function vS(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;y_||cc==null||cc!==km(r)||(r=cc,"selectionStart"in r&&s1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wd&&qd(wd,r)||(wd=r,r=Fm(m_,"onSelect"),0<r.length&&(e=new t1("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=cc)))}function zp(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var uc={animationend:zp("Animation","AnimationEnd"),animationiteration:zp("Animation","AnimationIteration"),animationstart:zp("Animation","AnimationStart"),transitionend:zp("Transition","TransitionEnd")},Rw={},wN={};Ii&&(wN=document.createElement("div").style,"AnimationEvent"in window||(delete uc.animationend.animation,delete uc.animationiteration.animation,delete uc.animationstart.animation),"TransitionEvent"in window||delete uc.transitionend.transition);function t0(n){if(Rw[n])return Rw[n];if(!uc[n])return n;var e=uc[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in wN)return Rw[n]=e[t];return n}var vN=t0("animationend"),_N=t0("animationiteration"),bN=t0("animationstart"),EN=t0("transitionend"),xN=new Map,_S="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ta(n,e){xN.set(n,e),Ll(e,[n])}for(var Nw=0;Nw<_S.length;Nw++){var Ow=_S[Nw],l8=Ow.toLowerCase(),c8=Ow[0].toUpperCase()+Ow.slice(1);ta(l8,"on"+c8)}ta(vN,"onAnimationEnd");ta(_N,"onAnimationIteration");ta(bN,"onAnimationStart");ta("dblclick","onDoubleClick");ta("focusin","onFocus");ta("focusout","onBlur");ta(EN,"onTransitionEnd");Lu("onMouseEnter",["mouseout","mouseover"]);Lu("onMouseLeave",["mouseout","mouseover"]);Lu("onPointerEnter",["pointerout","pointerover"]);Lu("onPointerLeave",["pointerout","pointerover"]);Ll("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ll("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ll("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ll("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ll("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ll("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xh));function bS(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,l9(r,e,void 0,n),n.currentTarget=null}function AN(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;bS(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;bS(s,a,c),i=l}}}if(Nm)throw n=d_,Nm=!1,d_=null,n}function et(n,e){var t=e[E_];t===void 0&&(t=e[E_]=new Set);var r=n+"__bubble";t.has(r)||(TN(e,n,2,!1),t.add(r))}function Dw(n,e,t){var r=0;e&&(r|=4),TN(t,n,r,e)}var Hp="_reactListening"+Math.random().toString(36).slice(2);function Jd(n){if(!n[Hp]){n[Hp]=!0,N2.forEach(function(t){t!=="selectionchange"&&(u8.has(t)||Dw(t,!1,n),Dw(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Hp]||(e[Hp]=!0,Dw("selectionchange",!1,e))}}function TN(n,e,t,r){switch(lN(e)){case 1:var s=A9;break;case 4:s=T9;break;default:s=ZE}t=s.bind(null,e,t,n),s=void 0,!h_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?n.addEventListener(e,t,{capture:!0,passive:s}):n.addEventListener(e,t,!0):s!==void 0?n.addEventListener(e,t,{passive:s}):n.addEventListener(e,t,!1)}function Lw(n,e,t,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ta(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}K2(function(){var c=i,u=qE(t),d=[];e:{var f=xN.get(n);if(f!==void 0){var p=t1,g=n;switch(n){case"keypress":if(Mg(t)===0)break e;case"keydown":case"keyup":p=V9;break;case"focusin":g="focus",p=Cw;break;case"focusout":g="blur",p=Cw;break;case"beforeblur":case"afterblur":p=Cw;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=cS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=C9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=H9;break;case vN:case _N:case bN:p=R9;break;case EN:p=W9;break;case"scroll":p=S9;break;case"wheel":p=Q9;break;case"copy":case"cut":case"paste":p=O9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=hS}var y=(e&4)!==0,v=!y&&n==="scroll",w=y?f!==null?f+"Capture":null:f;y=[];for(var _=c,E;_!==null;){E=_;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,w!==null&&(C=Gd(_,w),C!=null&&y.push(Yd(_,C,E)))),v)break;_=_.return}0<y.length&&(f=new p(f,g,null,t,u),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==c_&&(g=t.relatedTarget||t.fromElement)&&(Ta(g)||g[Ci]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=c,g=g?Ta(g):null,g!==null&&(v=Ml(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(y=cS,C="onMouseLeave",w="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(y=hS,C="onPointerLeave",w="onPointerEnter",_="pointer"),v=p==null?f:hc(p),E=g==null?f:hc(g),f=new y(C,_+"leave",p,t,u),f.target=v,f.relatedTarget=E,C=null,Ta(u)===c&&(y=new y(w,_+"enter",g,t,u),y.target=E,y.relatedTarget=v,C=y),v=C,p&&g)t:{for(y=p,w=g,_=0,E=y;E;E=Gl(E))_++;for(E=0,C=w;C;C=Gl(C))E++;for(;0<_-E;)y=Gl(y),_--;for(;0<E-_;)w=Gl(w),E--;for(;_--;){if(y===w||w!==null&&y===w.alternate)break t;y=Gl(y),w=Gl(w)}y=null}else y=null;p!==null&&ES(d,f,p,y,!1),g!==null&&v!==null&&ES(d,v,g,y,!0)}}e:{if(f=c?hc(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var R=e8;else if(pS(f))if(pN)R=s8;else{R=n8;var D=t8}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=r8);if(R&&(R=R(n,c))){fN(d,R,t,u);break e}D&&D(n,f,c),n==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&s_(f,"number",f.value)}switch(D=c?hc(c):window,n){case"focusin":(pS(D)||D.contentEditable==="true")&&(cc=D,m_=c,wd=null);break;case"focusout":wd=m_=cc=null;break;case"mousedown":y_=!0;break;case"contextmenu":case"mouseup":case"dragend":y_=!1,vS(d,t,u);break;case"selectionchange":if(a8)break;case"keydown":case"keyup":vS(d,t,u)}var T;if(r1)e:{switch(n){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else lc?hN(n,t)&&(x="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(x="onCompositionStart");x&&(uN&&t.locale!=="ko"&&(lc||x!=="onCompositionStart"?x==="onCompositionEnd"&&lc&&(T=cN()):(Eo=u,e1="value"in Eo?Eo.value:Eo.textContent,lc=!0)),D=Fm(c,x),0<D.length&&(x=new uS(x,n,null,t,u),d.push({event:x,listeners:D}),T?x.data=T:(T=dN(t),T!==null&&(x.data=T)))),(T=q9?J9(n,t):Y9(n,t))&&(c=Fm(c,"onBeforeInput"),0<c.length&&(u=new uS("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=T))}AN(d,e)})}function Yd(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Fm(n,e){for(var t=e+"Capture",r=[];n!==null;){var s=n,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gd(n,t),i!=null&&r.unshift(Yd(n,i,s)),i=Gd(n,e),i!=null&&r.push(Yd(n,i,s))),n=n.return}return r}function Gl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function ES(n,e,t,r,s){for(var i=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Gd(t,i),l!=null&&o.unshift(Yd(t,l,a))):s||(l=Gd(t,i),l!=null&&o.push(Yd(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var h8=/\r\n?/g,d8=/\u0000|\uFFFD/g;function xS(n){return(typeof n=="string"?n:""+n).replace(h8,`
`).replace(d8,"")}function Gp(n,e,t){if(e=xS(e),xS(n)!==e&&t)throw Error(X(425))}function Bm(){}var w_=null,v_=null;function __(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var b_=typeof setTimeout=="function"?setTimeout:void 0,f8=typeof clearTimeout=="function"?clearTimeout:void 0,AS=typeof Promise=="function"?Promise:void 0,p8=typeof queueMicrotask=="function"?queueMicrotask:typeof AS<"u"?function(n){return AS.resolve(null).then(n).catch(g8)}:b_;function g8(n){setTimeout(function(){throw n})}function Mw(n,e){var t=e,r=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(r===0){n.removeChild(s),Qd(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=s}while(t);Qd(e)}function Lo(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function TS(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ih=Math.random().toString(36).slice(2),vs="__reactFiber$"+ih,Xd="__reactProps$"+ih,Ci="__reactContainer$"+ih,E_="__reactEvents$"+ih,m8="__reactListeners$"+ih,y8="__reactHandles$"+ih;function Ta(n){var e=n[vs];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ci]||t[vs]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=TS(n);n!==null;){if(t=n[vs])return t;n=TS(n)}return e}n=t,t=n.parentNode}return null}function ep(n){return n=n[vs]||n[Ci],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function hc(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(X(33))}function n0(n){return n[Xd]||null}var x_=[],dc=-1;function na(n){return{current:n}}function rt(n){0>dc||(n.current=x_[dc],x_[dc]=null,dc--)}function Je(n,e){dc++,x_[dc]=n.current,n.current=e}var qo={},_n=na(qo),Qn=na(!1),pl=qo;function Mu(n,e){var t=n.type.contextTypes;if(!t)return qo;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in t)s[i]=e[i];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=s),s}function Kn(n){return n=n.childContextTypes,n!=null}function Um(){rt(Qn),rt(_n)}function SS(n,e,t){if(_n.current!==qo)throw Error(X(168));Je(_n,e),Je(Qn,t)}function SN(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(X(108,t9(n)||"Unknown",s));return ut({},t,r)}function Vm(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||qo,pl=_n.current,Je(_n,n),Je(Qn,Qn.current),!0}function IS(n,e,t){var r=n.stateNode;if(!r)throw Error(X(169));t?(n=SN(n,e,pl),r.__reactInternalMemoizedMergedChildContext=n,rt(Qn),rt(_n),Je(_n,n)):rt(Qn),Je(Qn,t)}var Ks=null,r0=!1,Fw=!1;function IN(n){Ks===null?Ks=[n]:Ks.push(n)}function w8(n){r0=!0,IN(n)}function ra(){if(!Fw&&Ks!==null){Fw=!0;var n=0,e=Ge;try{var t=Ks;for(Ge=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Ks=null,r0=!1}catch(s){throw Ks!==null&&(Ks=Ks.slice(n+1)),X2(JE,ra),s}finally{Ge=e,Fw=!1}}return null}var fc=[],pc=0,jm=null,zm=0,xr=[],Ar=0,gl=null,pi=1,gi="";function pa(n,e){fc[pc++]=zm,fc[pc++]=jm,jm=n,zm=e}function CN(n,e,t){xr[Ar++]=pi,xr[Ar++]=gi,xr[Ar++]=gl,gl=n;var r=pi;n=gi;var s=32-Jr(r)-1;r&=~(1<<s),t+=1;var i=32-Jr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,pi=1<<32-Jr(e)+s|t<<s|r,gi=i+n}else pi=1<<i|t<<s|r,gi=n}function i1(n){n.return!==null&&(pa(n,1),CN(n,1,0))}function o1(n){for(;n===jm;)jm=fc[--pc],fc[pc]=null,zm=fc[--pc],fc[pc]=null;for(;n===gl;)gl=xr[--Ar],xr[Ar]=null,gi=xr[--Ar],xr[Ar]=null,pi=xr[--Ar],xr[Ar]=null}var cr=null,ar=null,it=!1,$r=null;function PN(n,e){var t=Sr(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function CS(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,cr=n,ar=Lo(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,cr=n,ar=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=gl!==null?{id:pi,overflow:gi}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Sr(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,cr=n,ar=null,!0):!1;default:return!1}}function A_(n){return(n.mode&1)!==0&&(n.flags&128)===0}function T_(n){if(it){var e=ar;if(e){var t=e;if(!CS(n,e)){if(A_(n))throw Error(X(418));e=Lo(t.nextSibling);var r=cr;e&&CS(n,e)?PN(r,t):(n.flags=n.flags&-4097|2,it=!1,cr=n)}}else{if(A_(n))throw Error(X(418));n.flags=n.flags&-4097|2,it=!1,cr=n}}}function PS(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;cr=n}function Wp(n){if(n!==cr)return!1;if(!it)return PS(n),it=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!__(n.type,n.memoizedProps)),e&&(e=ar)){if(A_(n))throw kN(),Error(X(418));for(;e;)PN(n,e),e=Lo(e.nextSibling)}if(PS(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(X(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ar=Lo(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ar=null}}else ar=cr?Lo(n.stateNode.nextSibling):null;return!0}function kN(){for(var n=ar;n;)n=Lo(n.nextSibling)}function Fu(){ar=cr=null,it=!1}function a1(n){$r===null?$r=[n]:$r.push(n)}var v8=Oi.ReactCurrentBatchConfig;function Nh(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(X(309));var r=t.stateNode}if(!r)throw Error(X(147,n));var s=r,i=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof n!="string")throw Error(X(284));if(!t._owner)throw Error(X(290,n))}return n}function $p(n,e){throw n=Object.prototype.toString.call(e),Error(X(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function kS(n){var e=n._init;return e(n._payload)}function RN(n){function e(w,_){if(n){var E=w.deletions;E===null?(w.deletions=[_],w.flags|=16):E.push(_)}}function t(w,_){if(!n)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function s(w,_){return w=Uo(w,_),w.index=0,w.sibling=null,w}function i(w,_,E){return w.index=E,n?(E=w.alternate,E!==null?(E=E.index,E<_?(w.flags|=2,_):E):(w.flags|=2,_)):(w.flags|=1048576,_)}function o(w){return n&&w.alternate===null&&(w.flags|=2),w}function a(w,_,E,C){return _===null||_.tag!==6?(_=Gw(E,w.mode,C),_.return=w,_):(_=s(_,E),_.return=w,_)}function l(w,_,E,C){var R=E.type;return R===ac?u(w,_,E.props.children,C,E.key):_!==null&&(_.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ki&&kS(R)===_.type)?(C=s(_,E.props),C.ref=Nh(w,_,E),C.return=w,C):(C=Hg(E.type,E.key,E.props,null,w.mode,C),C.ref=Nh(w,_,E),C.return=w,C)}function c(w,_,E,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=Ww(E,w.mode,C),_.return=w,_):(_=s(_,E.children||[]),_.return=w,_)}function u(w,_,E,C,R){return _===null||_.tag!==7?(_=nl(E,w.mode,C,R),_.return=w,_):(_=s(_,E),_.return=w,_)}function d(w,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Gw(""+_,w.mode,E),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Lp:return E=Hg(_.type,_.key,_.props,null,w.mode,E),E.ref=Nh(w,null,_),E.return=w,E;case oc:return _=Ww(_,w.mode,E),_.return=w,_;case Ki:var C=_._init;return d(w,C(_._payload),E)}if(Jh(_)||Ih(_))return _=nl(_,w.mode,E,null),_.return=w,_;$p(w,_)}return null}function f(w,_,E,C){var R=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return R!==null?null:a(w,_,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Lp:return E.key===R?l(w,_,E,C):null;case oc:return E.key===R?c(w,_,E,C):null;case Ki:return R=E._init,f(w,_,R(E._payload),C)}if(Jh(E)||Ih(E))return R!==null?null:u(w,_,E,C,null);$p(w,E)}return null}function p(w,_,E,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(E)||null,a(_,w,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Lp:return w=w.get(C.key===null?E:C.key)||null,l(_,w,C,R);case oc:return w=w.get(C.key===null?E:C.key)||null,c(_,w,C,R);case Ki:var D=C._init;return p(w,_,E,D(C._payload),R)}if(Jh(C)||Ih(C))return w=w.get(E)||null,u(_,w,C,R,null);$p(_,C)}return null}function g(w,_,E,C){for(var R=null,D=null,T=_,x=_=0,I=null;T!==null&&x<E.length;x++){T.index>x?(I=T,T=null):I=T.sibling;var k=f(w,T,E[x],C);if(k===null){T===null&&(T=I);break}n&&T&&k.alternate===null&&e(w,T),_=i(k,_,x),D===null?R=k:D.sibling=k,D=k,T=I}if(x===E.length)return t(w,T),it&&pa(w,x),R;if(T===null){for(;x<E.length;x++)T=d(w,E[x],C),T!==null&&(_=i(T,_,x),D===null?R=T:D.sibling=T,D=T);return it&&pa(w,x),R}for(T=r(w,T);x<E.length;x++)I=p(T,w,x,E[x],C),I!==null&&(n&&I.alternate!==null&&T.delete(I.key===null?x:I.key),_=i(I,_,x),D===null?R=I:D.sibling=I,D=I);return n&&T.forEach(function(N){return e(w,N)}),it&&pa(w,x),R}function y(w,_,E,C){var R=Ih(E);if(typeof R!="function")throw Error(X(150));if(E=R.call(E),E==null)throw Error(X(151));for(var D=R=null,T=_,x=_=0,I=null,k=E.next();T!==null&&!k.done;x++,k=E.next()){T.index>x?(I=T,T=null):I=T.sibling;var N=f(w,T,k.value,C);if(N===null){T===null&&(T=I);break}n&&T&&N.alternate===null&&e(w,T),_=i(N,_,x),D===null?R=N:D.sibling=N,D=N,T=I}if(k.done)return t(w,T),it&&pa(w,x),R;if(T===null){for(;!k.done;x++,k=E.next())k=d(w,k.value,C),k!==null&&(_=i(k,_,x),D===null?R=k:D.sibling=k,D=k);return it&&pa(w,x),R}for(T=r(w,T);!k.done;x++,k=E.next())k=p(T,w,x,k.value,C),k!==null&&(n&&k.alternate!==null&&T.delete(k.key===null?x:k.key),_=i(k,_,x),D===null?R=k:D.sibling=k,D=k);return n&&T.forEach(function(M){return e(w,M)}),it&&pa(w,x),R}function v(w,_,E,C){if(typeof E=="object"&&E!==null&&E.type===ac&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Lp:e:{for(var R=E.key,D=_;D!==null;){if(D.key===R){if(R=E.type,R===ac){if(D.tag===7){t(w,D.sibling),_=s(D,E.props.children),_.return=w,w=_;break e}}else if(D.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ki&&kS(R)===D.type){t(w,D.sibling),_=s(D,E.props),_.ref=Nh(w,D,E),_.return=w,w=_;break e}t(w,D);break}else e(w,D);D=D.sibling}E.type===ac?(_=nl(E.props.children,w.mode,C,E.key),_.return=w,w=_):(C=Hg(E.type,E.key,E.props,null,w.mode,C),C.ref=Nh(w,_,E),C.return=w,w=C)}return o(w);case oc:e:{for(D=E.key;_!==null;){if(_.key===D)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){t(w,_.sibling),_=s(_,E.children||[]),_.return=w,w=_;break e}else{t(w,_);break}else e(w,_);_=_.sibling}_=Ww(E,w.mode,C),_.return=w,w=_}return o(w);case Ki:return D=E._init,v(w,_,D(E._payload),C)}if(Jh(E))return g(w,_,E,C);if(Ih(E))return y(w,_,E,C);$p(w,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(t(w,_.sibling),_=s(_,E),_.return=w,w=_):(t(w,_),_=Gw(E,w.mode,C),_.return=w,w=_),o(w)):t(w,_)}return v}var Bu=RN(!0),NN=RN(!1),Hm=na(null),Gm=null,gc=null,l1=null;function c1(){l1=gc=Gm=null}function u1(n){var e=Hm.current;rt(Hm),n._currentValue=e}function S_(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Dc(n,e){Gm=n,l1=gc=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&($n=!0),n.firstContext=null)}function kr(n){var e=n._currentValue;if(l1!==n)if(n={context:n,memoizedValue:e,next:null},gc===null){if(Gm===null)throw Error(X(308));gc=n,Gm.dependencies={lanes:0,firstContext:n}}else gc=gc.next=n;return e}var Sa=null;function h1(n){Sa===null?Sa=[n]:Sa.push(n)}function ON(n,e,t,r){var s=e.interleaved;return s===null?(t.next=t,h1(e)):(t.next=s.next,s.next=t),e.interleaved=t,Pi(n,r)}function Pi(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var qi=!1;function d1(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DN(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function _i(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Mo(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Fe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Pi(n,t)}return s=r.interleaved,s===null?(e.next=e,h1(r)):(e.next=s.next,s.next=e),r.interleaved=e,Pi(n,t)}function Fg(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,YE(n,t)}}function RS(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var s=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?s=i=o:i=i.next=o,t=t.next}while(t!==null);i===null?s=i=e:i=i.next=e}else s=i=e;t={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Wm(n,e,t,r){var s=n.updateQueue;qi=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,y=a;switch(f=e,p=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){d=g.call(p,d,f);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,f=typeof g=="function"?g.call(p,d,f):g,f==null)break e;d=ut({},d,f);break e;case 2:qi=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);yl|=o,n.lanes=o,n.memoizedState=d}}function NS(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],s=r.callback;if(s!==null){if(r.callback=null,r=t,typeof s!="function")throw Error(X(191,s));s.call(r)}}}var tp={},ks=na(tp),Zd=na(tp),ef=na(tp);function Ia(n){if(n===tp)throw Error(X(174));return n}function f1(n,e){switch(Je(ef,e),Je(Zd,n),Je(ks,tp),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:o_(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=o_(e,n)}rt(ks),Je(ks,e)}function Uu(){rt(ks),rt(Zd),rt(ef)}function LN(n){Ia(ef.current);var e=Ia(ks.current),t=o_(e,n.type);e!==t&&(Je(Zd,n),Je(ks,t))}function p1(n){Zd.current===n&&(rt(ks),rt(Zd))}var ot=na(0);function $m(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bw=[];function g1(){for(var n=0;n<Bw.length;n++)Bw[n]._workInProgressVersionPrimary=null;Bw.length=0}var Bg=Oi.ReactCurrentDispatcher,Uw=Oi.ReactCurrentBatchConfig,ml=0,lt=null,Pt=null,Ut=null,Qm=!1,vd=!1,tf=0,_8=0;function an(){throw Error(X(321))}function m1(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Zr(n[t],e[t]))return!1;return!0}function y1(n,e,t,r,s,i){if(ml=i,lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bg.current=n===null||n.memoizedState===null?A8:T8,n=t(r,s),vd){i=0;do{if(vd=!1,tf=0,25<=i)throw Error(X(301));i+=1,Ut=Pt=null,e.updateQueue=null,Bg.current=S8,n=t(r,s)}while(vd)}if(Bg.current=Km,e=Pt!==null&&Pt.next!==null,ml=0,Ut=Pt=lt=null,Qm=!1,e)throw Error(X(300));return n}function w1(){var n=tf!==0;return tf=0,n}function cs(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?lt.memoizedState=Ut=n:Ut=Ut.next=n,Ut}function Rr(){if(Pt===null){var n=lt.alternate;n=n!==null?n.memoizedState:null}else n=Pt.next;var e=Ut===null?lt.memoizedState:Ut.next;if(e!==null)Ut=e,Pt=n;else{if(n===null)throw Error(X(310));Pt=n,n={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Ut===null?lt.memoizedState=Ut=n:Ut=Ut.next=n}return Ut}function nf(n,e){return typeof e=="function"?e(n):e}function Vw(n){var e=Rr(),t=e.queue;if(t===null)throw Error(X(311));t.lastRenderedReducer=n;var r=Pt,s=r.baseQueue,i=t.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,t.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((ml&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,lt.lanes|=u,yl|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Zr(r,e.memoizedState)||($n=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){s=n;do i=s.lane,lt.lanes|=i,yl|=i,s=s.next;while(s!==n)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function jw(n){var e=Rr(),t=e.queue;if(t===null)throw Error(X(311));t.lastRenderedReducer=n;var r=t.dispatch,s=t.pending,i=e.memoizedState;if(s!==null){t.pending=null;var o=s=s.next;do i=n(i,o.action),o=o.next;while(o!==s);Zr(i,e.memoizedState)||($n=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),t.lastRenderedState=i}return[i,r]}function MN(){}function FN(n,e){var t=lt,r=Rr(),s=e(),i=!Zr(r.memoizedState,s);if(i&&(r.memoizedState=s,$n=!0),r=r.queue,v1(VN.bind(null,t,r,n),[n]),r.getSnapshot!==e||i||Ut!==null&&Ut.memoizedState.tag&1){if(t.flags|=2048,rf(9,UN.bind(null,t,r,s,e),void 0,null),Ht===null)throw Error(X(349));ml&30||BN(t,e,s)}return s}function BN(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function UN(n,e,t,r){e.value=t,e.getSnapshot=r,jN(e)&&zN(n)}function VN(n,e,t){return t(function(){jN(e)&&zN(n)})}function jN(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Zr(n,t)}catch{return!0}}function zN(n){var e=Pi(n,1);e!==null&&Yr(e,n,1,-1)}function OS(n){var e=cs();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nf,lastRenderedState:n},e.queue=n,n=n.dispatch=x8.bind(null,lt,n),[e.memoizedState,n]}function rf(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=lt.updateQueue,e===null?(e={lastEffect:null,stores:null},lt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function HN(){return Rr().memoizedState}function Ug(n,e,t,r){var s=cs();lt.flags|=n,s.memoizedState=rf(1|e,t,void 0,r===void 0?null:r)}function s0(n,e,t,r){var s=Rr();r=r===void 0?null:r;var i=void 0;if(Pt!==null){var o=Pt.memoizedState;if(i=o.destroy,r!==null&&m1(r,o.deps)){s.memoizedState=rf(e,t,i,r);return}}lt.flags|=n,s.memoizedState=rf(1|e,t,i,r)}function DS(n,e){return Ug(8390656,8,n,e)}function v1(n,e){return s0(2048,8,n,e)}function GN(n,e){return s0(4,2,n,e)}function WN(n,e){return s0(4,4,n,e)}function $N(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function QN(n,e,t){return t=t!=null?t.concat([n]):null,s0(4,4,$N.bind(null,e,n),t)}function _1(){}function KN(n,e){var t=Rr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&m1(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function qN(n,e){var t=Rr();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&m1(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function JN(n,e,t){return ml&21?(Zr(t,e)||(t=tN(),lt.lanes|=t,yl|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,$n=!0),n.memoizedState=t)}function b8(n,e){var t=Ge;Ge=t!==0&&4>t?t:4,n(!0);var r=Uw.transition;Uw.transition={};try{n(!1),e()}finally{Ge=t,Uw.transition=r}}function YN(){return Rr().memoizedState}function E8(n,e,t){var r=Bo(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},XN(n))ZN(e,t);else if(t=ON(n,e,t,r),t!==null){var s=On();Yr(t,n,r,s),eO(t,e,r)}}function x8(n,e,t){var r=Bo(n),s={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(XN(n))ZN(e,s);else{var i=n.alternate;if(n.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,t);if(s.hasEagerState=!0,s.eagerState=a,Zr(a,o)){var l=e.interleaved;l===null?(s.next=s,h1(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}t=ON(n,e,s,r),t!==null&&(s=On(),Yr(t,n,r,s),eO(t,e,r))}}function XN(n){var e=n.alternate;return n===lt||e!==null&&e===lt}function ZN(n,e){vd=Qm=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function eO(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,YE(n,t)}}var Km={readContext:kr,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},A8={readContext:kr,useCallback:function(n,e){return cs().memoizedState=[n,e===void 0?null:e],n},useContext:kr,useEffect:DS,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Ug(4194308,4,$N.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Ug(4194308,4,n,e)},useInsertionEffect:function(n,e){return Ug(4,2,n,e)},useMemo:function(n,e){var t=cs();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=cs();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=E8.bind(null,lt,n),[r.memoizedState,n]},useRef:function(n){var e=cs();return n={current:n},e.memoizedState=n},useState:OS,useDebugValue:_1,useDeferredValue:function(n){return cs().memoizedState=n},useTransition:function(){var n=OS(!1),e=n[0];return n=b8.bind(null,n[1]),cs().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=lt,s=cs();if(it){if(t===void 0)throw Error(X(407));t=t()}else{if(t=e(),Ht===null)throw Error(X(349));ml&30||BN(r,e,t)}s.memoizedState=t;var i={value:t,getSnapshot:e};return s.queue=i,DS(VN.bind(null,r,i,n),[n]),r.flags|=2048,rf(9,UN.bind(null,r,i,t,e),void 0,null),t},useId:function(){var n=cs(),e=Ht.identifierPrefix;if(it){var t=gi,r=pi;t=(r&~(1<<32-Jr(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=tf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=_8++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},T8={readContext:kr,useCallback:KN,useContext:kr,useEffect:v1,useImperativeHandle:QN,useInsertionEffect:GN,useLayoutEffect:WN,useMemo:qN,useReducer:Vw,useRef:HN,useState:function(){return Vw(nf)},useDebugValue:_1,useDeferredValue:function(n){var e=Rr();return JN(e,Pt.memoizedState,n)},useTransition:function(){var n=Vw(nf)[0],e=Rr().memoizedState;return[n,e]},useMutableSource:MN,useSyncExternalStore:FN,useId:YN,unstable_isNewReconciler:!1},S8={readContext:kr,useCallback:KN,useContext:kr,useEffect:v1,useImperativeHandle:QN,useInsertionEffect:GN,useLayoutEffect:WN,useMemo:qN,useReducer:jw,useRef:HN,useState:function(){return jw(nf)},useDebugValue:_1,useDeferredValue:function(n){var e=Rr();return Pt===null?e.memoizedState=n:JN(e,Pt.memoizedState,n)},useTransition:function(){var n=jw(nf)[0],e=Rr().memoizedState;return[n,e]},useMutableSource:MN,useSyncExternalStore:FN,useId:YN,unstable_isNewReconciler:!1};function Br(n,e){if(n&&n.defaultProps){e=ut({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function I_(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:ut({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var i0={isMounted:function(n){return(n=n._reactInternals)?Ml(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=On(),s=Bo(n),i=_i(r,s);i.payload=e,t!=null&&(i.callback=t),e=Mo(n,i,s),e!==null&&(Yr(e,n,s,r),Fg(e,n,s))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=On(),s=Bo(n),i=_i(r,s);i.tag=1,i.payload=e,t!=null&&(i.callback=t),e=Mo(n,i,s),e!==null&&(Yr(e,n,s,r),Fg(e,n,s))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=On(),r=Bo(n),s=_i(t,r);s.tag=2,e!=null&&(s.callback=e),e=Mo(n,s,r),e!==null&&(Yr(e,n,r,t),Fg(e,n,r))}};function LS(n,e,t,r,s,i,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!qd(t,r)||!qd(s,i):!0}function tO(n,e,t){var r=!1,s=qo,i=e.contextType;return typeof i=="object"&&i!==null?i=kr(i):(s=Kn(e)?pl:_n.current,r=e.contextTypes,i=(r=r!=null)?Mu(n,s):qo),e=new e(t,i),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=i0,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=i),e}function MS(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&i0.enqueueReplaceState(e,e.state,null)}function C_(n,e,t,r){var s=n.stateNode;s.props=t,s.state=n.memoizedState,s.refs={},d1(n);var i=e.contextType;typeof i=="object"&&i!==null?s.context=kr(i):(i=Kn(e)?pl:_n.current,s.context=Mu(n,i)),s.state=n.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(I_(n,e,i,t),s.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&i0.enqueueReplaceState(s,s.state,null),Wm(n,t,s,r),s.state=n.memoizedState),typeof s.componentDidMount=="function"&&(n.flags|=4194308)}function Vu(n,e){try{var t="",r=e;do t+=e9(r),r=r.return;while(r);var s=t}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:n,source:e,stack:s,digest:null}}function zw(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function P_(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var I8=typeof WeakMap=="function"?WeakMap:Map;function nO(n,e,t){t=_i(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Jm||(Jm=!0,U_=r),P_(n,e)},t}function rO(n,e,t){t=_i(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;t.payload=function(){return r(s)},t.callback=function(){P_(n,e)}}var i=n.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){P_(n,e),typeof r!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function FS(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new I8;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(t)||(s.add(t),n=j8.bind(null,n,e,t),e.then(n,n))}function BS(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function US(n,e,t,r,s){return n.mode&1?(n.flags|=65536,n.lanes=s,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=_i(-1,1),e.tag=2,Mo(t,e,1))),t.lanes|=1),n)}var C8=Oi.ReactCurrentOwner,$n=!1;function Tn(n,e,t,r){e.child=n===null?NN(e,null,t,r):Bu(e,n.child,t,r)}function VS(n,e,t,r,s){t=t.render;var i=e.ref;return Dc(e,s),r=y1(n,e,t,r,i,s),t=w1(),n!==null&&!$n?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,ki(n,e,s)):(it&&t&&i1(e),e.flags|=1,Tn(n,e,r,s),e.child)}function jS(n,e,t,r,s){if(n===null){var i=t.type;return typeof i=="function"&&!C1(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=i,sO(n,e,i,r,s)):(n=Hg(t.type,null,r,e,e.mode,s),n.ref=e.ref,n.return=e,e.child=n)}if(i=n.child,!(n.lanes&s)){var o=i.memoizedProps;if(t=t.compare,t=t!==null?t:qd,t(o,r)&&n.ref===e.ref)return ki(n,e,s)}return e.flags|=1,n=Uo(i,r),n.ref=e.ref,n.return=e,e.child=n}function sO(n,e,t,r,s){if(n!==null){var i=n.memoizedProps;if(qd(i,r)&&n.ref===e.ref)if($n=!1,e.pendingProps=r=i,(n.lanes&s)!==0)n.flags&131072&&($n=!0);else return e.lanes=n.lanes,ki(n,e,s)}return k_(n,e,t,r,s)}function iO(n,e,t){var r=e.pendingProps,s=r.children,i=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(yc,or),or|=t;else{if(!(t&1073741824))return n=i!==null?i.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Je(yc,or),or|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:t,Je(yc,or),or|=r}else i!==null?(r=i.baseLanes|t,e.memoizedState=null):r=t,Je(yc,or),or|=r;return Tn(n,e,s,t),e.child}function oO(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function k_(n,e,t,r,s){var i=Kn(t)?pl:_n.current;return i=Mu(e,i),Dc(e,s),t=y1(n,e,t,r,i,s),r=w1(),n!==null&&!$n?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~s,ki(n,e,s)):(it&&r&&i1(e),e.flags|=1,Tn(n,e,t,s),e.child)}function zS(n,e,t,r,s){if(Kn(t)){var i=!0;Vm(e)}else i=!1;if(Dc(e,s),e.stateNode===null)Vg(n,e),tO(e,t,r),C_(e,t,r,s),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=kr(c):(c=Kn(t)?pl:_n.current,c=Mu(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&MS(e,o,r,c),qi=!1;var f=e.memoizedState;o.state=f,Wm(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Qn.current||qi?(typeof u=="function"&&(I_(e,t,u,r),l=e.memoizedState),(a=qi||LS(e,t,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,DN(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Br(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=kr(l):(l=Kn(t)?pl:_n.current,l=Mu(e,l));var p=t.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&MS(e,o,r,l),qi=!1,f=e.memoizedState,o.state=f,Wm(e,r,o,s);var g=e.memoizedState;a!==d||f!==g||Qn.current||qi?(typeof p=="function"&&(I_(e,t,p,r),g=e.memoizedState),(c=qi||LS(e,t,c,r,f,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),r=!1)}return R_(n,e,t,r,i,s)}function R_(n,e,t,r,s,i){oO(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&IS(e,t,!1),ki(n,e,i);r=e.stateNode,C8.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Bu(e,n.child,null,i),e.child=Bu(e,null,a,i)):Tn(n,e,a,i),e.memoizedState=r.state,s&&IS(e,t,!0),e.child}function aO(n){var e=n.stateNode;e.pendingContext?SS(n,e.pendingContext,e.pendingContext!==e.context):e.context&&SS(n,e.context,!1),f1(n,e.containerInfo)}function HS(n,e,t,r,s){return Fu(),a1(s),e.flags|=256,Tn(n,e,t,r),e.child}var N_={dehydrated:null,treeContext:null,retryLane:0};function O_(n){return{baseLanes:n,cachePool:null,transitions:null}}function lO(n,e,t){var r=e.pendingProps,s=ot.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(s|=1),Je(ot,s&1),n===null)return T_(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=l0(o,r,0,null),n=nl(n,r,t,null),i.return=e,n.return=e,i.sibling=n,e.child=i,e.child.memoizedState=O_(t),e.memoizedState=N_,n):b1(e,o));if(s=n.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return P8(n,e,o,r,a,s,t);if(i){i=r.fallback,o=e.mode,s=n.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Uo(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Uo(a,i):(i=nl(i,o,t,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=n.child.memoizedState,o=o===null?O_(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=n.childLanes&~t,e.memoizedState=N_,r}return i=n.child,n=i.sibling,r=Uo(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function b1(n,e){return e=l0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Qp(n,e,t,r){return r!==null&&a1(r),Bu(e,n.child,null,t),n=b1(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function P8(n,e,t,r,s,i,o){if(t)return e.flags&256?(e.flags&=-257,r=zw(Error(X(422))),Qp(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=l0({mode:"visible",children:r.children},s,0,null),i=nl(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Bu(e,n.child,null,o),e.child.memoizedState=O_(o),e.memoizedState=N_,i);if(!(e.mode&1))return Qp(n,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(X(419)),r=zw(i,r,void 0),Qp(n,e,o,r)}if(a=(o&n.childLanes)!==0,$n||a){if(r=Ht,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Pi(n,s),Yr(r,n,s,-1))}return I1(),r=zw(Error(X(421))),Qp(n,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=n.child,e=z8.bind(null,n),s._reactRetry=e,null):(n=i.treeContext,ar=Lo(s.nextSibling),cr=e,it=!0,$r=null,n!==null&&(xr[Ar++]=pi,xr[Ar++]=gi,xr[Ar++]=gl,pi=n.id,gi=n.overflow,gl=e),e=b1(e,r.children),e.flags|=4096,e)}function GS(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),S_(n.return,e,t)}function Hw(n,e,t,r,s){var i=n.memoizedState;i===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=t,i.tailMode=s)}function cO(n,e,t){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Tn(n,e,r.children,t),r=ot.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&GS(n,t,e);else if(n.tag===19)GS(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Je(ot,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)n=t.alternate,n!==null&&$m(n)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),Hw(e,!1,s,t,i);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(n=s.alternate,n!==null&&$m(n)===null){e.child=s;break}n=s.sibling,s.sibling=t,t=s,s=n}Hw(e,!0,t,null,i);break;case"together":Hw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vg(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ki(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),yl|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(X(153));if(e.child!==null){for(n=e.child,t=Uo(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Uo(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function k8(n,e,t){switch(e.tag){case 3:aO(e),Fu();break;case 5:LN(e);break;case 1:Kn(e.type)&&Vm(e);break;case 4:f1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Je(Hm,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Je(ot,ot.current&1),e.flags|=128,null):t&e.child.childLanes?lO(n,e,t):(Je(ot,ot.current&1),n=ki(n,e,t),n!==null?n.sibling:null);Je(ot,ot.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return cO(n,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Je(ot,ot.current),r)break;return null;case 22:case 23:return e.lanes=0,iO(n,e,t)}return ki(n,e,t)}var uO,D_,hO,dO;uO=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};D_=function(){};hO=function(n,e,t,r){var s=n.memoizedProps;if(s!==r){n=e.stateNode,Ia(ks.current);var i=null;switch(t){case"input":s=n_(n,s),r=n_(n,r),i=[];break;case"select":s=ut({},s,{value:void 0}),r=ut({},r,{value:void 0}),i=[];break;case"textarea":s=i_(n,s),r=i_(n,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Bm)}a_(t,r);var o;t=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(zd.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(i||(i=[]),i.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(zd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&et("scroll",n),i||a===l||(i=[])):(i=i||[]).push(c,l))}t&&(i=i||[]).push("style",t);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};dO=function(n,e,t,r){t!==r&&(e.flags|=4)};function Oh(n,e){if(!it)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function ln(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=n,s=s.sibling;else for(s=n.child;s!==null;)t|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=n,s=s.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function R8(n,e,t){var r=e.pendingProps;switch(o1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(e),null;case 1:return Kn(e.type)&&Um(),ln(e),null;case 3:return r=e.stateNode,Uu(),rt(Qn),rt(_n),g1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(Wp(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$r!==null&&(z_($r),$r=null))),D_(n,e),ln(e),null;case 5:p1(e);var s=Ia(ef.current);if(t=e.type,n!==null&&e.stateNode!=null)hO(n,e,t,r,s),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(X(166));return ln(e),null}if(n=Ia(ks.current),Wp(e)){r=e.stateNode,t=e.type;var i=e.memoizedProps;switch(r[vs]=e,r[Xd]=i,n=(e.mode&1)!==0,t){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(s=0;s<Xh.length;s++)et(Xh[s],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":ZT(r,i),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},et("invalid",r);break;case"textarea":tS(r,i),et("invalid",r)}a_(t,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Gp(r.textContent,a,n),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Gp(r.textContent,a,n),s=["children",""+a]):zd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&et("scroll",r)}switch(t){case"input":Mp(r),eS(r,i,!0);break;case"textarea":Mp(r),nS(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Bm)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=V2(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[vs]=e,n[Xd]=r,uO(n,e,!1,!1),e.stateNode=n;e:{switch(o=l_(t,r),t){case"dialog":et("cancel",n),et("close",n),s=r;break;case"iframe":case"object":case"embed":et("load",n),s=r;break;case"video":case"audio":for(s=0;s<Xh.length;s++)et(Xh[s],n);s=r;break;case"source":et("error",n),s=r;break;case"img":case"image":case"link":et("error",n),et("load",n),s=r;break;case"details":et("toggle",n),s=r;break;case"input":ZT(n,r),s=n_(n,r),et("invalid",n);break;case"option":s=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},s=ut({},r,{value:void 0}),et("invalid",n);break;case"textarea":tS(n,r),s=i_(n,r),et("invalid",n);break;default:s=r}a_(t,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?H2(n,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&j2(n,l)):i==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Hd(n,l):typeof l=="number"&&Hd(n,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zd.hasOwnProperty(i)?l!=null&&i==="onScroll"&&et("scroll",n):l!=null&&WE(n,i,l,o))}switch(t){case"input":Mp(n),eS(n,r,!1);break;case"textarea":Mp(n),nS(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Ko(r.value));break;case"select":n.multiple=!!r.multiple,i=r.value,i!=null?kc(n,!!r.multiple,i,!1):r.defaultValue!=null&&kc(n,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(n.onclick=Bm)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ln(e),null;case 6:if(n&&e.stateNode!=null)dO(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(X(166));if(t=Ia(ef.current),Ia(ks.current),Wp(e)){if(r=e.stateNode,t=e.memoizedProps,r[vs]=e,(i=r.nodeValue!==t)&&(n=cr,n!==null))switch(n.tag){case 3:Gp(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Gp(r.nodeValue,t,(n.mode&1)!==0)}i&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[vs]=e,e.stateNode=r}return ln(e),null;case 13:if(rt(ot),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(it&&ar!==null&&e.mode&1&&!(e.flags&128))kN(),Fu(),e.flags|=98560,i=!1;else if(i=Wp(e),r!==null&&r.dehydrated!==null){if(n===null){if(!i)throw Error(X(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(X(317));i[vs]=e}else Fu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ln(e),i=!1}else $r!==null&&(z_($r),$r=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||ot.current&1?Nt===0&&(Nt=3):I1())),e.updateQueue!==null&&(e.flags|=4),ln(e),null);case 4:return Uu(),D_(n,e),n===null&&Jd(e.stateNode.containerInfo),ln(e),null;case 10:return u1(e.type._context),ln(e),null;case 17:return Kn(e.type)&&Um(),ln(e),null;case 19:if(rt(ot),i=e.memoizedState,i===null)return ln(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Oh(i,!1);else{if(Nt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=$m(n),o!==null){for(e.flags|=128,Oh(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)i=t,n=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=n,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,n=o.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Je(ot,ot.current&1|2),e.child}n=n.sibling}i.tail!==null&&_t()>ju&&(e.flags|=128,r=!0,Oh(i,!1),e.lanes=4194304)}else{if(!r)if(n=$m(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Oh(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!it)return ln(e),null}else 2*_t()-i.renderingStartTime>ju&&t!==1073741824&&(e.flags|=128,r=!0,Oh(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(t=i.last,t!==null?t.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_t(),e.sibling=null,t=ot.current,Je(ot,r?t&1|2:t&1),e):(ln(e),null);case 22:case 23:return S1(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?or&1073741824&&(ln(e),e.subtreeFlags&6&&(e.flags|=8192)):ln(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function N8(n,e){switch(o1(e),e.tag){case 1:return Kn(e.type)&&Um(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Uu(),rt(Qn),rt(_n),g1(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return p1(e),null;case 13:if(rt(ot),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Fu()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return rt(ot),null;case 4:return Uu(),null;case 10:return u1(e.type._context),null;case 22:case 23:return S1(),null;case 24:return null;default:return null}}var Kp=!1,gn=!1,O8=typeof WeakSet=="function"?WeakSet:Set,se=null;function mc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){pt(n,e,r)}else t.current=null}function L_(n,e,t){try{t()}catch(r){pt(n,e,r)}}var WS=!1;function D8(n,e){if(w_=Lm,n=yN(),s1(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=n,f=null;t:for(;;){for(var p;d!==t||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break t;if(f===t&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(v_={focusedElem:n,selectionRange:t},Lm=!1,se=e;se!==null;)if(e=se,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,se=n;else for(;se!==null;){e=se;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?y:Br(e.type,y),v);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(C){pt(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}return g=WS,WS=!1,g}function _d(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&n)===n){var i=s.destroy;s.destroy=void 0,i!==void 0&&L_(e,t,i)}s=s.next}while(s!==r)}}function o0(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function M_(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function fO(n){var e=n.alternate;e!==null&&(n.alternate=null,fO(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[vs],delete e[Xd],delete e[E_],delete e[m8],delete e[y8])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function pO(n){return n.tag===5||n.tag===3||n.tag===4}function $S(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||pO(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function F_(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Bm));else if(r!==4&&(n=n.child,n!==null))for(F_(n,e,t),n=n.sibling;n!==null;)F_(n,e,t),n=n.sibling}function B_(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(B_(n,e,t),n=n.sibling;n!==null;)B_(n,e,t),n=n.sibling}var Qt=null,Wr=!1;function Ui(n,e,t){for(t=t.child;t!==null;)gO(n,e,t),t=t.sibling}function gO(n,e,t){if(Ps&&typeof Ps.onCommitFiberUnmount=="function")try{Ps.onCommitFiberUnmount(Xy,t)}catch{}switch(t.tag){case 5:gn||mc(t,e);case 6:var r=Qt,s=Wr;Qt=null,Ui(n,e,t),Qt=r,Wr=s,Qt!==null&&(Wr?(n=Qt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Qt.removeChild(t.stateNode));break;case 18:Qt!==null&&(Wr?(n=Qt,t=t.stateNode,n.nodeType===8?Mw(n.parentNode,t):n.nodeType===1&&Mw(n,t),Qd(n)):Mw(Qt,t.stateNode));break;case 4:r=Qt,s=Wr,Qt=t.stateNode.containerInfo,Wr=!0,Ui(n,e,t),Qt=r,Wr=s;break;case 0:case 11:case 14:case 15:if(!gn&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&L_(t,e,o),s=s.next}while(s!==r)}Ui(n,e,t);break;case 1:if(!gn&&(mc(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){pt(t,e,a)}Ui(n,e,t);break;case 21:Ui(n,e,t);break;case 22:t.mode&1?(gn=(r=gn)||t.memoizedState!==null,Ui(n,e,t),gn=r):Ui(n,e,t);break;default:Ui(n,e,t)}}function QS(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new O8),e.forEach(function(r){var s=H8.bind(null,n,r);t.has(r)||(t.add(r),r.then(s,s))})}}function Lr(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var s=t[r];try{var i=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Qt=a.stateNode,Wr=!1;break e;case 3:Qt=a.stateNode.containerInfo,Wr=!0;break e;case 4:Qt=a.stateNode.containerInfo,Wr=!0;break e}a=a.return}if(Qt===null)throw Error(X(160));gO(i,o,s),Qt=null,Wr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){pt(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mO(e,n),e=e.sibling}function mO(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Lr(e,n),is(n),r&4){try{_d(3,n,n.return),o0(3,n)}catch(y){pt(n,n.return,y)}try{_d(5,n,n.return)}catch(y){pt(n,n.return,y)}}break;case 1:Lr(e,n),is(n),r&512&&t!==null&&mc(t,t.return);break;case 5:if(Lr(e,n),is(n),r&512&&t!==null&&mc(t,t.return),n.flags&32){var s=n.stateNode;try{Hd(s,"")}catch(y){pt(n,n.return,y)}}if(r&4&&(s=n.stateNode,s!=null)){var i=n.memoizedProps,o=t!==null?t.memoizedProps:i,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&B2(s,i),l_(a,o);var c=l_(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?H2(s,d):u==="dangerouslySetInnerHTML"?j2(s,d):u==="children"?Hd(s,d):WE(s,u,d,c)}switch(a){case"input":r_(s,i);break;case"textarea":U2(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?kc(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?kc(s,!!i.multiple,i.defaultValue,!0):kc(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xd]=i}catch(y){pt(n,n.return,y)}}break;case 6:if(Lr(e,n),is(n),r&4){if(n.stateNode===null)throw Error(X(162));s=n.stateNode,i=n.memoizedProps;try{s.nodeValue=i}catch(y){pt(n,n.return,y)}}break;case 3:if(Lr(e,n),is(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{Qd(e.containerInfo)}catch(y){pt(n,n.return,y)}break;case 4:Lr(e,n),is(n);break;case 13:Lr(e,n),is(n),s=n.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(A1=_t())),r&4&&QS(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(gn=(c=gn)||u,Lr(e,n),gn=c):Lr(e,n),is(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(se=n,u=n.child;u!==null;){for(d=se=u;se!==null;){switch(f=se,p=f.child,f.tag){case 0:case 11:case 14:case 15:_d(4,f,f.return);break;case 1:mc(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,t=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){pt(r,t,y)}}break;case 5:mc(f,f.return);break;case 22:if(f.memoizedState!==null){qS(d);continue}}p!==null?(p.return=f,se=p):qS(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=z2("display",o))}catch(y){pt(n,n.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){pt(n,n.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Lr(e,n),is(n),r&4&&QS(n);break;case 21:break;default:Lr(e,n),is(n)}}function is(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(pO(t)){var r=t;break e}t=t.return}throw Error(X(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Hd(s,""),r.flags&=-33);var i=$S(n);B_(n,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$S(n);F_(n,a,o);break;default:throw Error(X(161))}}catch(l){pt(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function L8(n,e,t){se=n,yO(n)}function yO(n,e,t){for(var r=(n.mode&1)!==0;se!==null;){var s=se,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Kp;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||gn;a=Kp;var c=gn;if(Kp=o,(gn=l)&&!c)for(se=s;se!==null;)o=se,l=o.child,o.tag===22&&o.memoizedState!==null?JS(s):l!==null?(l.return=o,se=l):JS(s);for(;i!==null;)se=i,yO(i),i=i.sibling;se=s,Kp=a,gn=c}KS(n)}else s.subtreeFlags&8772&&i!==null?(i.return=s,se=i):KS(n)}}function KS(n){for(;se!==null;){var e=se;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gn||o0(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gn)if(t===null)r.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:Br(e.type,t.memoizedProps);r.componentDidUpdate(s,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&NS(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}NS(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Qd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}gn||e.flags&512&&M_(e)}catch(f){pt(e,e.return,f)}}if(e===n){se=null;break}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}}function qS(n){for(;se!==null;){var e=se;if(e===n){se=null;break}var t=e.sibling;if(t!==null){t.return=e.return,se=t;break}se=e.return}}function JS(n){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{o0(4,e)}catch(l){pt(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){pt(e,s,l)}}var i=e.return;try{M_(e)}catch(l){pt(e,i,l)}break;case 5:var o=e.return;try{M_(e)}catch(l){pt(e,o,l)}}}catch(l){pt(e,e.return,l)}if(e===n){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var M8=Math.ceil,qm=Oi.ReactCurrentDispatcher,E1=Oi.ReactCurrentOwner,Pr=Oi.ReactCurrentBatchConfig,Fe=0,Ht=null,It=null,Xt=0,or=0,yc=na(0),Nt=0,sf=null,yl=0,a0=0,x1=0,bd=null,Hn=null,A1=0,ju=1/0,Gs=null,Jm=!1,U_=null,Fo=null,qp=!1,xo=null,Ym=0,Ed=0,V_=null,jg=-1,zg=0;function On(){return Fe&6?_t():jg!==-1?jg:jg=_t()}function Bo(n){return n.mode&1?Fe&2&&Xt!==0?Xt&-Xt:v8.transition!==null?(zg===0&&(zg=tN()),zg):(n=Ge,n!==0||(n=window.event,n=n===void 0?16:lN(n.type)),n):1}function Yr(n,e,t,r){if(50<Ed)throw Ed=0,V_=null,Error(X(185));Xf(n,t,r),(!(Fe&2)||n!==Ht)&&(n===Ht&&(!(Fe&2)&&(a0|=t),Nt===4&&no(n,Xt)),qn(n,r),t===1&&Fe===0&&!(e.mode&1)&&(ju=_t()+500,r0&&ra()))}function qn(n,e){var t=n.callbackNode;v9(n,e);var r=Dm(n,n===Ht?Xt:0);if(r===0)t!==null&&iS(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&iS(t),e===1)n.tag===0?w8(YS.bind(null,n)):IN(YS.bind(null,n)),p8(function(){!(Fe&6)&&ra()}),t=null;else{switch(nN(r)){case 1:t=JE;break;case 4:t=Z2;break;case 16:t=Om;break;case 536870912:t=eN;break;default:t=Om}t=TO(t,wO.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function wO(n,e){if(jg=-1,zg=0,Fe&6)throw Error(X(327));var t=n.callbackNode;if(Lc()&&n.callbackNode!==t)return null;var r=Dm(n,n===Ht?Xt:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Xm(n,r);else{e=r;var s=Fe;Fe|=2;var i=_O();(Ht!==n||Xt!==e)&&(Gs=null,ju=_t()+500,tl(n,e));do try{U8();break}catch(a){vO(n,a)}while(!0);c1(),qm.current=i,Fe=s,It!==null?e=0:(Ht=null,Xt=0,e=Nt)}if(e!==0){if(e===2&&(s=f_(n),s!==0&&(r=s,e=j_(n,s))),e===1)throw t=sf,tl(n,0),no(n,r),qn(n,_t()),t;if(e===6)no(n,r);else{if(s=n.current.alternate,!(r&30)&&!F8(s)&&(e=Xm(n,r),e===2&&(i=f_(n),i!==0&&(r=i,e=j_(n,i))),e===1))throw t=sf,tl(n,0),no(n,r),qn(n,_t()),t;switch(n.finishedWork=s,n.finishedLanes=r,e){case 0:case 1:throw Error(X(345));case 2:ga(n,Hn,Gs);break;case 3:if(no(n,r),(r&130023424)===r&&(e=A1+500-_t(),10<e)){if(Dm(n,0)!==0)break;if(s=n.suspendedLanes,(s&r)!==r){On(),n.pingedLanes|=n.suspendedLanes&s;break}n.timeoutHandle=b_(ga.bind(null,n,Hn,Gs),e);break}ga(n,Hn,Gs);break;case 4:if(no(n,r),(r&4194240)===r)break;for(e=n.eventTimes,s=-1;0<r;){var o=31-Jr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*M8(r/1960))-r,10<r){n.timeoutHandle=b_(ga.bind(null,n,Hn,Gs),r);break}ga(n,Hn,Gs);break;case 5:ga(n,Hn,Gs);break;default:throw Error(X(329))}}}return qn(n,_t()),n.callbackNode===t?wO.bind(null,n):null}function j_(n,e){var t=bd;return n.current.memoizedState.isDehydrated&&(tl(n,e).flags|=256),n=Xm(n,e),n!==2&&(e=Hn,Hn=t,e!==null&&z_(e)),n}function z_(n){Hn===null?Hn=n:Hn.push.apply(Hn,n)}function F8(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var s=t[r],i=s.getSnapshot;s=s.value;try{if(!Zr(i(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function no(n,e){for(e&=~x1,e&=~a0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Jr(e),r=1<<t;n[t]=-1,e&=~r}}function YS(n){if(Fe&6)throw Error(X(327));Lc();var e=Dm(n,0);if(!(e&1))return qn(n,_t()),null;var t=Xm(n,e);if(n.tag!==0&&t===2){var r=f_(n);r!==0&&(e=r,t=j_(n,r))}if(t===1)throw t=sf,tl(n,0),no(n,e),qn(n,_t()),t;if(t===6)throw Error(X(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,ga(n,Hn,Gs),qn(n,_t()),null}function T1(n,e){var t=Fe;Fe|=1;try{return n(e)}finally{Fe=t,Fe===0&&(ju=_t()+500,r0&&ra())}}function wl(n){xo!==null&&xo.tag===0&&!(Fe&6)&&Lc();var e=Fe;Fe|=1;var t=Pr.transition,r=Ge;try{if(Pr.transition=null,Ge=1,n)return n()}finally{Ge=r,Pr.transition=t,Fe=e,!(Fe&6)&&ra()}}function S1(){or=yc.current,rt(yc)}function tl(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,f8(t)),It!==null)for(t=It.return;t!==null;){var r=t;switch(o1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Um();break;case 3:Uu(),rt(Qn),rt(_n),g1();break;case 5:p1(r);break;case 4:Uu();break;case 13:rt(ot);break;case 19:rt(ot);break;case 10:u1(r.type._context);break;case 22:case 23:S1()}t=t.return}if(Ht=n,It=n=Uo(n.current,null),Xt=or=e,Nt=0,sf=null,x1=a0=yl=0,Hn=bd=null,Sa!==null){for(e=0;e<Sa.length;e++)if(t=Sa[e],r=t.interleaved,r!==null){t.interleaved=null;var s=r.next,i=t.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}t.pending=r}Sa=null}return n}function vO(n,e){do{var t=It;try{if(c1(),Bg.current=Km,Qm){for(var r=lt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qm=!1}if(ml=0,Ut=Pt=lt=null,vd=!1,tf=0,E1.current=null,t===null||t.return===null){Nt=1,sf=e,It=null;break}e:{var i=n,o=t.return,a=t,l=e;if(e=Xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=BS(o);if(p!==null){p.flags&=-257,US(p,o,a,i,e),p.mode&1&&FS(i,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){FS(i,c,e),I1();break e}l=Error(X(426))}}else if(it&&a.mode&1){var v=BS(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),US(v,o,a,i,e),a1(Vu(l,a));break e}}i=l=Vu(l,a),Nt!==4&&(Nt=2),bd===null?bd=[i]:bd.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var w=nO(i,l,e);RS(i,w);break e;case 1:a=l;var _=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Fo===null||!Fo.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=rO(i,a,e);RS(i,C);break e}}i=i.return}while(i!==null)}EO(t)}catch(R){e=R,It===t&&t!==null&&(It=t=t.return);continue}break}while(!0)}function _O(){var n=qm.current;return qm.current=Km,n===null?Km:n}function I1(){(Nt===0||Nt===3||Nt===2)&&(Nt=4),Ht===null||!(yl&268435455)&&!(a0&268435455)||no(Ht,Xt)}function Xm(n,e){var t=Fe;Fe|=2;var r=_O();(Ht!==n||Xt!==e)&&(Gs=null,tl(n,e));do try{B8();break}catch(s){vO(n,s)}while(!0);if(c1(),Fe=t,qm.current=r,It!==null)throw Error(X(261));return Ht=null,Xt=0,Nt}function B8(){for(;It!==null;)bO(It)}function U8(){for(;It!==null&&!u9();)bO(It)}function bO(n){var e=AO(n.alternate,n,or);n.memoizedProps=n.pendingProps,e===null?EO(n):It=e,E1.current=null}function EO(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=N8(t,e),t!==null){t.flags&=32767,It=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Nt=6,It=null;return}}else if(t=R8(t,e,or),t!==null){It=t;return}if(e=e.sibling,e!==null){It=e;return}It=e=n}while(e!==null);Nt===0&&(Nt=5)}function ga(n,e,t){var r=Ge,s=Pr.transition;try{Pr.transition=null,Ge=1,V8(n,e,t,r)}finally{Pr.transition=s,Ge=r}return null}function V8(n,e,t,r){do Lc();while(xo!==null);if(Fe&6)throw Error(X(327));t=n.finishedWork;var s=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(X(177));n.callbackNode=null,n.callbackPriority=0;var i=t.lanes|t.childLanes;if(_9(n,i),n===Ht&&(It=Ht=null,Xt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||qp||(qp=!0,TO(Om,function(){return Lc(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Pr.transition,Pr.transition=null;var o=Ge;Ge=1;var a=Fe;Fe|=4,E1.current=null,D8(n,t),mO(t,n),o8(v_),Lm=!!w_,v_=w_=null,n.current=t,L8(t),h9(),Fe=a,Ge=o,Pr.transition=i}else n.current=t;if(qp&&(qp=!1,xo=n,Ym=s),i=n.pendingLanes,i===0&&(Fo=null),p9(t.stateNode),qn(n,_t()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)s=e[t],r(s.value,{componentStack:s.stack,digest:s.digest});if(Jm)throw Jm=!1,n=U_,U_=null,n;return Ym&1&&n.tag!==0&&Lc(),i=n.pendingLanes,i&1?n===V_?Ed++:(Ed=0,V_=n):Ed=0,ra(),null}function Lc(){if(xo!==null){var n=nN(Ym),e=Pr.transition,t=Ge;try{if(Pr.transition=null,Ge=16>n?16:n,xo===null)var r=!1;else{if(n=xo,xo=null,Ym=0,Fe&6)throw Error(X(331));var s=Fe;for(Fe|=4,se=n.current;se!==null;){var i=se,o=i.child;if(se.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(se=c;se!==null;){var u=se;switch(u.tag){case 0:case 11:case 15:_d(8,u,i)}var d=u.child;if(d!==null)d.return=u,se=d;else for(;se!==null;){u=se;var f=u.sibling,p=u.return;if(fO(u),u===c){se=null;break}if(f!==null){f.return=p,se=f;break}se=p}}}var g=i.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}se=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,se=o;else e:for(;se!==null;){if(i=se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:_d(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,se=w;break e}se=i.return}}var _=n.current;for(se=_;se!==null;){o=se;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,se=E;else e:for(o=_;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:o0(9,a)}}catch(R){pt(a,a.return,R)}if(a===o){se=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,se=C;break e}se=a.return}}if(Fe=s,ra(),Ps&&typeof Ps.onPostCommitFiberRoot=="function")try{Ps.onPostCommitFiberRoot(Xy,n)}catch{}r=!0}return r}finally{Ge=t,Pr.transition=e}}return!1}function XS(n,e,t){e=Vu(t,e),e=nO(n,e,1),n=Mo(n,e,1),e=On(),n!==null&&(Xf(n,1,e),qn(n,e))}function pt(n,e,t){if(n.tag===3)XS(n,n,t);else for(;e!==null;){if(e.tag===3){XS(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fo===null||!Fo.has(r))){n=Vu(t,n),n=rO(e,n,1),e=Mo(e,n,1),n=On(),e!==null&&(Xf(e,1,n),qn(e,n));break}}e=e.return}}function j8(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=On(),n.pingedLanes|=n.suspendedLanes&t,Ht===n&&(Xt&t)===t&&(Nt===4||Nt===3&&(Xt&130023424)===Xt&&500>_t()-A1?tl(n,0):x1|=t),qn(n,e)}function xO(n,e){e===0&&(n.mode&1?(e=Up,Up<<=1,!(Up&130023424)&&(Up=4194304)):e=1);var t=On();n=Pi(n,e),n!==null&&(Xf(n,e,t),qn(n,t))}function z8(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),xO(n,t)}function H8(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,s=n.memoizedState;s!==null&&(t=s.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(X(314))}r!==null&&r.delete(e),xO(n,t)}var AO;AO=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Qn.current)$n=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return $n=!1,k8(n,e,t);$n=!!(n.flags&131072)}else $n=!1,it&&e.flags&1048576&&CN(e,zm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vg(n,e),n=e.pendingProps;var s=Mu(e,_n.current);Dc(e,t),s=y1(null,e,r,n,s,t);var i=w1();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kn(r)?(i=!0,Vm(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,d1(e),s.updater=i0,e.stateNode=s,s._reactInternals=e,C_(e,r,n,t),e=R_(null,e,r,!0,i,t)):(e.tag=0,it&&i&&i1(e),Tn(null,e,s,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Vg(n,e),n=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=W8(r),n=Br(r,n),s){case 0:e=k_(null,e,r,n,t);break e;case 1:e=zS(null,e,r,n,t);break e;case 11:e=VS(null,e,r,n,t);break e;case 14:e=jS(null,e,r,Br(r.type,n),t);break e}throw Error(X(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Br(r,s),k_(n,e,r,s,t);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Br(r,s),zS(n,e,r,s,t);case 3:e:{if(aO(e),n===null)throw Error(X(387));r=e.pendingProps,i=e.memoizedState,s=i.element,DN(n,e),Wm(e,r,null,t);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Vu(Error(X(423)),e),e=HS(n,e,r,t,s);break e}else if(r!==s){s=Vu(Error(X(424)),e),e=HS(n,e,r,t,s);break e}else for(ar=Lo(e.stateNode.containerInfo.firstChild),cr=e,it=!0,$r=null,t=NN(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Fu(),r===s){e=ki(n,e,t);break e}Tn(n,e,r,t)}e=e.child}return e;case 5:return LN(e),n===null&&T_(e),r=e.type,s=e.pendingProps,i=n!==null?n.memoizedProps:null,o=s.children,__(r,s)?o=null:i!==null&&__(r,i)&&(e.flags|=32),oO(n,e),Tn(n,e,o,t),e.child;case 6:return n===null&&T_(e),null;case 13:return lO(n,e,t);case 4:return f1(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Bu(e,null,r,t):Tn(n,e,r,t),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Br(r,s),VS(n,e,r,s,t);case 7:return Tn(n,e,e.pendingProps,t),e.child;case 8:return Tn(n,e,e.pendingProps.children,t),e.child;case 12:return Tn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Je(Hm,r._currentValue),r._currentValue=o,i!==null)if(Zr(i.value,o)){if(i.children===s.children&&!Qn.current){e=ki(n,e,t);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=_i(-1,t&-t),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=t,l=i.alternate,l!==null&&(l.lanes|=t),S_(i.return,t,e),a.lanes|=t;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(X(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),S_(o,t,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tn(n,e,s.children,t),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Dc(e,t),s=kr(s),r=r(s),e.flags|=1,Tn(n,e,r,t),e.child;case 14:return r=e.type,s=Br(r,e.pendingProps),s=Br(r.type,s),jS(n,e,r,s,t);case 15:return sO(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Br(r,s),Vg(n,e),e.tag=1,Kn(r)?(n=!0,Vm(e)):n=!1,Dc(e,t),tO(e,r,s),C_(e,r,s,t),R_(null,e,r,!0,n,t);case 19:return cO(n,e,t);case 22:return iO(n,e,t)}throw Error(X(156,e.tag))};function TO(n,e){return X2(n,e)}function G8(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(n,e,t,r){return new G8(n,e,t,r)}function C1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function W8(n){if(typeof n=="function")return C1(n)?1:0;if(n!=null){if(n=n.$$typeof,n===QE)return 11;if(n===KE)return 14}return 2}function Uo(n,e){var t=n.alternate;return t===null?(t=Sr(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Hg(n,e,t,r,s,i){var o=2;if(r=n,typeof n=="function")C1(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case ac:return nl(t.children,s,i,e);case $E:o=8,s|=8;break;case Xv:return n=Sr(12,t,e,s|2),n.elementType=Xv,n.lanes=i,n;case Zv:return n=Sr(13,t,e,s),n.elementType=Zv,n.lanes=i,n;case e_:return n=Sr(19,t,e,s),n.elementType=e_,n.lanes=i,n;case L2:return l0(t,s,i,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case O2:o=10;break e;case D2:o=9;break e;case QE:o=11;break e;case KE:o=14;break e;case Ki:o=16,r=null;break e}throw Error(X(130,n==null?n:typeof n,""))}return e=Sr(o,t,e,s),e.elementType=n,e.type=r,e.lanes=i,e}function nl(n,e,t,r){return n=Sr(7,n,r,e),n.lanes=t,n}function l0(n,e,t,r){return n=Sr(22,n,r,e),n.elementType=L2,n.lanes=t,n.stateNode={isHidden:!1},n}function Gw(n,e,t){return n=Sr(6,n,null,e),n.lanes=t,n}function Ww(n,e,t){return e=Sr(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function $8(n,e,t,r,s){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tw(0),this.expirationTimes=Tw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tw(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function P1(n,e,t,r,s,i,o,a,l){return n=new $8(n,e,t,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Sr(3,null,null,e),n.current=i,i.stateNode=n,i.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},d1(i),n}function Q8(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oc,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function SO(n){if(!n)return qo;n=n._reactInternals;e:{if(Ml(n)!==n||n.tag!==1)throw Error(X(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(n.tag===1){var t=n.type;if(Kn(t))return SN(n,t,e)}return e}function IO(n,e,t,r,s,i,o,a,l){return n=P1(t,r,!0,n,s,i,o,a,l),n.context=SO(null),t=n.current,r=On(),s=Bo(t),i=_i(r,s),i.callback=e??null,Mo(t,i,s),n.current.lanes=s,Xf(n,s,r),qn(n,r),n}function c0(n,e,t,r){var s=e.current,i=On(),o=Bo(s);return t=SO(t),e.context===null?e.context=t:e.pendingContext=t,e=_i(i,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=Mo(s,e,o),n!==null&&(Yr(n,s,o,i),Fg(n,s,o)),o}function Zm(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ZS(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function k1(n,e){ZS(n,e),(n=n.alternate)&&ZS(n,e)}function K8(){return null}var CO=typeof reportError=="function"?reportError:function(n){console.error(n)};function R1(n){this._internalRoot=n}u0.prototype.render=R1.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(X(409));c0(n,e,null,null)};u0.prototype.unmount=R1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;wl(function(){c0(null,n,null,null)}),e[Ci]=null}};function u0(n){this._internalRoot=n}u0.prototype.unstable_scheduleHydration=function(n){if(n){var e=iN();n={blockedOn:null,target:n,priority:e};for(var t=0;t<to.length&&e!==0&&e<to[t].priority;t++);to.splice(t,0,n),t===0&&aN(n)}};function N1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function h0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function eI(){}function q8(n,e,t,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Zm(o);i.call(c)}}var o=IO(e,r,n,0,null,!1,!1,"",eI);return n._reactRootContainer=o,n[Ci]=o.current,Jd(n.nodeType===8?n.parentNode:n),wl(),o}for(;s=n.lastChild;)n.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Zm(l);a.call(c)}}var l=P1(n,0,!1,null,null,!1,!1,"",eI);return n._reactRootContainer=l,n[Ci]=l.current,Jd(n.nodeType===8?n.parentNode:n),wl(function(){c0(e,l,t,r)}),l}function d0(n,e,t,r,s){var i=t._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Zm(o);a.call(l)}}c0(e,o,n,s)}else o=q8(t,e,n,s,r);return Zm(o)}rN=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Yh(e.pendingLanes);t!==0&&(YE(e,t|1),qn(e,_t()),!(Fe&6)&&(ju=_t()+500,ra()))}break;case 13:wl(function(){var r=Pi(n,1);if(r!==null){var s=On();Yr(r,n,1,s)}}),k1(n,1)}};XE=function(n){if(n.tag===13){var e=Pi(n,134217728);if(e!==null){var t=On();Yr(e,n,134217728,t)}k1(n,134217728)}};sN=function(n){if(n.tag===13){var e=Bo(n),t=Pi(n,e);if(t!==null){var r=On();Yr(t,n,e,r)}k1(n,e)}};iN=function(){return Ge};oN=function(n,e){var t=Ge;try{return Ge=n,e()}finally{Ge=t}};u_=function(n,e,t){switch(e){case"input":if(r_(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var s=n0(r);if(!s)throw Error(X(90));F2(r),r_(r,s)}}}break;case"textarea":U2(n,t);break;case"select":e=t.value,e!=null&&kc(n,!!t.multiple,e,!1)}};$2=T1;Q2=wl;var J8={usingClientEntryPoint:!1,Events:[ep,hc,n0,G2,W2,T1]},Dh={findFiberByHostInstance:Ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y8={bundleType:Dh.bundleType,version:Dh.version,rendererPackageName:Dh.rendererPackageName,rendererConfig:Dh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=J2(n),n===null?null:n.stateNode},findFiberByHostInstance:Dh.findFiberByHostInstance||K8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jp.isDisabled&&Jp.supportsFiber)try{Xy=Jp.inject(Y8),Ps=Jp}catch{}}dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J8;dr.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N1(e))throw Error(X(200));return Q8(n,e,null,t)};dr.createRoot=function(n,e){if(!N1(n))throw Error(X(299));var t=!1,r="",s=CO;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=P1(n,1,!1,null,null,t,!1,r,s),n[Ci]=e.current,Jd(n.nodeType===8?n.parentNode:n),new R1(e)};dr.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(X(188)):(n=Object.keys(n).join(","),Error(X(268,n)));return n=J2(e),n=n===null?null:n.stateNode,n};dr.flushSync=function(n){return wl(n)};dr.hydrate=function(n,e,t){if(!h0(e))throw Error(X(200));return d0(null,n,e,!0,t)};dr.hydrateRoot=function(n,e,t){if(!N1(n))throw Error(X(405));var r=t!=null&&t.hydratedSources||null,s=!1,i="",o=CO;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=IO(e,null,n,1,t??null,s,!1,i,o),n[Ci]=e.current,Jd(n),r)for(n=0;n<r.length;n++)t=r[n],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new u0(e)};dr.render=function(n,e,t){if(!h0(e))throw Error(X(200));return d0(null,n,e,!1,t)};dr.unmountComponentAtNode=function(n){if(!h0(n))throw Error(X(40));return n._reactRootContainer?(wl(function(){d0(null,null,n,!1,function(){n._reactRootContainer=null,n[Ci]=null})}),!0):!1};dr.unstable_batchedUpdates=T1;dr.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!h0(t))throw Error(X(200));if(n==null||n._reactInternals===void 0)throw Error(X(38));return d0(n,e,t,!1,r)};dr.version="18.3.1-next-f1338f8080-20240426";function PO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PO)}catch(n){console.error(n)}}PO(),P2.exports=dr;var X8=P2.exports,kO,tI=X8;kO=tI.createRoot,tI.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function of(){return of=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},of.apply(this,arguments)}var Ao;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ao||(Ao={}));const nI="popstate";function Z8(n){n===void 0&&(n={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return H_("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:NO(s)}return tz(e,t,null,n)}function Lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function RO(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ez(){return Math.random().toString(36).substr(2,8)}function rI(n,e){return{usr:n.state,key:n.key,idx:e}}function H_(n,e,t,r){return t===void 0&&(t=null),of({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?oh(e):e,{state:t,key:e&&e.key||r||ez()})}function NO(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function oh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function tz(n,e,t,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ao.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(of({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Ao.Pop;let v=u(),w=v==null?null:v-c;c=v,l&&l({action:a,location:y.location,delta:w})}function f(v,w){a=Ao.Push;let _=H_(y.location,v,w);c=u()+1;let E=rI(_,c),C=y.createHref(_);try{o.pushState(E,"",C)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(C)}i&&l&&l({action:a,location:y.location,delta:1})}function p(v,w){a=Ao.Replace;let _=H_(y.location,v,w);c=u();let E=rI(_,c),C=y.createHref(_);o.replaceState(E,"",C),i&&l&&l({action:a,location:y.location,delta:0})}function g(v){let w=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof v=="string"?v:NO(v);return _=_.replace(/ $/,"%20"),Lt(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let y={get action(){return a},get location(){return n(s,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(nI,d),l=v,()=>{s.removeEventListener(nI,d),l=null}},createHref(v){return e(s,v)},createURL:g,encodeLocation(v){let w=g(v);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:f,replace:p,go(v){return o.go(v)}};return y}var sI;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(sI||(sI={}));function nz(n,e,t){return t===void 0&&(t="/"),rz(n,e,t,!1)}function rz(n,e,t,r){let s=typeof e=="string"?oh(e):e,i=LO(s.pathname||"/",t);if(i==null)return null;let o=OO(n);sz(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=gz(i);a=fz(o[l],c,r)}return a}function OO(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Lt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=rl([r,l.relativePath]),u=t.concat(l);i.children&&i.children.length>0&&(Lt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),OO(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:hz(c,i.index),routesMeta:u})};return n.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of DO(i.path))s(i,o,l)}),e}function DO(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),i=t.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=DO(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>n.startsWith("/")&&l===""?"/":l)}function sz(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:dz(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const iz=/^:[\w-]+$/,oz=3,az=2,lz=1,cz=10,uz=-2,iI=n=>n==="*";function hz(n,e){let t=n.split("/"),r=t.length;return t.some(iI)&&(r+=uz),e&&(r+=az),t.filter(s=>!iI(s)).reduce((s,i)=>s+(iz.test(i)?oz:i===""?lz:cz),r)}function dz(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function fz(n,e,t){let{routesMeta:r}=n,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",d=oI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&t&&!r[r.length-1].route.index&&(d=oI({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:rl([i,d.pathname]),pathnameBase:bz(rl([i,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(i=rl([i,d.pathnameBase]))}return o}function oI(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=pz(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let y=a[d]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[d];return p&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:n}}function pz(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),RO(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function gz(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return RO(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function LO(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function mz(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?oh(n):n;return{pathname:t?t.startsWith("/")?t:yz(t,e):e,search:Ez(r),hash:xz(s)}}function yz(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function $w(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wz(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vz(n,e){let t=wz(n);return e?t.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function _z(n,e,t,r){r===void 0&&(r=!1);let s;typeof n=="string"?s=oh(n):(s=of({},n),Lt(!s.pathname||!s.pathname.includes("?"),$w("?","pathname","search",s)),Lt(!s.pathname||!s.pathname.includes("#"),$w("#","pathname","hash",s)),Lt(!s.search||!s.search.includes("#"),$w("#","search","hash",s)));let i=n===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=mz(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const rl=n=>n.join("/").replace(/\/\/+/g,"/"),bz=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Ez=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xz=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Az(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const MO=["post","put","patch","delete"];new Set(MO);const Tz=["get",...MO];new Set(Tz);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function af(){return af=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},af.apply(this,arguments)}const O1=V.createContext(null),Sz=V.createContext(null),f0=V.createContext(null),p0=V.createContext(null),ah=V.createContext({outlet:null,matches:[],isDataRoute:!1}),FO=V.createContext(null);function g0(){return V.useContext(p0)!=null}function BO(){return g0()||Lt(!1),V.useContext(p0).location}function UO(n){V.useContext(f0).static||V.useLayoutEffect(n)}function VO(){let{isDataRoute:n}=V.useContext(ah);return n?Uz():Iz()}function Iz(){g0()||Lt(!1);let n=V.useContext(O1),{basename:e,future:t,navigator:r}=V.useContext(f0),{matches:s}=V.useContext(ah),{pathname:i}=BO(),o=JSON.stringify(vz(s,t.v7_relativeSplatPath)),a=V.useRef(!1);return UO(()=>{a.current=!0}),V.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=_z(c,JSON.parse(o),i,u.relative==="path");n==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:rl([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,i,n])}function Cz(n,e){return Pz(n,e)}function Pz(n,e,t,r){g0()||Lt(!1);let{navigator:s}=V.useContext(f0),{matches:i}=V.useContext(ah),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=BO(),u;if(e){var d;let v=typeof e=="string"?oh(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||Lt(!1),u=v}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=nz(n,{pathname:p}),y=Dz(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:rl([l,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:rl([l,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,t,r);return e&&y?V.createElement(p0.Provider,{value:{location:af({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Ao.Pop}},y):y}function kz(){let n=Bz(),e=Az(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),t?V.createElement("pre",{style:s},t):null,null)}const Rz=V.createElement(kz,null);class Nz extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?V.createElement(ah.Provider,{value:this.props.routeContext},V.createElement(FO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Oz(n){let{routeContext:e,match:t,children:r}=n,s=V.useContext(O1);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),V.createElement(ah.Provider,{value:e},r)}function Dz(n,e,t,r){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var i;if(!t)return null;if(t.errors)n=t.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=(s=t)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Lt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(t&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:p}=t,g=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let p,g=!1,y=null,v=null;t&&(p=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||Rz,l&&(c<0&&f===0?(g=!0,v=null):c===f&&(g=!0,v=d.route.hydrateFallbackElement||null)));let w=e.concat(o.slice(0,f+1)),_=()=>{let E;return p?E=y:g?E=v:d.route.Component?E=V.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,V.createElement(Oz,{match:d,routeContext:{outlet:u,matches:w,isDataRoute:t!=null},children:E})};return t&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?V.createElement(Nz,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var jO=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(jO||{}),ey=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(ey||{});function Lz(n){let e=V.useContext(O1);return e||Lt(!1),e}function Mz(n){let e=V.useContext(Sz);return e||Lt(!1),e}function Fz(n){let e=V.useContext(ah);return e||Lt(!1),e}function zO(n){let e=Fz(),t=e.matches[e.matches.length-1];return t.route.id||Lt(!1),t.route.id}function Bz(){var n;let e=V.useContext(FO),t=Mz(ey.UseRouteError),r=zO(ey.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function Uz(){let{router:n}=Lz(jO.UseNavigateStable),e=zO(ey.UseNavigateStable),t=V.useRef(!1);return UO(()=>{t.current=!0}),V.useCallback(function(s,i){i===void 0&&(i={}),t.current&&(typeof s=="number"?n.navigate(s):n.navigate(s,af({fromRouteId:e},i)))},[n,e])}function G_(n){Lt(!1)}function Vz(n){let{basename:e="/",children:t=null,location:r,navigationType:s=Ao.Pop,navigator:i,static:o=!1,future:a}=n;g0()&&Lt(!1);let l=e.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:l,navigator:i,static:o,future:af({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=oh(r));let{pathname:u="/",search:d="",hash:f="",state:p=null,key:g="default"}=r,y=V.useMemo(()=>{let v=LO(u,l);return v==null?null:{location:{pathname:v,search:d,hash:f,state:p,key:g},navigationType:s}},[l,u,d,f,p,g,s]);return y==null?null:V.createElement(f0.Provider,{value:c},V.createElement(p0.Provider,{children:t,value:y}))}function jz(n){let{children:e,location:t}=n;return Cz(W_(e),t)}new Promise(()=>{});function W_(n,e){e===void 0&&(e=[]);let t=[];return V.Children.forEach(n,(r,s)=>{if(!V.isValidElement(r))return;let i=[...e,s];if(r.type===V.Fragment){t.push.apply(t,W_(r.props.children,i));return}r.type!==G_&&Lt(!1),!r.props.index||!r.props.children||Lt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=W_(r.props.children,i)),t.push(o)}),t}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const zz="6";try{window.__reactRouterVersion=zz}catch{}const Hz="startTransition",aI=XF[Hz];function Gz(n){let{basename:e,children:t,future:r,window:s}=n,i=V.useRef();i.current==null&&(i.current=Z8({window:s,v5Compat:!0}));let o=i.current,[a,l]=V.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=V.useCallback(d=>{c&&aI?aI(()=>l(d)):l(d)},[l,c]);return V.useLayoutEffect(()=>o.listen(u),[o,u]),V.createElement(Vz,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:r})}var lI;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(lI||(lI={}));var cI;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(cI||(cI={}));function HO(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=HO(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function To(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=HO(n))&&(r&&(r+=" "),r+=e);return r}const lf=n=>typeof n=="number"&&!isNaN(n),sl=n=>typeof n=="string",lr=n=>typeof n=="function",Gg=n=>sl(n)||lr(n)?n:null,$_=n=>V.isValidElement(n)||sl(n)||lr(n)||lf(n);function Wz(n,e,t){t===void 0&&(t=300);const{scrollHeight:r,style:s}=n;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${t}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,t)})})}function m0(n){let{enter:e,exit:t,appendPosition:r=!1,collapse:s=!0,collapseDuration:i=300}=n;return function(o){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:d,isIn:f,playToast:p}=o;const g=r?`${e}--${l}`:e,y=r?`${t}--${l}`:t,v=V.useRef(0);return V.useLayoutEffect(()=>{const w=d.current,_=g.split(" "),E=C=>{C.target===d.current&&(p(),w.removeEventListener("animationend",E),w.removeEventListener("animationcancel",E),v.current===0&&C.type!=="animationcancel"&&w.classList.remove(..._))};w.classList.add(..._),w.addEventListener("animationend",E),w.addEventListener("animationcancel",E)},[]),V.useEffect(()=>{const w=d.current,_=()=>{w.removeEventListener("animationend",_),s?Wz(w,u,i):u()};f||(c?_():(v.current=1,w.className+=` ${y}`,w.addEventListener("animationend",_)))},[f]),Ae.createElement(Ae.Fragment,null,a)}}function uI(n,e){return n!=null?{content:n.content,containerId:n.props.containerId,id:n.props.toastId,theme:n.props.theme,type:n.props.type,data:n.props.data||{},isLoading:n.props.isLoading,icon:n.props.icon,status:e}:{}}const In=new Map;let cf=[];const Q_=new Set,$z=n=>Q_.forEach(e=>e(n)),GO=()=>In.size>0;function WO(n,e){var t;if(e)return!((t=In.get(e))==null||!t.isToastActive(n));let r=!1;return In.forEach(s=>{s.isToastActive(n)&&(r=!0)}),r}function $O(n,e){$_(n)&&(GO()||cf.push({content:n,options:e}),In.forEach(t=>{t.buildToast(n,e)}))}function hI(n,e){In.forEach(t=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===t.id&&t.toggle(n,e==null?void 0:e.id):t.toggle(n,e==null?void 0:e.id)})}function Qz(n){const{subscribe:e,getSnapshot:t,setProps:r}=V.useRef(function(i){const o=i.containerId||1;return{subscribe(a){const l=function(u,d,f){let p=1,g=0,y=[],v=[],w=[],_=d;const E=new Map,C=new Set,R=()=>{w=Array.from(E.values()),C.forEach(x=>x())},D=x=>{v=x==null?[]:v.filter(I=>I!==x),R()},T=x=>{const{toastId:I,onOpen:k,updateId:N,children:M}=x.props,O=N==null;x.staleId&&E.delete(x.staleId),E.set(I,x),v=[...v,x.props.toastId].filter(fe=>fe!==x.staleId),R(),f(uI(x,O?"added":"updated")),O&&lr(k)&&k(V.isValidElement(M)&&M.props)};return{id:u,props:_,observe:x=>(C.add(x),()=>C.delete(x)),toggle:(x,I)=>{E.forEach(k=>{I!=null&&I!==k.props.toastId||lr(k.toggle)&&k.toggle(x)})},removeToast:D,toasts:E,clearQueue:()=>{g-=y.length,y=[]},buildToast:(x,I)=>{if((ae=>{let{containerId:ce,toastId:_e,updateId:ke}=ae;const Le=ce?ce!==u:u!==1,qe=E.has(_e)&&ke==null;return Le||qe})(I))return;const{toastId:k,updateId:N,data:M,staleId:O,delay:fe}=I,G=()=>{D(k)},q=N==null;q&&g++;const Z={..._,style:_.toastStyle,key:p++,...Object.fromEntries(Object.entries(I).filter(ae=>{let[ce,_e]=ae;return _e!=null})),toastId:k,updateId:N,data:M,closeToast:G,isIn:!1,className:Gg(I.className||_.toastClassName),bodyClassName:Gg(I.bodyClassName||_.bodyClassName),progressClassName:Gg(I.progressClassName||_.progressClassName),autoClose:!I.isLoading&&(W=I.autoClose,K=_.autoClose,W===!1||lf(W)&&W>0?W:K),deleteToast(){const ae=E.get(k),{onClose:ce,children:_e}=ae.props;lr(ce)&&ce(V.isValidElement(_e)&&_e.props),f(uI(ae,"removed")),E.delete(k),g--,g<0&&(g=0),y.length>0?T(y.shift()):R()}};var W,K;Z.closeButton=_.closeButton,I.closeButton===!1||$_(I.closeButton)?Z.closeButton=I.closeButton:I.closeButton===!0&&(Z.closeButton=!$_(_.closeButton)||_.closeButton);let te=x;V.isValidElement(x)&&!sl(x.type)?te=V.cloneElement(x,{closeToast:G,toastProps:Z,data:M}):lr(x)&&(te=x({closeToast:G,toastProps:Z,data:M}));const le={content:te,props:Z,staleId:O};_.limit&&_.limit>0&&g>_.limit&&q?y.push(le):lf(fe)?setTimeout(()=>{T(le)},fe):T(le)},setProps(x){_=x},setToggle:(x,I)=>{E.get(x).toggle=I},isToastActive:x=>v.some(I=>I===x),getSnapshot:()=>w}}(o,i,$z);In.set(o,l);const c=l.observe(a);return cf.forEach(u=>$O(u.content,u.options)),cf=[],()=>{c(),In.delete(o)}},setProps(a){var l;(l=In.get(o))==null||l.setProps(a)},getSnapshot(){var a;return(a=In.get(o))==null?void 0:a.getSnapshot()}}}(n)).current;r(n);const s=V.useSyncExternalStore(e,t,t);return{getToastToRender:function(i){if(!s)return[];const o=new Map;return n.newestOnTop&&s.reverse(),s.forEach(a=>{const{position:l}=a.props;o.has(l)||o.set(l,[]),o.get(l).push(a)}),Array.from(o,a=>i(a[0],a[1]))},isToastActive:WO,count:s==null?void 0:s.length}}function Kz(n){const[e,t]=V.useState(!1),[r,s]=V.useState(!1),i=V.useRef(null),o=V.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:c,onClick:u,closeOnClick:d}=n;var f,p;function g(){t(!0)}function y(){t(!1)}function v(E){const C=i.current;o.canDrag&&C&&(o.didMove=!0,e&&y(),o.delta=n.draggableDirection==="x"?E.clientX-o.start:E.clientY-o.start,o.start!==E.clientX&&(o.canCloseOnClick=!1),C.style.transform=`translate3d(${n.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,C.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function w(){document.removeEventListener("pointermove",v),document.removeEventListener("pointerup",w);const E=i.current;if(o.canDrag&&o.didMove&&E){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return s(!0),n.closeToast(),void n.collapseAll();E.style.transition="transform 0.2s, opacity 0.2s",E.style.removeProperty("transform"),E.style.removeProperty("opacity")}}(p=In.get((f={id:n.toastId,containerId:n.containerId,fn:t}).containerId||1))==null||p.setToggle(f.id,f.fn),V.useEffect(()=>{if(n.pauseOnFocusLoss)return document.hasFocus()||y(),window.addEventListener("focus",g),window.addEventListener("blur",y),()=>{window.removeEventListener("focus",g),window.removeEventListener("blur",y)}},[n.pauseOnFocusLoss]);const _={onPointerDown:function(E){if(n.draggable===!0||n.draggable===E.pointerType){o.didMove=!1,document.addEventListener("pointermove",v),document.addEventListener("pointerup",w);const C=i.current;o.canCloseOnClick=!0,o.canDrag=!0,C.style.transition="none",n.draggableDirection==="x"?(o.start=E.clientX,o.removalDistance=C.offsetWidth*(n.draggablePercent/100)):(o.start=E.clientY,o.removalDistance=C.offsetHeight*(n.draggablePercent===80?1.5*n.draggablePercent:n.draggablePercent)/100)}},onPointerUp:function(E){const{top:C,bottom:R,left:D,right:T}=i.current.getBoundingClientRect();E.nativeEvent.type!=="touchend"&&n.pauseOnHover&&E.clientX>=D&&E.clientX<=T&&E.clientY>=C&&E.clientY<=R?y():g()}};return a&&l&&(_.onMouseEnter=y,n.stacked||(_.onMouseLeave=g)),d&&(_.onClick=E=>{u&&u(E),o.canCloseOnClick&&c()}),{playToast:g,pauseToast:y,isRunning:e,preventExitTransition:r,toastRef:i,eventHandlers:_}}function qz(n){let{delay:e,isRunning:t,closeToast:r,type:s="default",hide:i,className:o,style:a,controlledProgress:l,progress:c,rtl:u,isIn:d,theme:f}=n;const p=i||l&&c===0,g={...a,animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};l&&(g.transform=`scaleX(${c})`);const y=To("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${f}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":u}),v=lr(o)?o({rtl:u,type:s,defaultClassName:y}):To(y,o),w={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{d&&r()}};return Ae.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":p},Ae.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${f} Toastify__progress-bar--${s}`}),Ae.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:v,style:g,...w}))}let Jz=1;const QO=()=>""+Jz++;function Yz(n){return n&&(sl(n.toastId)||lf(n.toastId))?n.toastId:QO()}function xd(n,e){return $O(n,e),e.toastId}function ty(n,e){return{...e,type:e&&e.type||n,toastId:Yz(e)}}function Yp(n){return(e,t)=>xd(e,ty(n,t))}function Me(n,e){return xd(n,ty("default",e))}Me.loading=(n,e)=>xd(n,ty("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Me.promise=function(n,e,t){let r,{pending:s,error:i,success:o}=e;s&&(r=sl(s)?Me.loading(s,t):Me.loading(s.render,{...t,...s}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,d,f)=>{if(d==null)return void Me.dismiss(r);const p={type:u,...a,...t,data:f},g=sl(d)?{render:d}:d;return r?Me.update(r,{...p,...g}):Me(g.render,{...p,...g}),f},c=lr(n)?n():n;return c.then(u=>l("success",o,u)).catch(u=>l("error",i,u)),c},Me.success=Yp("success"),Me.info=Yp("info"),Me.error=Yp("error"),Me.warning=Yp("warning"),Me.warn=Me.warning,Me.dark=(n,e)=>xd(n,ty("default",{theme:"dark",...e})),Me.dismiss=function(n){(function(e){var t;if(GO()){if(e==null||sl(t=e)||lf(t))In.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=In.get(e.containerId);r?r.removeToast(e.id):In.forEach(s=>{s.removeToast(e.id)})}}else cf=cf.filter(r=>e!=null&&r.options.toastId!==e)})(n)},Me.clearWaitingQueue=function(n){n===void 0&&(n={}),In.forEach(e=>{!e.props.limit||n.containerId&&e.id!==n.containerId||e.clearQueue()})},Me.isActive=WO,Me.update=function(n,e){e===void 0&&(e={});const t=((r,s)=>{var i;let{containerId:o}=s;return(i=In.get(o||1))==null?void 0:i.toasts.get(r)})(n,e);if(t){const{props:r,content:s}=t,i={delay:100,...r,...e,toastId:e.toastId||n,updateId:QO()};i.toastId!==n&&(i.staleId=n);const o=i.render||s;delete i.render,xd(o,i)}},Me.done=n=>{Me.update(n,{progress:1})},Me.onChange=function(n){return Q_.add(n),()=>{Q_.delete(n)}},Me.play=n=>hI(!0,n),Me.pause=n=>hI(!1,n);const Xz=typeof window<"u"?V.useLayoutEffect:V.useEffect,Xp=n=>{let{theme:e,type:t,isLoading:r,...s}=n;return Ae.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s})},Qw={info:function(n){return Ae.createElement(Xp,{...n},Ae.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(n){return Ae.createElement(Xp,{...n},Ae.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(n){return Ae.createElement(Xp,{...n},Ae.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(n){return Ae.createElement(Xp,{...n},Ae.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ae.createElement("div",{className:"Toastify__spinner"})}},Zz=n=>{const{isRunning:e,preventExitTransition:t,toastRef:r,eventHandlers:s,playToast:i}=Kz(n),{closeButton:o,children:a,autoClose:l,onClick:c,type:u,hideProgressBar:d,closeToast:f,transition:p,position:g,className:y,style:v,bodyClassName:w,bodyStyle:_,progressClassName:E,progressStyle:C,updateId:R,role:D,progress:T,rtl:x,toastId:I,deleteToast:k,isIn:N,isLoading:M,closeOnClick:O,theme:fe}=n,G=To("Toastify__toast",`Toastify__toast-theme--${fe}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":x},{"Toastify__toast--close-on-click":O}),q=lr(y)?y({rtl:x,position:g,type:u,defaultClassName:G}):To(G,y),Z=function(le){let{theme:ae,type:ce,isLoading:_e,icon:ke}=le,Le=null;const qe={theme:ae,type:ce};return ke===!1||(lr(ke)?Le=ke({...qe,isLoading:_e}):V.isValidElement(ke)?Le=V.cloneElement(ke,qe):_e?Le=Qw.spinner():(me=>me in Qw)(ce)&&(Le=Qw[ce](qe))),Le}(n),W=!!T||!l,K={closeToast:f,type:u,theme:fe};let te=null;return o===!1||(te=lr(o)?o(K):V.isValidElement(o)?V.cloneElement(o,K):function(le){let{closeToast:ae,theme:ce,ariaLabel:_e="close"}=le;return Ae.createElement("button",{className:`Toastify__close-button Toastify__close-button--${ce}`,type:"button",onClick:ke=>{ke.stopPropagation(),ae(ke)},"aria-label":_e},Ae.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ae.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(K)),Ae.createElement(p,{isIn:N,done:k,position:g,preventExitTransition:t,nodeRef:r,playToast:i},Ae.createElement("div",{id:I,onClick:c,"data-in":N,className:q,...s,style:v,ref:r},Ae.createElement("div",{...N&&{role:D},className:lr(w)?w({type:u}):To("Toastify__toast-body",w),style:_},Z!=null&&Ae.createElement("div",{className:To("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},Z),Ae.createElement("div",null,a)),te,Ae.createElement(qz,{...R&&!W?{key:`pb-${R}`}:{},rtl:x,theme:fe,delay:l,isRunning:e,isIn:N,closeToast:f,hide:d,type:u,style:C,className:E,controlledProgress:W,progress:T||0})))},y0=function(n,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${n}-enter`,exit:`Toastify--animate Toastify__${n}-exit`,appendPosition:e}},eH=m0(y0("bounce",!0));m0(y0("slide",!0));m0(y0("zoom"));m0(y0("flip"));const tH={position:"top-right",transition:eH,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function nH(n){let e={...tH,...n};const t=n.stacked,[r,s]=V.useState(!0),i=V.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=Qz(e),{className:c,style:u,rtl:d,containerId:f}=e;function p(y){const v=To("Toastify__toast-container",`Toastify__toast-container--${y}`,{"Toastify__toast-container--rtl":d});return lr(c)?c({position:y,rtl:d,defaultClassName:v}):To(v,Gg(c))}function g(){t&&(s(!0),Me.play())}return Xz(()=>{if(t){var y;const v=i.current.querySelectorAll('[data-in="true"]'),w=12,_=(y=e.position)==null?void 0:y.includes("top");let E=0,C=0;Array.from(v).reverse().forEach((R,D)=>{const T=R;T.classList.add("Toastify__toast--stacked"),D>0&&(T.dataset.collapsed=`${r}`),T.dataset.pos||(T.dataset.pos=_?"top":"bot");const x=E*(r?.2:1)+(r?0:w*D);T.style.setProperty("--y",`${_?x:-1*x}px`),T.style.setProperty("--g",`${w}`),T.style.setProperty("--s",""+(1-(r?C:0))),E+=T.offsetHeight,C+=.025})}},[r,l,t]),Ae.createElement("div",{ref:i,className:"Toastify",id:f,onMouseEnter:()=>{t&&(s(!1),Me.pause())},onMouseLeave:g},o((y,v)=>{const w=v.length?{...u}:{...u,pointerEvents:"none"};return Ae.createElement("div",{className:p(y),style:w,key:`container-${y}`},v.map(_=>{let{content:E,props:C}=_;return Ae.createElement(Zz,{...C,stacked:t,collapseAll:g,isIn:a(C.toastId,C.containerId),style:C.style,key:`toast-${C.key}`},E)}))}))}const rH="/assets/Financial%20web3%20Logo-Bg0_eJaD.png";var KO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},dI=Ae.createContext&&Ae.createContext(KO),sH=["attr","size","title"];function iH(n,e){if(n==null)return{};var t=oH(n,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function oH(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function ny(){return ny=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ny.apply(this,arguments)}function fI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function ry(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fI(Object(t),!0).forEach(function(r){aH(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function aH(n,e,t){return e=lH(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function lH(n){var e=cH(n,"string");return typeof e=="symbol"?e:e+""}function cH(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function qO(n){return n&&n.map((e,t)=>Ae.createElement(e.tag,ry({key:t},e.attr),qO(e.child)))}function D1(n){return e=>Ae.createElement(uH,ny({attr:ry({},n.attr)},e),qO(n.child))}function uH(n){var e=t=>{var{attr:r,size:s,title:i}=n,o=iH(n,sH),a=s||t.size||"1em",l;return t.className&&(l=t.className),n.className&&(l=(l?l+" ":"")+n.className),Ae.createElement("svg",ny({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:l,style:ry(ry({color:n.color||t.color},t.style),n.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&Ae.createElement("title",null,i),n.children)};return dI!==void 0?Ae.createElement(dI.Consumer,null,t=>e(t)):e(KO)}function hH(n){return D1({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function dH(n){return D1({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"},child:[]}]})(n)}function fH(n){return D1({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L13.3536 2.35355ZM2.03735 8.46678C2.17398 9.12619 2.66918 9.67103 3.33886 9.89338L2.57833 10.6539C1.80843 10.2534 1.23784 9.53693 1.05815 8.66967C0.999538 8.38681 0.999604 8.06004 0.999703 7.56313L0.999711 7.50001L0.999703 7.43689C0.999604 6.93998 0.999538 6.61321 1.05815 6.33035C1.29846 5.17053 2.2379 4.28039 3.4182 4.055C3.70687 3.99988 4.04134 3.99993 4.56402 4.00001L4.62471 4.00001H5.49971C5.77585 4.00001 5.99971 4.22387 5.99971 4.50001C5.99971 4.77615 5.77585 5.00001 5.49971 5.00001H4.62471C4.02084 5.00001 3.78907 5.00225 3.60577 5.03725C2.80262 5.19062 2.19157 5.78895 2.03735 6.53324C2.00233 6.70225 1.99971 6.91752 1.99971 7.50001C1.99971 8.08251 2.00233 8.29778 2.03735 8.46678ZM12.9621 6.53324C12.8255 5.87397 12.3304 5.32922 11.661 5.10679L12.4215 4.34631C13.1912 4.74686 13.7616 5.46323 13.9413 6.33035C13.9999 6.61321 13.9998 6.93998 13.9997 7.43688L13.9997 7.50001L13.9997 7.56314C13.9998 8.06005 13.9999 8.38681 13.9413 8.66967C13.701 9.8295 12.7615 10.7196 11.5812 10.945C11.2925 11.0001 10.9581 11.0001 10.4354 11L10.3747 11H9.49971C9.22357 11 8.99971 10.7762 8.99971 10.5C8.99971 10.2239 9.22357 10 9.49971 10H10.3747C10.9786 10 11.2104 9.99777 11.3937 9.96277C12.1968 9.8094 12.8079 9.21108 12.9621 8.46678C12.9971 8.29778 12.9997 8.08251 12.9997 7.50001C12.9997 6.91752 12.9971 6.70225 12.9621 6.53324Z",fill:"currentColor"},child:[]}]})(n)}const JO=({showLogout:n=!1,handleWalletConnect:e,walletInfo:t,handleLogout:r,handleDisconnect:s,handleToggleLogin:i,handleToggleSideContent:o})=>{const a=rH;return S.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200",children:S.jsx("div",{className:",ax-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:S.jsxs("div",{className:"flex justify-between items-center h-16",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"flex-shrink-0",children:S.jsx("img",{src:a,alt:"Applogo",className:"h-16 w-16 rounded-lg shadow-sm"})}),S.jsxs("div",{className:"hidden md:block",children:[S.jsx("h1",{className:"text-lg font-semibold text-gray-700",children:"Financial Web3 Dashboard"}),S.jsx("p",{className:"text-sm text-gray-500",children:"Managing App"})]}),n&&S.jsx("button",{className:"text-gray-500 text-3xl md:hidden ml-2",onClick:o,children:S.jsx(hH,{})})]}),!n&&S.jsxs("button",{onClick:i,className:`flex items-center gap-2 px-4 py-2 bg-gray-50
                            text-gray-600 hover:bg-gray-200 rounded-lg transition-colors
                            duration-200 border border-gray-200 shadow-sm`,children:[S.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16l-4-4m0 0l4-4m-4 4h14m-6 4v1a3 3 0 003 3h4a3 3 0 003-3V7a3 3 0 00-3-3h-4a3 3 0 00-3 3v1"})}),"SignUp"]}),n&&S.jsxs("div",{className:"flex items-center gap-4",children:[t?S.jsxs("div",{className:"flex items-center justify-end gap-4",children:[S.jsx("div",{className:"flex flex-col items-end mx-5",children:S.jsxs("div",{className:"flex items-center gap-2 px-4 sm:px-0 translate-x-8 sm:translate-x-0",children:[S.jsx("div",{className:"flex h-2 w-2 sm:h-2 sm:w-2 bg-green-500 rounded-full"}),S.jsx("span",{className:"text-sm sm:tex-base text-blue-500 hidden sm:inline",children:"metamask wallet connected"})]})}),S.jsxs("button",{onClick:s,className:`flex items-center gap-2 px-2 py-1 mt-1 text-sm sm:text-base 
                                w-auto sm:w-auto
                                bg-red-50 text-red-600 hover:bg-red-100 rounded-md 
                                transition-colors duration-200 
                                border border-red-200 shodow-sm `,children:[S.jsx(fH,{className:"h-6 w-6 sm:h-5 sm:w-5"}),S.jsx("span",{className:"hidden sm:inline",children:"Disconnect"})]})]}):S.jsxs("button",{onClick:e,className:`flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-1 sm:py-2 bg-blue-50
                                text-blue-600 hover:bg-blue-100 rounded-lg transition-color
                                duration-200 border border-blue-200 shadow-sm
                                text-xs sm:text-base w-24 sm:w-auto`,children:[S.jsx("svg",{className:"h-5 w-5 sm:h-5 sm:w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z "})}),"Connect Metamask"]}),S.jsxs("button",{onClick:r,className:`flex items-center sm:gap-1 gap-2 px-2 sm:px-4 
                            py-1 sm:py-2 bg-gray-50 text-gray-600 hover:bg-gray-100 
                            rounded-lg transition-colors duration-200 border 
                            border-gray-200 shadow-sm
                            text-sm sm:text-base w-auto`,children:[S.jsx("svg",{className:"h-5 w-5 sm:h-5 sm:w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),S.jsx("span",{className:"hidden sm:inline",children:"LogOut"})]})]})]})})})},pH=({setShowLoginForm:n,handleToggle:e,handleSubmit:t,isSignup:r,errors:s})=>{const[i,o]=V.useState(""),[a,l]=V.useState(""),[c,u]=V.useState(""),[d,f]=V.useState(""),p=g=>{g.preventDefault(),t({name:i,email:a,password:c,confirmPassword:d})};return S.jsx("div",{children:S.jsx("div",{className:`fixed inset-0 z-50 flex justify-center items-center
                min-h-screen bg-gray-600 bg-opacity-50`,onClick:()=>n(!1),children:S.jsxs("div",{className:`login-container mb-32 p-8 bg-green-50 rounded-lg 
                shadow-lg max-w-md mx-auto`,onClick:g=>g.stopPropagation(),children:[S.jsx("h2",{className:"text-2xl font-semibold text-green-600 mb-6 text-center",children:r?"Sign Up!":"Welcome Back!"}),S.jsxs("form",{className:"space-y-4",onSubmit:p,children:[r&&S.jsxs("div",{children:[S.jsx("label",{htmlFor:"name",className:"font-semibold text-gray-500",children:"Name:"}),S.jsx("input",{type:"text",value:i,onChange:g=>o(g.target.value),placeholder:"Name",className:`w-full p-3 border border-green-300 
                            rounded-lg focus:outline-none focus:ring 
                            focus:ring-green-200`}),s.name&&S.jsx("p",{className:"text-red-500 text-xs",children:s.name})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"email",className:"font-semibold text-gray-500",children:"Email:"}),S.jsx("input",{type:"email",value:a,onChange:g=>l(g.target.value),placeholder:"Email",className:`w-full p-3 border border-green-300 
                            rounded-lg focus:outline-none focus:ring 
                            focus:ring-green-200`}),s.email&&S.jsx("p",{className:"text-red-500 text-xs",children:s.email})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"password",className:"font-semibold text-gray-500",children:"Password:"}),S.jsx("input",{type:"password",value:c,onChange:g=>u(g.target.value),placeholder:"Password",className:`w-full p-3 border border-green-300 
                            rounded-lg focus:outline-none focus:ring 
                            focus:ring-green-200`}),s.password&&S.jsx("p",{className:"text-red-500 text-xs",children:s.password})]}),r&&S.jsxs("div",{children:[S.jsx("label",{htmlFor:"password",className:"font-semibold text-gray-500",children:"Confirm Password:"}),S.jsx("input",{type:"password",value:d,onChange:g=>{f(g.target.value)},placeholder:"Confirm Password",className:`w-full p-3 border border-green-300 
                            rounded-lg focus:outline-none focus:ring 
                            focus:ring-green-200`}),s.confirmPassword&&S.jsx("p",{className:"text-red-500 text-xs",children:s.confirmPassword})]}),S.jsx("button",{type:"submit",className:`w-full bg-green-600 text-white py-3 
                        rounded-lg hover:bg-green-700 transition`,children:r?"Sign up":"Login"})]}),S.jsxs("div",{children:[r?"Already have an account?":"New user?"," ",S.jsx("button",{onClick:e,className:"text-green-600 underline",children:r?"Login Here":"Sign up here"})]})]})})})},gH="/assets/hero1-C-dkm4-n.png",mH="/assets/hero2_1-CSnNbwfM.jpeg",yH="/assets/hero2_2-CpeQt_yb.jpg",wH="/assets/hero2_3-6AVily-3.jpeg",vH="/assets/hero3-CoyIZagq.jpeg",_H=()=>{const n=["Manage your income, expense, savings goals, and investments all in one place.","Get detailed insights, set personalized goals and track your progress toward financial stability."," Connect your wallet for real-time crypto tracking and experience secure, easy-to-use financial management."],[e,t]=V.useState(0),r=()=>{t(i=>(i+1)%n.length)},s=()=>{t(i=>(i-1+n.length)%n.length)};return S.jsxs("div",{className:"max-w-2xl mx-auto",children:[S.jsx("div",{children:S.jsx("p",{className:"text-xl font-semibold mb-4 text-gray-600",children:n[e]})}),S.jsxs("div",{className:"translate-y-3",children:[S.jsx("button",{onClick:s,className:`absolute left-4 mx-2 my-2 -translate-y-1/2
                    bg-gray-500 text-white p-2 rounded-full opacity-75 
                    hover:opacity-100 transition-transform`,children:"❮"}),S.jsx("button",{onClick:r,className:`absolute right-4 my-2 mx-2 -translate-y-1/2 
                    bg-gray-500 text-white p-2 rounded-full opacity-75 
                    hover:opacity-100 transition-transform`,children:"❯"}),S.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 flex space-x-2",children:n.map((i,o)=>S.jsx("span",{className:`w-3 h-3 rounded-full ${o===e?"bg-white":"bg-gray-500"}`},o))})]})]})},bH="/assets/WebPresenter2%20Medium-CB_oxZ9s.png",EH=({handleToggleLogin:n})=>S.jsxs("main",{className:`flex flex-col items-center justify-center 
        min-h-screen w-screen bg-green-50 text-gray-800`,children:[S.jsxs("section",{className:"relative flex flex-col max-w-full text-center py-16",children:[S.jsx("div",{className:"flex-row inset-0 opacity-45 w-screen",children:S.jsx("img",{src:gH,alt:"hero BG",className:"object-cover w-full h-screen sm:h-full"})}),S.jsx("div",{className:"absolute flex flex-row md:text-wrap justify-center items-center inset-0 z-10 p-8",children:S.jsxs("div",{className:"flex gap-4 -translate-y-10 sm:-translate-y-0",children:[S.jsxs("div",{className:"flex-col self-center mb-10",children:[S.jsx("h1",{className:`text-4xl bg-gradient-to-r from-green-600 via-orange-300
                         to-indigo-400 inline-block text-transparent bg-clip-text 
                         font-extrabold mb-10 text-gradient- tracking-tight mt-4 sm:mt-0`,children:"Take Control of Your Financial Future"}),S.jsx("div",{className:"block sm:hidden",children:S.jsx(_H,{})}),S.jsxs("div",{className:"hidden sm:block w-[600px]",children:[S.jsx("p",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Manage your income, expense, savings goals, and investments all in one place."}),S.jsx("p",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Get detailed insights, set personalized goals and track your progress toward financial stability."}),S.jsx("p",{className:"text-xl font-semibold mb-4 text-gray-700",children:"Connect your wallet for real-time crypto tracking and experience secure, easy-to-use financial management."})]}),S.jsx("div",{className:`absolute bg-green-600 text-white rounded-full
                        border outline-none hover:bg-green-800 font-semibold
                        p-4 mt-5 sm:translate-x-56 mx-2 hidden sm:block`,children:S.jsx("button",{className:"cursor-pointer",onClick:n,children:"Getting Started"})})]}),S.jsx("div",{className:"hidden md:block translate-y-5",children:S.jsx("img",{src:bH,alt:"presenter"})})]})})]}),S.jsxs("section",{className:"flex flex-col items-center justify-center mt-16 space-y-8",children:[S.jsxs("div",{className:`flex flex-col md:flex-row gap-4 md:gap-6 max-h-96 mb-4 md:mb-0
                w-screen md:mx-auto mt-40 md:mt-0 px-4 md:px-8 justify-center items-center
                translate-x-0 sm::translate-x-32 md:translate-x-0 lg:translate-x-0 xl:translate-x-0`,children:[S.jsx("div",{className:"flex flex-col w-screen p-5 items-center",children:S.jsx("img",{src:mH,alt:"hero2_1",className:"rounded-lg shadow-lg w-96 h-auto"})}),S.jsx("div",{className:"flex flex-col w-screen p-5 items-center",children:S.jsx("img",{src:yH,alt:"hero2_2",className:"rounded-lg shadow-lg w-96 h-auto"})}),S.jsx("div",{className:"flex flex-col w-screen p-5 items-center",children:S.jsx("img",{src:wH,alt:"hero2_3",className:"rounded-lg shadow-lg w-96 h-auto"})})]}),S.jsxs("div",{className:"flex flex-col items-center text-center max-w-screen md:text-wrap p-8 text-gray-700 space-y-4",children:[S.jsx("div",{className:"mt-52 md:mt-10",children:S.jsx("h2",{className:"text-3xl font-bold text-green-700",children:"Empower Your Financial Journey"})}),S.jsxs("div",{className:"text-xl font-semibold text-gray-500 space-y-4 md:space-y-4",children:[S.jsx("p",{children:"With our dashboard, you'll experience a simplified, efficient, and personalized approach to managing your finances."}),S.jsx("p",{children:"From detailed expense tracking to setting saving goals, we've got the tools you need to make informed financial decisions."}),S.jsx("p",{children:"Our integration with crypto wallets brings you real-time tracking capabilities, ensuring you stay informed in every area of your financial life."})]})]})]}),S.jsxs("section",{className:"relative flex flex-col items-center justify-center w-full mt-24 space-y-8",children:[S.jsx("div",{className:"flex flex-row inset-0 opacity-50 w-full h-[50vh] overflow-hidden",children:S.jsx("img",{src:vH,alt:"hero_3",className:"w-full h-auto"})}),S.jsxs("div",{className:"absolute flex flex-col items-center justify-center max-w-xl mx-auto p-6 space-y-8",children:[S.jsx("blockquote",{className:"text-xl italic text-gray-600",children:`"A budget is more than just numbers; it's a reflection of your priorities and dreams. Manage your finances, and you shape your future."`}),S.jsx("p",{className:"text-gray-700 text-lg",children:"Join our community of mindful savers and start building a secure financial future today."}),S.jsx("div",{className:"flex items-center justify-center",children:S.jsx("input",{type:"email",placeholder:"Enter your email",className:"w-full max-w-xs p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring focus:ring-green-200"})}),S.jsx("button",{className:"px-4 w-36 h-10 bg-gray-500 text-white rounded-lg hover:bg-gray-700 transition",children:"Subscribe"})]})]}),S.jsxs("footer",{className:"flex flex-col md:flex-row items-center justify-between w-full px-8 py-6 bg-gray-600 text-white text-sm",children:[S.jsx("div",{className:"text-center md:text-left mb-4 md:mb-0",children:S.jsx("span",{children:"© 2024 Personal Fianancial Web3 Dashboard. All rights reserved."})}),S.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-y-0 md:space-x-6 items-center",children:[S.jsx("a",{href:"#about",className:"hover:text-green-400 transition",children:"About us"}),S.jsx("a",{href:"#privacy",className:"hover:text-green-400 transition",children:"Privacy Policy"}),S.jsx("a",{href:"#terms",className:"hover:text-green-400 transition",children:"Terms of Service"}),S.jsx("a",{href:"#contract",className:"hover:text-green-400 transition",children:"Contract"})]})]})]}),xH=({showLoginForm:n,setShowLoginForm:e,handleToggleLogin:t,errors:r,setErrors:s})=>{const[i,o]=V.useState(!0),a=VO(),l=f=>Me.success(f),c=f=>Me.error(f),u=async f=>{const{email:p,password:g,confirmPassword:y,name:v}=f;let w={...r},_=!0;if(i){if(v?w.name="":(w.name="Name is required",_=!1),p?w.email="":(w.email="Email address is required",_=!1),g?w.password="":(w.password="Password is required",_=!1),g!==y){c("Passwords do not match!"),w.confirmPassword="Passwords do not match",_=!1;return}else y?w.confirmPassword="":(w.confirmPassword="Confirm pasword is required",_=!1);(!v||!p||!g||!y)&&Me.error("Please fill in your informations.");try{const C=(await N3(ci,p,g)).user;await L3(C,{displayName:v}),await dj(Tm(Pm,"users",C.uid),{name:v,email:C.email,photoURL:C.photoURL,created_at:new Date}),console.log("User registered"),l("Registration successful!"),a("/dashboard")}catch(E){console.log("Signup failed",E),c("Registration failed")}}else{p?w.email="":(w.email="Email address is required",_=!1),g?w.password="":(w.password="Password is required",_=!1),(!p||!g)&&Me.error("Please fill in your informations.");try{const E=await O3(ci,p,g);console.log("User logged in");const C=E.user,R=Tm(Pm,"users",C.uid),D=await jE(R);if(D.exists()){const T=D.data();console.log("User data fetched:",T)}l("Logged in successfully!"),a("/dashboard")}catch(E){console.log("Login failed",E),c("Login failed")}}return s(w),_},d=()=>{o(f=>!f),s({name:"",email:"",password:"",confirmPassword:""})};return S.jsxs("div",{children:[S.jsx(JO,{showLogout:!1,handleWalletConnect:function(){throw new Error("Function not implemented.")},walletInfo:null,handleLogout:function(){throw new Error("Function not implemented.")},handleDisconnect:function(){throw new Error("Function not implemented.")},handleToggleLogin:t,handleToggleSideContent:function(){throw new Error("Function not implemented.")}}),S.jsx(EH,{handleToggleLogin:t}),n&&S.jsx(pH,{setShowLoginForm:e,handleToggle:d,handleSubmit:u,isSignup:i,errors:r})]})},AH=({children:n,asideContent:e,isOpen:t})=>S.jsxs("div",{className:"flex relative h-full mt-14 bg-gray-100",children:[S.jsx("aside",{className:`w-64 absolute bg-white shadow-md z-50 transition-transform duration-300 ease-in-out 
                ${t?"translate-x-0":"-translate-x-full"} 
                bg-gradient-to-r from-slate-400 to-slate-100
                md:translate-x-0`,children:e}),S.jsxs("main",{className:"flex-1 p-4 ml-0 md:ml-64",children:[S.jsx("header",{className:"mb-6",children:S.jsx("h1",{className:`text-2xl font-semibold 
                    text-gray-700`,children:"Dashboard"})}),S.jsx("div",{children:n})]})]}),Zp=({title:n,amount:e,goal:t,color:r,onClick:s})=>S.jsxs("div",{className:`p-4 shadow-md rounded-lg cursor-pointer transition-all 
            duration-300 ease-in-out hover:scale-105 hover:shadow-lg
            ${r==="green"?"bg-green-50 text-green-600 hover:bg-green-100":""}
            ${r==="blue"?"bg-blue-50 text-blue-600 hover:bg-blue-100":""}
            ${r==="red"?"bg-red-50 text-red-600 hover:bg-red-100":""}`,onClick:s,children:[S.jsx("div",{className:"-my-2",children:S.jsx("h3",{className:"text-lg font-medium md:text-xl;",children:n})}),S.jsx("div",{className:"bg-gray-50 outline-none rounded-lg shadow-md mt-3 py-1 px-1",children:n==="Saving Goals"?S.jsxs("p",{className:"text-xl md:text-2xl font-semibold",children:["฿",e.toLocaleString()," / ",t.toLocaleString()]}):S.jsxs("p",{className:"text-xl md:text-2xl font-semibold",children:["฿",e.toLocaleString()]})})]});/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function np(n){return n+.5|0}const So=(n,e,t)=>Math.max(Math.min(n,t),e);function Zh(n){return So(np(n*2.55),0,255)}function Vo(n){return So(np(n*255),0,255)}function qs(n){return So(np(n/2.55)/100,0,1)}function pI(n){return So(np(n*100),0,100)}const pr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},K_=[..."0123456789ABCDEF"],TH=n=>K_[n&15],SH=n=>K_[(n&240)>>4]+K_[n&15],eg=n=>(n&240)>>4===(n&15),IH=n=>eg(n.r)&&eg(n.g)&&eg(n.b)&&eg(n.a);function CH(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&pr[n[1]]*17,g:255&pr[n[2]]*17,b:255&pr[n[3]]*17,a:e===5?pr[n[4]]*17:255}:(e===7||e===9)&&(t={r:pr[n[1]]<<4|pr[n[2]],g:pr[n[3]]<<4|pr[n[4]],b:pr[n[5]]<<4|pr[n[6]],a:e===9?pr[n[7]]<<4|pr[n[8]]:255})),t}const PH=(n,e)=>n<255?e(n):"";function kH(n){var e=IH(n)?TH:SH;return n?"#"+e(n.r)+e(n.g)+e(n.b)+PH(n.a,e):void 0}const RH=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function YO(n,e,t){const r=e*Math.min(t,1-t),s=(i,o=(i+n/30)%12)=>t-r*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function NH(n,e,t){const r=(s,i=(s+n/60)%6)=>t-t*e*Math.max(Math.min(i,4-i,1),0);return[r(5),r(3),r(1)]}function OH(n,e,t){const r=YO(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)r[s]*=1-e-t,r[s]+=e;return r}function DH(n,e,t,r,s){return n===s?(e-t)/r+(e<t?6:0):e===s?(t-n)/r+2:(n-e)/r+4}function L1(n){const t=n.r/255,r=n.g/255,s=n.b/255,i=Math.max(t,r,s),o=Math.min(t,r,s),a=(i+o)/2;let l,c,u;return i!==o&&(u=i-o,c=a>.5?u/(2-i-o):u/(i+o),l=DH(t,r,s,u,i),l=l*60+.5),[l|0,c||0,a]}function M1(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Vo)}function F1(n,e,t){return M1(YO,n,e,t)}function LH(n,e,t){return M1(OH,n,e,t)}function MH(n,e,t){return M1(NH,n,e,t)}function XO(n){return(n%360+360)%360}function FH(n){const e=RH.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?Zh(+e[5]):Vo(+e[5]));const s=XO(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?r=LH(s,i,o):e[1]==="hsv"?r=MH(s,i,o):r=F1(s,i,o),{r:r[0],g:r[1],b:r[2],a:t}}function BH(n,e){var t=L1(n);t[0]=XO(t[0]+e),t=F1(t),n.r=t[0],n.g=t[1],n.b=t[2]}function UH(n){if(!n)return;const e=L1(n),t=e[0],r=pI(e[1]),s=pI(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${s}%, ${qs(n.a)})`:`hsl(${t}, ${r}%, ${s}%)`}const gI={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},mI={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function VH(){const n={},e=Object.keys(mI),t=Object.keys(gI);let r,s,i,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],s=0;s<t.length;s++)i=t[s],a=a.replace(i,gI[i]);i=parseInt(mI[o],16),n[a]=[i>>16&255,i>>8&255,i&255]}return n}let tg;function jH(n){tg||(tg=VH(),tg.transparent=[0,0,0,0]);const e=tg[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const zH=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function HH(n){const e=zH.exec(n);let t=255,r,s,i;if(e){if(e[7]!==r){const o=+e[7];t=e[8]?Zh(o):So(o*255,0,255)}return r=+e[1],s=+e[3],i=+e[5],r=255&(e[2]?Zh(r):So(r,0,255)),s=255&(e[4]?Zh(s):So(s,0,255)),i=255&(e[6]?Zh(i):So(i,0,255)),{r,g:s,b:i,a:t}}}function GH(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${qs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Kw=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Wl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function WH(n,e,t){const r=Wl(qs(n.r)),s=Wl(qs(n.g)),i=Wl(qs(n.b));return{r:Vo(Kw(r+t*(Wl(qs(e.r))-r))),g:Vo(Kw(s+t*(Wl(qs(e.g))-s))),b:Vo(Kw(i+t*(Wl(qs(e.b))-i))),a:n.a+t*(e.a-n.a)}}function ng(n,e,t){if(n){let r=L1(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=F1(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function ZO(n,e){return n&&Object.assign(e||{},n)}function yI(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Vo(n[3]))):(e=ZO(n,{r:0,g:0,b:0,a:1}),e.a=Vo(e.a)),e}function $H(n){return n.charAt(0)==="r"?HH(n):FH(n)}class uf{constructor(e){if(e instanceof uf)return e;const t=typeof e;let r;t==="object"?r=yI(e):t==="string"&&(r=CH(e)||jH(e)||$H(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=ZO(this._rgb);return e&&(e.a=qs(e.a)),e}set rgb(e){this._rgb=yI(e)}rgbString(){return this._valid?GH(this._rgb):void 0}hexString(){return this._valid?kH(this._rgb):void 0}hslString(){return this._valid?UH(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,s=e.rgb;let i;const o=t===i?.5:t,a=2*o-1,l=r.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;i=1-c,r.r=255&c*r.r+i*s.r+.5,r.g=255&c*r.g+i*s.g+.5,r.b=255&c*r.b+i*s.b+.5,r.a=o*r.a+(1-o)*s.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=WH(this._rgb,e._rgb,t)),this}clone(){return new uf(this.rgb)}alpha(e){return this._rgb.a=Vo(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=np(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ng(this._rgb,2,e),this}darken(e){return ng(this._rgb,2,-e),this}saturate(e){return ng(this._rgb,1,e),this}desaturate(e){return ng(this._rgb,1,-e),this}rotate(e){return BH(this._rgb,e),this}}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function Vs(){}const QH=(()=>{let n=0;return()=>n++})();function Ye(n){return n===null||typeof n>"u"}function Rt(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Be(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Nr(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function os(n,e){return Nr(n)?n:e}function Te(n,e){return typeof n>"u"?e:n}const KH=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/e,eD=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function tt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function He(n,e,t,r){let s,i,o;if(Rt(n))for(i=n.length,s=0;s<i;s++)e.call(t,n[s],s);else if(Be(n))for(o=Object.keys(n),i=o.length,s=0;s<i;s++)e.call(t,n[o[s]],o[s])}function sy(n,e){let t,r,s,i;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(s=n[t],i=e[t],s.datasetIndex!==i.datasetIndex||s.index!==i.index)return!1;return!0}function iy(n){if(Rt(n))return n.map(iy);if(Be(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let s=0;for(;s<r;++s)e[t[s]]=iy(n[t[s]]);return e}return n}function tD(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function qH(n,e,t,r){if(!tD(n))return;const s=e[n],i=t[n];Be(s)&&Be(i)?hf(s,i,r):e[n]=iy(i)}function hf(n,e,t){const r=Rt(e)?e:[e],s=r.length;if(!Be(n))return n;t=t||{};const i=t.merger||qH;let o;for(let a=0;a<s;++a){if(o=r[a],!Be(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)i(l[c],n,o,t)}return n}function Ad(n,e){return hf(n,e,{merger:JH})}function JH(n,e,t){if(!tD(n))return;const r=e[n],s=t[n];Be(r)&&Be(s)?Ad(r,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=iy(s))}const wI={"":n=>n,x:n=>n.x,y:n=>n.y};function YH(n){const e=n.split("."),t=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function XH(n){const e=YH(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function vl(n,e){return(wI[e]||(wI[e]=XH(e)))(n)}function B1(n){return n.charAt(0).toUpperCase()+n.slice(1)}const df=n=>typeof n<"u",Jo=n=>typeof n=="function",vI=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function ZH(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const yt=Math.PI,mt=2*yt,e7=mt+yt,oy=Number.POSITIVE_INFINITY,t7=yt/180,Ot=yt/2,ca=yt/4,_I=yt*2/3,q_=Math.log10,Rs=Math.sign;function Td(n,e,t){return Math.abs(n-e)<t}function bI(n){const e=Math.round(n);n=Td(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(q_(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function n7(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((s,i)=>s-i).pop(),e}function ff(n){return!isNaN(parseFloat(n))&&isFinite(n)}function r7(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function s7(n,e,t){let r,s,i;for(r=0,s=n.length;r<s;r++)i=n[r][t],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function mi(n){return n*(yt/180)}function i7(n){return n*(180/yt)}function EI(n){if(!Nr(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function nD(n,e){const t=e.x-n.x,r=e.y-n.y,s=Math.sqrt(t*t+r*r);let i=Math.atan2(r,t);return i<-.5*yt&&(i+=mt),{angle:i,distance:s}}function J_(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function o7(n,e){return(n-e+e7)%mt-yt}function $i(n){return(n%mt+mt)%mt}function pf(n,e,t,r){const s=$i(n),i=$i(e),o=$i(t),a=$i(i-s),l=$i(o-s),c=$i(s-i),u=$i(s-o);return s===i||s===o||r&&i===o||a>l&&c<u}function mn(n,e,t){return Math.max(e,Math.min(t,n))}function a7(n){return mn(n,-32768,32767)}function Io(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function U1(n,e,t){t=t||(o=>n[o]<e);let r=n.length-1,s=0,i;for(;r-s>1;)i=s+r>>1,t(i)?s=i:r=i;return{lo:s,hi:r}}const Ca=(n,e,t,r)=>U1(n,t,r?s=>{const i=n[s][e];return i<t||i===t&&n[s+1][e]===t}:s=>n[s][e]<t),l7=(n,e,t)=>U1(n,t,r=>n[r][e]>=t);function c7(n,e,t){let r=0,s=n.length;for(;r<s&&n[r]<e;)r++;for(;s>r&&n[s-1]>t;)s--;return r>0||s<n.length?n.slice(r,s):n}const rD=["push","pop","shift","splice","unshift"];function u7(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),rD.forEach(t=>{const r="_onData"+B1(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...i){const o=s.apply(this,i);return n._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...i)}),o}})})}function xI(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(rD.forEach(i=>{delete n[i]}),delete n._chartjs)}function sD(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const iD=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function oD(n,e){let t=[],r=!1;return function(...s){t=s,r||(r=!0,iD.call(window,()=>{r=!1,n.apply(e,t)}))}}function h7(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const V1=n=>n==="start"?"left":n==="end"?"right":"center",dn=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2,d7=(n,e,t,r)=>n===(r?"left":"right")?t:n==="center"?(e+t)/2:e;function f7(n,e,t){const r=e.length;let s=0,i=r;if(n._sorted){const{iScale:o,_parsed:a}=n,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(s=mn(Math.min(Ca(a,l,c).lo,t?r:Ca(e,l,o.getPixelForValue(c)).lo),0,r-1)),f?i=mn(Math.max(Ca(a,o.axis,u,!0).hi+1,t?0:Ca(e,l,o.getPixelForValue(u),!0).hi+1),s,r)-s:i=r-s}return{start:s,count:i}}function p7(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=s,!0;const i=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,s),i}const rg=n=>n===0||n===1,AI=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*mt/t)),TI=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*mt/t)+1,Sd={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ot)+1,easeOutSine:n=>Math.sin(n*Ot),easeInOutSine:n=>-.5*(Math.cos(yt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>rg(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>rg(n)?n:AI(n,.075,.3),easeOutElastic:n=>rg(n)?n:TI(n,.075,.3),easeInOutElastic(n){return rg(n)?n:n<.5?.5*AI(n*2,.1125,.45):.5+.5*TI(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-Sd.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Sd.easeInBounce(n*2)*.5:Sd.easeOutBounce(n*2-1)*.5+.5};function j1(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function SI(n){return j1(n)?n:new uf(n)}function qw(n){return j1(n)?n:new uf(n).saturate(.5).darken(.1).hexString()}const g7=["x","y","borderWidth","radius","tension"],m7=["color","borderColor","backgroundColor"];function y7(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:m7},numbers:{type:"number",properties:g7}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function w7(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const II=new Map;function v7(n,e){e=e||{};const t=n+JSON.stringify(e);let r=II.get(t);return r||(r=new Intl.NumberFormat(n,e),II.set(t,r)),r}function z1(n,e,t){return v7(e,t).format(n)}const aD={values(n){return Rt(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let s,i=n;if(t.length>1){const c=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),i=_7(n,t)}const o=q_(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),z1(n,r,l)},logarithmic(n,e,t){if(n===0)return"0";const r=t[e].significand||n/Math.pow(10,Math.floor(q_(n)));return[1,2,3,5,10,15].includes(r)||e>.8*t.length?aD.numeric.call(this,n,e,t):""}};function _7(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var lD={formatters:aD};function b7(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lD.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const _l=Object.create(null),Y_=Object.create(null);function Id(n,e){if(!e)return n;const t=e.split(".");for(let r=0,s=t.length;r<s;++r){const i=t[r];n=n[i]||(n[i]=Object.create(null))}return n}function Jw(n,e,t){return typeof e=="string"?hf(Id(n,e),t):hf(Id(n,""),e)}class E7{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>qw(s.backgroundColor),this.hoverBorderColor=(r,s)=>qw(s.borderColor),this.hoverColor=(r,s)=>qw(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Jw(this,e,t)}get(e){return Id(this,e)}describe(e,t){return Jw(Y_,e,t)}override(e,t){return Jw(_l,e,t)}route(e,t,r,s){const i=Id(this,e),o=Id(this,r),a="_"+t;Object.defineProperties(i,{[a]:{value:i[t],writable:!0},[t]:{enumerable:!0,get(){const l=this[a],c=o[s];return Be(l)?Object.assign({},c,l):Te(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(t=>t(this))}}var xt=new E7({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[y7,w7,b7]);function x7(n){return!n||Ye(n.size)||Ye(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function CI(n,e,t,r,s){let i=e[s];return i||(i=e[s]=n.measureText(s).width,t.push(s)),i>r&&(r=i),r}function ua(n,e,t){const r=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*r)/r+s}function PI(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function X_(n,e,t,r){cD(n,e,t,r,null)}function cD(n,e,t,r,s){let i,o,a,l,c,u,d,f;const p=e.pointStyle,g=e.rotation,y=e.radius;let v=(g||0)*t7;if(p&&typeof p=="object"&&(i=p.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(v),n.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),n.restore();return}if(!(isNaN(y)||y<=0)){switch(n.beginPath(),p){default:s?n.ellipse(t,r,s/2,y,0,0,mt):n.arc(t,r,y,0,mt),n.closePath();break;case"triangle":u=s?s/2:y,n.moveTo(t+Math.sin(v)*u,r-Math.cos(v)*y),v+=_I,n.lineTo(t+Math.sin(v)*u,r-Math.cos(v)*y),v+=_I,n.lineTo(t+Math.sin(v)*u,r-Math.cos(v)*y),n.closePath();break;case"rectRounded":c=y*.516,l=y-c,o=Math.cos(v+ca)*l,d=Math.cos(v+ca)*(s?s/2-c:l),a=Math.sin(v+ca)*l,f=Math.sin(v+ca)*(s?s/2-c:l),n.arc(t-d,r-a,c,v-yt,v-Ot),n.arc(t+f,r-o,c,v-Ot,v),n.arc(t+d,r+a,c,v,v+Ot),n.arc(t-f,r+o,c,v+Ot,v+yt),n.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*y,u=s?s/2:l,n.rect(t-u,r-l,2*u,2*l);break}v+=ca;case"rectRot":d=Math.cos(v)*(s?s/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(s?s/2:y),n.moveTo(t-d,r-a),n.lineTo(t+f,r-o),n.lineTo(t+d,r+a),n.lineTo(t-f,r+o),n.closePath();break;case"crossRot":v+=ca;case"cross":d=Math.cos(v)*(s?s/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(s?s/2:y),n.moveTo(t-d,r-a),n.lineTo(t+d,r+a),n.moveTo(t+f,r-o),n.lineTo(t-f,r+o);break;case"star":d=Math.cos(v)*(s?s/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(s?s/2:y),n.moveTo(t-d,r-a),n.lineTo(t+d,r+a),n.moveTo(t+f,r-o),n.lineTo(t-f,r+o),v+=ca,d=Math.cos(v)*(s?s/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,f=Math.sin(v)*(s?s/2:y),n.moveTo(t-d,r-a),n.lineTo(t+d,r+a),n.moveTo(t+f,r-o),n.lineTo(t-f,r+o);break;case"line":o=s?s/2:Math.cos(v)*y,a=Math.sin(v)*y,n.moveTo(t-o,r-a),n.lineTo(t+o,r+a);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(v)*(s?s/2:y),r+Math.sin(v)*y);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function gf(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function H1(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function G1(n){n.restore()}function A7(n,e,t,r,s){if(!e)return n.lineTo(t.x,t.y);if(s==="middle"){const i=(e.x+t.x)/2;n.lineTo(i,e.y),n.lineTo(i,t.y)}else s==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function T7(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function S7(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Ye(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function I7(n,e,t,r,s){if(s.strikethrough||s.underline){const i=n.measureText(r),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,l=t-i.actualBoundingBoxAscent,c=t+i.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function C7(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function mf(n,e,t,r,s,i={}){const o=Rt(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="";let l,c;for(n.save(),n.font=s.string,S7(n,i),l=0;l<o.length;++l)c=o[l],i.backdrop&&C7(n,i.backdrop),a&&(i.strokeColor&&(n.strokeStyle=i.strokeColor),Ye(i.strokeWidth)||(n.lineWidth=i.strokeWidth),n.strokeText(c,t,r,i.maxWidth)),n.fillText(c,t,r,i.maxWidth),I7(n,t,r,c,i),r+=Number(s.lineHeight);n.restore()}function ay(n,e){const{x:t,y:r,w:s,h:i,radius:o}=e;n.arc(t+o.topLeft,r+o.topLeft,o.topLeft,1.5*yt,yt,!0),n.lineTo(t,r+i-o.bottomLeft),n.arc(t+o.bottomLeft,r+i-o.bottomLeft,o.bottomLeft,yt,Ot,!0),n.lineTo(t+s-o.bottomRight,r+i),n.arc(t+s-o.bottomRight,r+i-o.bottomRight,o.bottomRight,Ot,0,!0),n.lineTo(t+s,r+o.topRight),n.arc(t+s-o.topRight,r+o.topRight,o.topRight,0,-Ot,!0),n.lineTo(t+o.topLeft,r)}const P7=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,k7=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function R7(n,e){const t=(""+n).match(P7);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const N7=n=>+n||0;function W1(n,e){const t={},r=Be(e),s=r?Object.keys(e):e,i=Be(n)?r?o=>Te(n[o],n[e[o]]):o=>n[o]:()=>n;for(const o of s)t[o]=N7(i(o));return t}function uD(n){return W1(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Mc(n){return W1(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Or(n){const e=uD(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function yn(n,e){n=n||{},e=e||xt.font;let t=Te(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Te(n.style,e.style);r&&!(""+r).match(k7)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Te(n.family,e.family),lineHeight:R7(Te(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Te(n.weight,e.weight),string:""};return s.string=x7(s),s}function sg(n,e,t,r){let s,i,o;for(s=0,i=n.length;s<i;++s)if(o=n[s],o!==void 0&&o!==void 0)return o}function O7(n,e,t){const{min:r,max:s}=n,i=eD(e,(s-r)/2),o=(a,l)=>t&&a===0?0:a+l;return{min:o(r,-Math.abs(i)),max:o(s,i)}}function Fl(n,e){return Object.assign(Object.create(n),e)}function $1(n,e=[""],t,r,s=()=>n[0]){const i=t||n;typeof r>"u"&&(r=pD("_fallback",n));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:i,_fallback:r,_getTarget:s,override:a=>$1([a,...n],e,i,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return dD(a,l,()=>j7(l,e,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return RI(a).includes(l)},ownKeys(a){return RI(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function zu(n,e,t,r){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:hD(n,r),setContext:i=>zu(n,i,t,r),override:i=>zu(n.override(i),e,t,r)};return new Proxy(s,{deleteProperty(i,o){return delete i[o],delete n[o],!0},get(i,o,a){return dD(i,o,()=>L7(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(i,o){return Reflect.has(n,o)},ownKeys(){return Reflect.ownKeys(n)},set(i,o,a){return n[o]=a,delete i[o],!0}})}function hD(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:r,isScriptable:Jo(t)?t:()=>t,isIndexable:Jo(r)?r:()=>r}}const D7=(n,e)=>n?n+B1(e):e,Q1=(n,e)=>Be(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function dD(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const r=t();return n[e]=r,r}function L7(n,e,t){const{_proxy:r,_context:s,_subProxy:i,_descriptors:o}=n;let a=r[e];return Jo(a)&&o.isScriptable(e)&&(a=M7(e,a,n,t)),Rt(a)&&a.length&&(a=F7(e,a,n,o.isIndexable)),Q1(e,a)&&(a=zu(a,s,i&&i[e],o)),a}function M7(n,e,t,r){const{_proxy:s,_context:i,_subProxy:o,_stack:a}=t;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);a.add(n);let l=e(i,o||r);return a.delete(n),Q1(n,l)&&(l=K1(s._scopes,s,n,l)),l}function F7(n,e,t,r){const{_proxy:s,_context:i,_subProxy:o,_descriptors:a}=t;if(typeof i.index<"u"&&r(n))return e[i.index%e.length];if(Be(e[0])){const l=e,c=s._scopes.filter(u=>u!==l);e=[];for(const u of l){const d=K1(c,s,n,u);e.push(zu(d,i,o&&o[n],a))}}return e}function fD(n,e,t){return Jo(n)?n(e,t):n}const B7=(n,e)=>n===!0?e:typeof n=="string"?vl(e,n):void 0;function U7(n,e,t,r,s){for(const i of e){const o=B7(t,i);if(o){n.add(o);const a=fD(o._fallback,t,s);if(typeof a<"u"&&a!==t&&a!==r)return a}else if(o===!1&&typeof r<"u"&&t!==r)return null}return!1}function K1(n,e,t,r){const s=e._rootScopes,i=fD(e._fallback,t,r),o=[...n,...s],a=new Set;a.add(r);let l=kI(a,o,t,i||t,r);return l===null||typeof i<"u"&&i!==t&&(l=kI(a,o,i,l,r),l===null)?!1:$1(Array.from(a),[""],s,i,()=>V7(e,t,r))}function kI(n,e,t,r,s){for(;t;)t=U7(n,e,t,r,s);return t}function V7(n,e,t){const r=n._getTarget();e in r||(r[e]={});const s=r[e];return Rt(s)&&Be(t)?t:s||{}}function j7(n,e,t,r){let s;for(const i of e)if(s=pD(D7(i,n),t),typeof s<"u")return Q1(n,s)?K1(t,r,n,s):s}function pD(n,e){for(const t of e){if(!t)continue;const r=t[n];if(typeof r<"u")return r}}function RI(n){let e=n._keys;return e||(e=n._keys=z7(n._scopes)),e}function z7(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const H7=Number.EPSILON||1e-14,Hu=(n,e)=>e<n.length&&!n[e].skip&&n[e],gD=n=>n==="x"?"y":"x";function G7(n,e,t,r){const s=n.skip?e:n,i=e,o=t.skip?e:t,a=J_(i,s),l=J_(o,i);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=r*c,f=r*u;return{previous:{x:i.x-d*(o.x-s.x),y:i.y-d*(o.y-s.y)},next:{x:i.x+f*(o.x-s.x),y:i.y+f*(o.y-s.y)}}}function W7(n,e,t){const r=n.length;let s,i,o,a,l,c=Hu(n,0);for(let u=0;u<r-1;++u)if(l=c,c=Hu(n,u+1),!(!l||!c)){if(Td(e[u],0,H7)){t[u]=t[u+1]=0;continue}s=t[u]/e[u],i=t[u+1]/e[u],a=Math.pow(s,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),t[u]=s*o*e[u],t[u+1]=i*o*e[u])}}function $7(n,e,t="x"){const r=gD(t),s=n.length;let i,o,a,l=Hu(n,0);for(let c=0;c<s;++c){if(o=a,a=l,l=Hu(n,c+1),!a)continue;const u=a[t],d=a[r];o&&(i=(u-o[t])/3,a[`cp1${t}`]=u-i,a[`cp1${r}`]=d-i*e[c]),l&&(i=(l[t]-u)/3,a[`cp2${t}`]=u+i,a[`cp2${r}`]=d+i*e[c])}}function Q7(n,e="x"){const t=gD(e),r=n.length,s=Array(r).fill(0),i=Array(r);let o,a,l,c=Hu(n,0);for(o=0;o<r;++o)if(a=l,l=c,c=Hu(n,o+1),!!l){if(c){const u=c[e]-l[e];s[o]=u!==0?(c[t]-l[t])/u:0}i[o]=a?c?Rs(s[o-1])!==Rs(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}W7(n,s,i),$7(n,i,e)}function ig(n,e,t){return Math.max(Math.min(n,t),e)}function K7(n,e){let t,r,s,i,o,a=gf(n[0],e);for(t=0,r=n.length;t<r;++t)o=i,i=a,a=t<r-1&&gf(n[t+1],e),i&&(s=n[t],o&&(s.cp1x=ig(s.cp1x,e.left,e.right),s.cp1y=ig(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=ig(s.cp2x,e.left,e.right),s.cp2y=ig(s.cp2y,e.top,e.bottom)))}function q7(n,e,t,r,s){let i,o,a,l;if(e.spanGaps&&(n=n.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")Q7(n,s);else{let c=r?n[n.length-1]:n[0];for(i=0,o=n.length;i<o;++i)a=n[i],l=G7(c,a,n[Math.min(i+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&K7(n,t)}function q1(){return typeof window<"u"&&typeof document<"u"}function J1(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function ly(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const w0=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function J7(n,e){return w0(n).getPropertyValue(e)}const Y7=["top","right","bottom","left"];function il(n,e,t){const r={};t=t?"-"+t:"";for(let s=0;s<4;s++){const i=Y7[s];r[i]=parseFloat(n[e+"-"+i+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const X7=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function Z7(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:s,offsetY:i}=r;let o=!1,a,l;if(X7(s,i,n.target))a=s,l=i;else{const c=e.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ma(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,s=w0(t),i=s.boxSizing==="border-box",o=il(s,"padding"),a=il(s,"border","width"),{x:l,y:c,box:u}=Z7(n,t),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:p,height:g}=e;return i&&(p-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-d)/p*t.width/r),y:Math.round((c-f)/g*t.height/r)}}function eG(n,e,t){let r,s;if(e===void 0||t===void 0){const i=n&&J1(n);if(!i)e=n.clientWidth,t=n.clientHeight;else{const o=i.getBoundingClientRect(),a=w0(i),l=il(a,"border","width"),c=il(a,"padding");e=o.width-c.width-l.width,t=o.height-c.height-l.height,r=ly(a.maxWidth,i,"clientWidth"),s=ly(a.maxHeight,i,"clientHeight")}}return{width:e,height:t,maxWidth:r||oy,maxHeight:s||oy}}const og=n=>Math.round(n*10)/10;function tG(n,e,t,r){const s=w0(n),i=il(s,"margin"),o=ly(s.maxWidth,n,"clientWidth")||oy,a=ly(s.maxHeight,n,"clientHeight")||oy,l=eG(n,e,t);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=il(s,"border","width"),p=il(s,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-i.width),u=Math.max(0,r?c/r:u-i.height),c=og(Math.min(c,o,l.maxWidth)),u=og(Math.min(u,a,l.maxHeight)),c&&!u&&(u=og(c/2)),(e!==void 0||t!==void 0)&&r&&l.height&&u>l.height&&(u=l.height,c=og(Math.floor(u*r))),{width:c,height:u}}function NI(n,e,t){const r=e||1,s=Math.floor(n.height*r),i=Math.floor(n.width*r);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const o=n.canvas;return o.style&&(t||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||o.height!==s||o.width!==i?(n.currentDevicePixelRatio=r,o.height=s,o.width=i,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const nG=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};q1()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function OI(n,e){const t=J7(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function ya(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function rG(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function sG(n,e,t,r){const s={x:n.cp2x,y:n.cp2y},i={x:e.cp1x,y:e.cp1y},o=ya(n,s,t),a=ya(s,i,t),l=ya(i,e,t),c=ya(o,a,t),u=ya(a,l,t);return ya(c,u,t)}const iG=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},oG=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Fc(n,e,t){return n?iG(e,t):oG()}function mD(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function yD(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function wD(n){return n==="angle"?{between:pf,compare:o7,normalize:$i}:{between:Io,compare:(e,t)=>e-t,normalize:e=>e}}function DI({start:n,end:e,count:t,loop:r,style:s}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:s}}function aG(n,e,t){const{property:r,start:s,end:i}=t,{between:o,normalize:a}=wD(r),l=e.length;let{start:c,end:u,loop:d}=n,f,p;if(d){for(c+=l,u+=l,f=0,p=l;f<p&&o(a(e[c%l][r]),s,i);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:n.style}}function lG(n,e,t){if(!t)return[n];const{property:r,start:s,end:i}=t,o=e.length,{compare:a,between:l,normalize:c}=wD(r),{start:u,end:d,loop:f,style:p}=aG(n,e,t),g=[];let y=!1,v=null,w,_,E;const C=()=>l(s,E,w)&&a(s,E)!==0,R=()=>a(i,w)===0||l(i,E,w),D=()=>y||C(),T=()=>!y||R();for(let x=u,I=u;x<=d;++x)_=e[x%o],!_.skip&&(w=c(_[r]),w!==E&&(y=l(w,s,i),v===null&&D()&&(v=a(w,s)===0?x:I),v!==null&&T()&&(g.push(DI({start:v,end:x,loop:f,count:o,style:p})),v=null),I=x,E=w));return v!==null&&g.push(DI({start:v,end:d,loop:f,count:o,style:p})),g}function cG(n,e){const t=[],r=n.segments;for(let s=0;s<r.length;s++){const i=lG(r[s],n.points,e);i.length&&t.push(...i)}return t}function uG(n,e,t,r){let s=0,i=e-1;if(t&&!r)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,t&&(i+=s);i>s&&n[i%e].skip;)i--;return i%=e,{start:s,end:i}}function hG(n,e,t,r){const s=n.length,i=[];let o=e,a=n[e],l;for(l=e+1;l<=t;++l){const c=n[l%s];c.skip||c.stop?a.skip||(r=!1,i.push({start:e%s,end:(l-1)%s,loop:r}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&i.push({start:e%s,end:o%s,loop:r}),i}function dG(n,e){const t=n.points,r=n.options.spanGaps,s=t.length;if(!s)return[];const i=!!n._loop,{start:o,end:a}=uG(t,s,i,r);if(r===!0)return LI(n,[{start:o,end:a,loop:i}],t,e);const l=a<o?a+s:a,c=!!n._fullLoop&&o===0&&a===s-1;return LI(n,hG(t,o,l,c),t,e)}function LI(n,e,t,r){return!r||!r.setContext||!t?e:fG(n,e,t,r)}function fG(n,e,t,r){const s=n._chart.getContext(),i=MI(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=t.length,c=[];let u=i,d=e[0].start,f=d;function p(g,y,v,w){const _=a?-1:1;if(g!==y){for(g+=l;t[g%l].skip;)g-=_;for(;t[y%l].skip;)y+=_;g%l!==y%l&&(c.push({start:g%l,end:y%l,loop:v,style:w}),u=w,d=y%l)}}for(const g of e){d=a?d:g.start;let y=t[d%l],v;for(f=d+1;f<=g.end;f++){const w=t[f%l];v=MI(r.setContext(Fl(s,{type:"segment",p0:y,p1:w,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),pG(v,u)&&p(d,f-1,g.loop,u),y=w,u=v}d<f-1&&p(d,f-1,g.loop,u)}return c}function MI(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function pG(n,e){if(!e)return!1;const t=[],r=function(s,i){return j1(i)?(t.includes(i)||t.push(i),t.indexOf(i)):i};return JSON.stringify(n,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class gG{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,s){const i=t.listeners[s],o=t.duration;i.forEach(a=>a({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(r-t.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=iD.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const i=r.items;let o=i.length-1,a=!1,l;for(;o>=0;--o)l=i[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(s.draw(),this._notify(s,r,e,"progress")),i.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),t+=i.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var js=new gG;const FI="transparent",mG={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=SI(n||FI),s=r.valid&&SI(e||FI);return s&&s.valid?s.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class yG{constructor(e,t,r,s){const i=t[r];s=sg([e.to,s,i,e.from]);const o=sg([e.from,i,s]);this._active=!0,this._fn=e.fn||mG[e.type||typeof o],this._easing=Sd[e.easing]||Sd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const s=this._target[this._prop],i=r-this._start,o=this._duration-i;this._start=r,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=sg([e.to,t,s,e.from]),this._from=sg([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,s=this._prop,i=this._from,o=this._loop,a=this._to;let l;if(this._active=i!==a&&(o||t<r),!this._active){this._target[s]=a,this._notify(!0);return}if(t<0){this._target[s]=i;return}l=t/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(i,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][t]()}}class vD{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Be(e))return;const t=Object.keys(xt.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const i=e[s];if(!Be(i))return;const o={};for(const a of t)o[a]=i[a];(Rt(i.properties)&&i.properties||[s]).forEach(a=>{(a===s||!r.has(a))&&r.set(a,o)})})}_animateOptions(e,t){const r=t.options,s=vG(e,r);if(!s)return[];const i=this._createAnimations(s,r);return r.$shared&&wG(e.options.$animations,r).then(()=>{e.options=r},()=>{}),i}_createAnimations(e,t){const r=this._properties,s=[],i=e.$animations||(e.$animations={}),o=Object.keys(t),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(e,t));continue}const u=t[c];let d=i[c];const f=r.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){e[c]=u;continue}i[c]=d=new yG(f,e,c,u),s.push(d)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return js.add(this._chart,r),!0}}function wG(n,e){const t=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const i=n[r[s]];i&&i.active()&&t.push(i.wait())}return Promise.all(t)}function vG(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function BI(n,e){const t=n&&n.options||{},r=t.reverse,s=t.min===void 0?e:0,i=t.max===void 0?e:0;return{start:r?i:s,end:r?s:i}}function _G(n,e,t){if(t===!1)return!1;const r=BI(n,t),s=BI(e,t);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function bG(n){let e,t,r,s;return Be(n)?(e=n.top,t=n.right,r=n.bottom,s=n.left):e=t=r=s=n,{top:e,right:t,bottom:r,left:s,disabled:n===!1}}function _D(n,e){const t=[],r=n._getSortedDatasetMetas(e);let s,i;for(s=0,i=r.length;s<i;++s)t.push(r[s].index);return t}function UI(n,e,t,r={}){const s=n.keys,i=r.mode==="single";let o,a,l,c;if(e===null)return;let u=!1;for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===t){if(u=!0,r.all)continue;break}c=n.values[l],Nr(c)&&(i||e===0||Rs(e)===Rs(c))&&(e+=c)}return!u&&!r.all?0:e}function EG(n,e){const{iScale:t,vScale:r}=e,s=t.axis==="x"?"x":"y",i=r.axis==="x"?"x":"y",o=Object.keys(n),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[s]:u,[i]:n[u]};return a}function Yw(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function xG(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function AG(n){const{min:e,max:t,minDefined:r,maxDefined:s}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function TG(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function VI(n,e,t,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const i=n[s.index];if(t&&i>0||!t&&i<0)return s.index}return null}function jI(n,e){const{chart:t,_cachedMeta:r}=n,s=t._stacks||(t._stacks={}),{iScale:i,vScale:o,index:a}=r,l=i.axis,c=o.axis,u=xG(i,o,r),d=e.length;let f;for(let p=0;p<d;++p){const g=e[p],{[l]:y,[c]:v}=g,w=g._stacks||(g._stacks={});f=w[c]=TG(s,u,y),f[a]=v,f._top=VI(f,o,!0,r.type),f._bottom=VI(f,o,!1,r.type);const _=f._visualValues||(f._visualValues={});_[a]=v}}function Xw(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function SG(n,e){return Fl(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function IG(n,e,t){return Fl(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Lh(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const s of e){const i=s._stacks;if(!i||i[r]===void 0||i[r][t]===void 0)return;delete i[r][t],i[r]._visualValues!==void 0&&i[r]._visualValues[t]!==void 0&&delete i[r]._visualValues[t]}}}const Zw=n=>n==="reset"||n==="none",zI=(n,e)=>e?n:Object.assign({},n),CG=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:_D(t,!0),values:null};class ol{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Yw(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Lh(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),s=(d,f,p,g)=>d==="x"?f:d==="r"?g:p,i=t.xAxisID=Te(r.xAxisID,Xw(e,"x")),o=t.yAxisID=Te(r.yAxisID,Xw(e,"y")),a=t.rAxisID=Te(r.rAxisID,Xw(e,"r")),l=t.indexAxis,c=t.iAxisID=s(l,i,o,a),u=t.vAxisID=s(l,o,i,a);t.xScale=this.getScaleForId(i),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&xI(this._data,this),e._stacked&&Lh(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(Be(t)){const s=this._cachedMeta;this._data=EG(t,s)}else if(r!==t){if(r){xI(r,this);const s=this._cachedMeta;Lh(s),s._parsed=[]}t&&Object.isExtensible(t)&&u7(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const i=t._stacked;t._stacked=Yw(t.vScale,t),t.stack!==r.stack&&(s=!0,Lh(t),t.stack=r.stack),this._resyncElements(e),(s||i!==t._stacked)&&(jI(this,t._parsed),t._stacked=Yw(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:s}=this,{iScale:i,_stacked:o}=r,a=i.axis;let l=e===0&&t===s.length?!0:r._sorted,c=e>0&&r._parsed[e-1],u,d,f;if(this._parsing===!1)r._parsed=s,r._sorted=!0,f=s;else{Rt(s[e])?f=this.parseArrayData(r,s,e,t):Be(s[e])?f=this.parseObjectData(r,s,e,t):f=this.parsePrimitiveData(r,s,e,t);const p=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<t;++u)r._parsed[u+e]=d=f[u],l&&(p()&&(l=!1),c=d);r._sorted=l}o&&jI(this,f)}parsePrimitiveData(e,t,r,s){const{iScale:i,vScale:o}=e,a=i.axis,l=o.axis,c=i.getLabels(),u=i===o,d=new Array(s);let f,p,g;for(f=0,p=s;f<p;++f)g=f+r,d[f]={[a]:u||i.parse(c[g],g),[l]:o.parse(t[g],g)};return d}parseArrayData(e,t,r,s){const{xScale:i,yScale:o}=e,a=new Array(s);let l,c,u,d;for(l=0,c=s;l<c;++l)u=l+r,d=t[u],a[l]={x:i.parse(d[0],u),y:o.parse(d[1],u)};return a}parseObjectData(e,t,r,s){const{xScale:i,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,d,f,p;for(u=0,d=s;u<d;++u)f=u+r,p=t[f],c[u]={x:i.parse(vl(p,a),f),y:o.parse(vl(p,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const s=this.chart,i=this._cachedMeta,o=t[e.axis],a={keys:_D(s,!0),values:t._stacks[e.axis]._visualValues};return UI(a,o,i.index,{mode:r})}updateRangeFromParsed(e,t,r,s){const i=r[t.axis];let o=i===null?NaN:i;const a=s&&r._stacks[t.axis];s&&a&&(s.values=a,o=UI(s,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const r=this._cachedMeta,s=r._parsed,i=r._sorted&&e===r.iScale,o=s.length,a=this._getOtherScale(e),l=CG(t,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=AG(a);let f,p;function g(){p=s[f];const y=p[a.axis];return!Nr(p[e.axis])||u>y||d<y}for(f=0;f<o&&!(!g()&&(this.updateRangeFromParsed(c,e,p,l),i));++f);if(i){for(f=o-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let s,i,o;for(s=0,i=t.length;s<i;++s)o=t[s][e.axis],Nr(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,s=t.vScale,i=this.getParsed(e);return{label:r?""+r.getLabelForValue(i[r.axis]):"",value:s?""+s.getLabelForValue(i[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=bG(Te(this.options.clip,_G(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,s=r.data||[],i=t.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(r.dataset&&r.dataset.draw(e,i,a,l),u=a;u<a+l;++u){const d=s[u];d.hidden||(d.active&&c?o.push(d):d.draw(e,i))}for(u=0;u<o.length;++u)o[u].draw(e,i)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const s=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=IG(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=s.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=SG(this.chart.getContext(),this.index)),i.dataset=s,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=r,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const s=t==="active",i=this._cachedDataOpts,o=e+"-"+t,a=i[o],l=this.enableOptionSharing&&df(r);if(a)return zI(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(xt.elements[e]),g=()=>this.getContext(r,s,t),y=c.resolveNamedOptions(f,p,g,d);return y.$shared&&(y.$shared=l,i[o]=Object.freeze(zI(y,l))),y}_resolveAnimations(e,t,r){const s=this.chart,i=this._cachedDataOpts,o=`animation-${t}`,a=i[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,t),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(e,r,t))}const c=new vD(s,l&&l.animations);return l&&l._cacheable&&(i[o]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Zw(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),s=this._sharedOptions,i=this.getSharedOptions(r),o=this.includeOptions(t,i)||i!==s;return this.updateSharedOptions(i,t,r),{sharedOptions:i,includeOptions:o}}updateElement(e,t,r,s){Zw(s)?Object.assign(e,r):this._resolveAnimations(t,s).update(e,r)}updateSharedOptions(e,t,r){e&&!Zw(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,s){e.active=s;const i=this.getStyle(t,s);this._resolveAnimations(t,r,s).update(e,{options:!s&&this.getSharedOptions(i)||i})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=r.length,i=t.length,o=Math.min(i,s);o&&this.parse(0,o),i>s?this._insertElements(s,i-s,e):i<s&&this._removeElements(i,s-i)}_insertElements(e,t,r=!0){const s=this._cachedMeta,i=s.data,o=e+t;let a;const l=c=>{for(c.length+=t,a=c.length-1;a>=o;a--)c[a]=c[a-t]};for(l(i),a=e;a<o;++a)i[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,t),r&&this.updateElements(i,e,t,"reset")}updateElements(e,t,r,s){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,t);r._stacked&&Lh(r,s)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,s]=e;this[t](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}F(ol,"defaults",{}),F(ol,"datasetElementType",null),F(ol,"dataElementType",null);function PG(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let s=0,i=t.length;s<i;s++)r=r.concat(t[s].controller.getAllParsedValues(n));n._cache.$bar=sD(r.sort((s,i)=>s-i))}return n._cache.$bar}function kG(n){const e=n.iScale,t=PG(e,n.type);let r=e._length,s,i,o,a;const l=()=>{o===32767||o===-32768||(df(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(s=0,i=t.length;s<i;++s)o=e.getPixelForValue(t[s]),l();for(a=void 0,s=0,i=e.ticks.length;s<i;++s)o=e.getPixelForTick(s),l();return r}function RG(n,e,t,r){const s=t.barThickness;let i,o;return Ye(s)?(i=e.min*t.categoryPercentage,o=t.barPercentage):(i=s*r,o=1),{chunk:i/r,ratio:o,start:e.pixels[n]-i/2}}function NG(n,e,t,r){const s=e.pixels,i=s[n];let o=n>0?s[n-1]:null,a=n<s.length-1?s[n+1]:null;const l=t.categoryPercentage;o===null&&(o=i-(a===null?e.end-e.start:a-i)),a===null&&(a=i+i-o);const c=i-(i-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:t.barPercentage,start:c}}function OG(n,e,t,r){const s=t.parse(n[0],r),i=t.parse(n[1],r),o=Math.min(s,i),a=Math.max(s,i);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[t.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:i,min:o,max:a}}function bD(n,e,t,r){return Rt(n)?OG(n,e,t,r):e[t.axis]=t.parse(n,r),e}function HI(n,e,t,r){const s=n.iScale,i=n.vScale,o=s.getLabels(),a=s===i,l=[];let c,u,d,f;for(c=t,u=t+r;c<u;++c)f=e[c],d={},d[s.axis]=a||s.parse(o[c],c),l.push(bD(f,d,i,c));return l}function ev(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function DG(n,e,t){return n!==0?Rs(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function LG(n){let e,t,r,s,i;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(s="end",i="start"):(s="start",i="end"),{start:t,end:r,reverse:e,top:s,bottom:i}}function MG(n,e,t,r){let s=e.borderSkipped;const i={};if(!s){n.borderSkipped=i;return}if(s===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=LG(n);s==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?s=c:(t._bottom||0)===r?s=u:(i[GI(u,o,a,l)]=!0,s=c)),i[GI(s,o,a,l)]=!0,n.borderSkipped=i}function GI(n,e,t,r){return r?(n=FG(n,e,t),n=WI(n,t,e)):n=WI(n,e,t),n}function FG(n,e,t){return n===e?t:n===t?e:n}function WI(n,e,t){return n==="start"?e:n==="end"?t:n}function BG(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class Cd extends ol{parsePrimitiveData(e,t,r,s){return HI(e,t,r,s)}parseArrayData(e,t,r,s){return HI(e,t,r,s)}parseObjectData(e,t,r,s){const{iScale:i,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=i.axis==="x"?a:l,u=o.axis==="x"?a:l,d=[];let f,p,g,y;for(f=r,p=r+s;f<p;++f)y=t[f],g={},g[i.axis]=i.parse(vl(y,c),f),d.push(bD(vl(y,u),g,o,f));return d}updateRangeFromParsed(e,t,r,s){super.updateRangeFromParsed(e,t,r,s);const i=r._custom;i&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:s}=t,i=this.getParsed(e),o=i._custom,a=ev(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(i[s.axis]);return{label:""+r.getLabelForValue(i[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,s){const i=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(t,s);for(let p=t;p<t+r;p++){const g=this.getParsed(p),y=i||Ye(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),v=this._calculateBarIndexPixels(p,u),w=(g._stacks||{})[a.axis],_={horizontal:c,base:y.base,enableBorderRadius:!w||ev(g._custom)||o===w._top||o===w._bottom,x:c?y.head:v.center,y:c?v.center:y.head,height:c?v.size:Math.abs(y.size),width:c?Math.abs(y.size):v.size};f&&(_.options=d||this.resolveDataElementOptions(p,e[p].active?"active":s));const E=_.options||e[p].options;MG(_,E,w,o),BG(_,E,u.ratio),this.updateElement(e[p],p,_,s)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),i=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(t),l=a&&a[r.axis],c=u=>{const d=u._parsed.find(p=>p[r.axis]===l),f=d&&d[u.vScale.axis];if(Ye(f)||isNaN(f))return!0};for(const u of s)if(!(t!==void 0&&c(u))&&((i===!1||o.indexOf(u.stack)===-1||i===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,r){const s=this._getStacks(e,r),i=t!==void 0?s.indexOf(t):-1;return i===-1?s.length-1:i}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,s=[];let i,o;for(i=0,o=t.data.length;i<o;++i)s.push(r.getPixelForValue(this.getParsed(i)[r.axis],i));const a=e.barThickness;return{min:a||kG(t),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:s},options:{base:i,minBarLength:o}}=this,a=i||0,l=this.getParsed(e),c=l._custom,u=ev(c);let d=l[t.axis],f=0,p=r?this.applyStack(t,l,r):d,g,y;p!==d&&(f=p-d,p=d),u&&(d=c.barStart,p=c.barEnd-c.barStart,d!==0&&Rs(d)!==Rs(c.barEnd)&&(f=0),f+=d);const v=!Ye(i)&&!u?i:f;let w=t.getPixelForValue(v);if(this.chart.getDataVisibility(e)?g=t.getPixelForValue(f+p):g=w,y=g-w,Math.abs(y)<o){y=DG(y,t,a)*o,d===a&&(w-=y/2);const _=t.getPixelForDecimal(0),E=t.getPixelForDecimal(1),C=Math.min(_,E),R=Math.max(_,E);w=Math.max(Math.min(w,R),C),g=w+y,r&&!u&&(l._stacks[t.axis]._visualValues[s]=t.getValueForPixel(g)-t.getValueForPixel(w))}if(w===t.getPixelForValue(a)){const _=Rs(y)*t.getLineWidthForValue(a)/2;w+=_,y-=_}return{size:y,base:w,head:g,center:g+y/2}}_calculateBarIndexPixels(e,t){const r=t.scale,s=this.options,i=s.skipNull,o=Te(s.maxBarThickness,1/0);let a,l;if(t.grouped){const c=i?this._getStackCount(e):t.stackCount,u=s.barThickness==="flex"?NG(e,t,s,c):RG(e,t,s,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(o,t.min*t.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,s=r.length;let i=0;for(;i<s;++i)this.getParsed(i)[t.axis]!==null&&!r[i].hidden&&r[i].draw(this._ctx)}}F(Cd,"id","bar"),F(Cd,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),F(Cd,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function UG(n,e,t){let r=1,s=1,i=0,o=0;if(e<mt){const a=n,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),p=(E,C,R)=>pf(E,a,l,!0)?1:Math.max(C,C*t,R,R*t),g=(E,C,R)=>pf(E,a,l,!0)?-1:Math.min(C,C*t,R,R*t),y=p(0,c,d),v=p(Ot,u,f),w=g(yt,c,d),_=g(yt+Ot,u,f);r=(y-w)/2,s=(v-_)/2,i=-(y+w)/2,o=-(v+_)/2}return{ratioX:r,ratioY:s,offsetX:i,offsetY:o}}class wc extends ol{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let i=l=>+r[l];if(Be(r[e])){const{key:l="value"}=this._parsing;i=c=>+vl(r[c],l)}let o,a;for(o=e,a=e+t;o<a;++o)s._parsed[o]=i(o)}}_getRotation(){return mi(this.options.rotation-90)}_getCircumference(){return mi(this.options.circumference)}_getRotationExtents(){let e=mt,t=-mt;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,i=s._getRotation(),o=s._getCircumference();e=Math.min(e,i),t=Math.max(t,i+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,s=this._cachedMeta,i=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(KH(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:y}=UG(d,u,l),v=(r.width-o)/f,w=(r.height-o)/p,_=Math.max(Math.min(v,w)/2,0),E=eD(this.options.radius,_),C=Math.max(E*l,0),R=(E-C)/this._getVisibleDatasetWeightTotal();this.offsetX=g*E,this.offsetY=y*E,s.total=this.calculateTotal(),this.outerRadius=E-R*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-R*c,0),this.updateElements(i,0,i.length,e)}_circumference(e,t){const r=this.options,s=this._cachedMeta,i=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||s._parsed[e]===null||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*i/mt)}updateElements(e,t,r,s){const i=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=i&&c.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:y,includeOptions:v}=this._getSharedOptions(t,s);let w=this._getRotation(),_;for(_=0;_<t;++_)w+=this._circumference(_,i);for(_=t;_<t+r;++_){const E=this._circumference(_,i),C=e[_],R={x:u+this.offsetX,y:d+this.offsetY,startAngle:w,endAngle:w+E,circumference:E,outerRadius:g,innerRadius:p};v&&(R.options=y||this.resolveDataElementOptions(_,C.active?"active":s)),w+=E,this.updateElement(C,_,R,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,s;for(s=0;s<t.length;s++){const i=e._parsed[s];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(s)&&!t[s].hidden&&(r+=Math.abs(i))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?mt*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,s=r.data.labels||[],i=z1(t._parsed[e],r.options.locale);return{label:s[e]||"",value:i}}getMaxBorderWidth(e){let t=0;const r=this.chart;let s,i,o,a,l;if(!e){for(s=0,i=r.data.datasets.length;s<i;++s)if(r.isDatasetVisible(s)){o=r.getDatasetMeta(s),e=o.data,a=o.controller;break}}if(!e)return 0;for(s=0,i=e.length;s<i;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,s=e.length;r<s;++r){const i=this.resolveDataElementOptions(r);t=Math.max(t,i.offset||0,i.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Te(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}F(wc,"id","doughnut"),F(wc,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),F(wc,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),F(wc,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return t.labels.map((i,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}});class Wg extends ol{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:s=[],_dataset:i}=t,o=this.chart._animationsDisabled;let{start:a,count:l}=f7(t,s,o);this._drawStart=a,this._drawCount=l,p7(t)&&(a=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!i._decimated,r.points=s;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},e),this.updateElements(s,a,l,e)}updateElements(e,t,r,s){const i=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,s),f=o.axis,p=a.axis,{spanGaps:g,segment:y}=this.options,v=ff(g)?g:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||i||s==="none",_=t+r,E=e.length;let C=t>0&&this.getParsed(t-1);for(let R=0;R<E;++R){const D=e[R],T=w?D:{};if(R<t||R>=_){T.skip=!0;continue}const x=this.getParsed(R),I=Ye(x[p]),k=T[f]=o.getPixelForValue(x[f],R),N=T[p]=i||I?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,x,l):x[p],R);T.skip=isNaN(k)||isNaN(N)||I,T.stop=R>0&&Math.abs(x[f]-C[f])>v,y&&(T.parsed=x,T.raw=c.data[R]),d&&(T.options=u||this.resolveDataElementOptions(R,D.active?"active":s)),w||this.updateElement(D,R,T,s),C=x}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const i=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}F(Wg,"id","line"),F(Wg,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),F(Wg,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Z_ extends wc{}F(Z_,"id","pie"),F(Z_,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function ha(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Y1{constructor(e){F(this,"options");this.options=e||{}}static override(e){Object.assign(Y1.prototype,e)}init(){}formats(){return ha()}parse(){return ha()}format(){return ha()}add(){return ha()}diff(){return ha()}startOf(){return ha()}endOf(){return ha()}}var VG={_date:Y1};function jG(n,e,t,r){const{controller:s,data:i,_sorted:o}=n,a=s._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&i.length){const l=a._reversePixels?l7:Ca;if(r){if(s._sharedOptions){const c=i[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){const d=l(i,e,t-u),f=l(i,e,t+u);return{lo:d.lo,hi:f.hi}}}}else return l(i,e,t)}return{lo:0,hi:i.length-1}}function rp(n,e,t,r,s){const i=n.getSortedVisibleDatasetMetas(),o=t[e];for(let a=0,l=i.length;a<l;++a){const{index:c,data:u}=i[a],{lo:d,hi:f}=jG(i[a],e,o,s);for(let p=d;p<=f;++p){const g=u[p];g.skip||r(g,c,p)}}}function zG(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,s){const i=e?Math.abs(r.x-s.x):0,o=t?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function tv(n,e,t,r,s){const i=[];return!s&&!n.isPointInArea(e)||rp(n,t,e,function(a,l,c){!s&&!gf(a,n.chartArea,0)||a.inRange(e.x,e.y,r)&&i.push({element:a,datasetIndex:l,index:c})},!0),i}function HG(n,e,t,r){let s=[];function i(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],r),{angle:d}=nD(o,{x:e.x,y:e.y});pf(d,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return rp(n,t,e,i),s}function GG(n,e,t,r,s,i){let o=[];const a=zG(t);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const p=u.inRange(e.x,e.y,s);if(r&&!p)return;const g=u.getCenterPoint(s);if(!(!!i||n.isPointInArea(g))&&!p)return;const v=a(e,g);v<l?(o=[{element:u,datasetIndex:d,index:f}],l=v):v===l&&o.push({element:u,datasetIndex:d,index:f})}return rp(n,t,e,c),o}function nv(n,e,t,r,s,i){return!i&&!n.isPointInArea(e)?[]:t==="r"&&!r?HG(n,e,t,s):GG(n,e,t,r,s,i)}function $I(n,e,t,r,s){const i=[],o=t==="x"?"inXRange":"inYRange";let a=!1;return rp(n,t,e,(l,c,u)=>{l[o]&&l[o](e[t],s)&&(i.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,s))}),r&&!a?[]:i}var WG={evaluateInteractionItems:rp,modes:{index(n,e,t,r){const s=ma(e,n),i=t.axis||"x",o=t.includeInvisible||!1,a=t.intersect?tv(n,s,i,r,o):nv(n,s,i,!1,r,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(n,e,t,r){const s=ma(e,n),i=t.axis||"xy",o=t.includeInvisible||!1;let a=t.intersect?tv(n,s,i,r,o):nv(n,s,i,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(n,e,t,r){const s=ma(e,n),i=t.axis||"xy",o=t.includeInvisible||!1;return tv(n,s,i,r,o)},nearest(n,e,t,r){const s=ma(e,n),i=t.axis||"xy",o=t.includeInvisible||!1;return nv(n,s,i,t.intersect,r,o)},x(n,e,t,r){const s=ma(e,n);return $I(n,s,"x",t.intersect,r)},y(n,e,t,r){const s=ma(e,n);return $I(n,s,"y",t.intersect,r)}}};const ED=["left","top","right","bottom"];function Mh(n,e){return n.filter(t=>t.pos===e)}function QI(n,e){return n.filter(t=>ED.indexOf(t.pos)===-1&&t.box.axis===e)}function Fh(n,e){return n.sort((t,r)=>{const s=e?r:t,i=e?t:r;return s.weight===i.weight?s.index-i.index:s.weight-i.weight})}function $G(n){const e=[];let t,r,s,i,o,a;for(t=0,r=(n||[]).length;t<r;++t)s=n[t],{position:i,options:{stack:o,stackWeight:a=1}}=s,e.push({index:t,box:s,pos:i,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&i+o,stackWeight:a});return e}function QG(n){const e={};for(const t of n){const{stack:r,pos:s,stackWeight:i}=t;if(!r||!ED.includes(s))continue;const o=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function KG(n,e){const t=QG(n),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let i,o,a;for(i=0,o=n.length;i<o;++i){a=n[i];const{fullSize:l}=a.box,c=t[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*r:l&&e.availableWidth,a.height=s):(a.width=r,a.height=u?u*s:l&&e.availableHeight)}return t}function qG(n){const e=$G(n),t=Fh(e.filter(c=>c.box.fullSize),!0),r=Fh(Mh(e,"left"),!0),s=Fh(Mh(e,"right")),i=Fh(Mh(e,"top"),!0),o=Fh(Mh(e,"bottom")),a=QI(e,"x"),l=QI(e,"y");return{fullSize:t,leftAndTop:r.concat(i),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Mh(e,"chartArea"),vertical:r.concat(s).concat(l),horizontal:i.concat(o).concat(a)}}function KI(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function xD(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function JG(n,e,t,r){const{pos:s,box:i}=t,o=n.maxPadding;if(!Be(s)){t.size&&(n[s]-=t.size);const d=r[t.stack]||{size:0,count:1};d.size=Math.max(d.size,t.horizontal?i.height:i.width),t.size=d.size/d.count,n[s]+=t.size}i.getPadding&&xD(o,i.getPadding());const a=Math.max(0,e.outerWidth-KI(o,n,"left","right")),l=Math.max(0,e.outerHeight-KI(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,t.horizontal?{same:c,other:u}:{same:u,other:c}}function YG(n){const e=n.maxPadding;function t(r){const s=Math.max(e[r]-n[r],0);return n[r]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function XG(n,e){const t=e.maxPadding;function r(s){const i={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{i[o]=Math.max(e[o],t[o])}),i}return r(n?["left","right"]:["top","bottom"])}function ed(n,e,t,r){const s=[];let i,o,a,l,c,u;for(i=0,o=n.length,c=0;i<o;++i){a=n[i],l=a.box,l.update(a.width||e.w,a.height||e.h,XG(a.horizontal,e));const{same:d,other:f}=JG(e,t,a,r);c|=d&&s.length,u=u||f,l.fullSize||s.push(a)}return c&&ed(s,e,t,r)||u}function ag(n,e,t,r,s){n.top=t,n.left=e,n.right=e+r,n.bottom=t+s,n.width=r,n.height=s}function qI(n,e,t,r){const s=t.padding;let{x:i,y:o}=e;for(const a of n){const l=a.box,c=r[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=e.w*u,f=c.size||l.height;df(c.start)&&(o=c.start),l.fullSize?ag(l,s.left,o,t.outerWidth-s.right-s.left,f):ag(l,e.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=e.h*u,f=c.size||l.width;df(c.start)&&(i=c.start),l.fullSize?ag(l,i,s.top,f,t.outerHeight-s.bottom-s.top):ag(l,i,e.top+c.placed,f,d),c.start=i,c.placed+=d,i=l.right}}e.x=i,e.y=o}var Ir={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const s=Or(n.options.layout.padding),i=Math.max(e-s.width,0),o=Math.max(t-s.height,0),a=qG(n.boxes),l=a.vertical,c=a.horizontal;He(n.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});const u=l.reduce((y,v)=>v.box.options&&v.box.options.display===!1?y:y+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},s);xD(f,Or(r));const p=Object.assign({maxPadding:f,w:i,h:o,x:s.left,y:s.top},s),g=KG(l.concat(c),d);ed(a.fullSize,p,d,g),ed(l,p,d,g),ed(c,p,d,g)&&ed(l,p,d,g),YG(p),qI(a.leftAndTop,p,d,g),p.x+=p.w,p.y+=p.h,qI(a.rightAndBottom,p,d,g),n.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},He(a.chartArea,y=>{const v=y.box;Object.assign(v,n.chartArea),v.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class AD{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,s){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):r)}}isAttached(e){return!0}updateConfig(e){}}class ZG extends AD{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const $g="$chartjs",eW={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},JI=n=>n===null||n==="";function tW(n,e){const t=n.style,r=n.getAttribute("height"),s=n.getAttribute("width");if(n[$g]={initial:{height:r,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",JI(s)){const i=OI(n,"width");i!==void 0&&(n.width=i)}if(JI(r))if(n.style.height==="")n.height=n.width/(e||2);else{const i=OI(n,"height");i!==void 0&&(n.height=i)}return n}const TD=nG?{passive:!0}:!1;function nW(n,e,t){n&&n.addEventListener(e,t,TD)}function rW(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,TD)}function sW(n,e){const t=eW[n.type]||n.type,{x:r,y:s}=ma(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:s!==void 0?s:null}}function cy(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function iW(n,e,t){const r=n.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||cy(a.addedNodes,r),o=o&&!cy(a.removedNodes,r);o&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function oW(n,e,t){const r=n.canvas,s=new MutationObserver(i=>{let o=!1;for(const a of i)o=o||cy(a.removedNodes,r),o=o&&!cy(a.addedNodes,r);o&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const yf=new Map;let YI=0;function SD(){const n=window.devicePixelRatio;n!==YI&&(YI=n,yf.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function aW(n,e){yf.size||window.addEventListener("resize",SD),yf.set(n,e)}function lW(n){yf.delete(n),yf.size||window.removeEventListener("resize",SD)}function cW(n,e,t){const r=n.canvas,s=r&&J1(r);if(!s)return;const i=oD((a,l)=>{const c=s.clientWidth;t(a,l),c<s.clientWidth&&t()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||i(c,u)});return o.observe(s),aW(n,i),o}function rv(n,e,t){t&&t.disconnect(),e==="resize"&&lW(n)}function uW(n,e,t){const r=n.canvas,s=oD(i=>{n.ctx!==null&&t(sW(i,n))},n);return nW(r,e,s),s}class hW extends AD{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(tW(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[$g])return!1;const r=t[$g].initial;["height","width"].forEach(i=>{const o=r[i];Ye(o)?t.removeAttribute(i):t.setAttribute(i,o)});const s=r.style||{};return Object.keys(s).forEach(i=>{t.style[i]=s[i]}),t.width=t.width,delete t[$g],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),o={attach:iW,detach:oW,resize:cW}[t]||uW;s[t]=o(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),s=r[t];if(!s)return;({attach:rv,detach:rv,resize:rv}[t]||rW)(e,t,s),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,s){return tG(e,t,r,s)}isAttached(e){const t=e&&J1(e);return!!(t&&t.isConnected)}}function dW(n){return!q1()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?ZG:hW}class es{constructor(){F(this,"x");F(this,"y");F(this,"active",!1);F(this,"options");F(this,"$animations")}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return ff(this.x)&&ff(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const s={};return e.forEach(i=>{s[i]=r[i]&&r[i].active()?r[i]._to:this[i]}),s}}F(es,"defaults",{}),F(es,"defaultRoutes");function fW(n,e){const t=n.options.ticks,r=pW(n),s=Math.min(t.maxTicksLimit||r,r),i=t.major.enabled?mW(e):[],o=i.length,a=i[0],l=i[o-1],c=[];if(o>s)return yW(e,c,i,o/s),c;const u=gW(i,e,s);if(o>0){let d,f;const p=o>1?Math.round((l-a)/(o-1)):null;for(lg(e,c,u,Ye(p)?0:a-p,a),d=0,f=o-1;d<f;d++)lg(e,c,u,i[d],i[d+1]);return lg(e,c,u,l,Ye(p)?e.length:l+p),c}return lg(e,c,u),c}function pW(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(r,s))}function gW(n,e,t){const r=wW(n),s=e.length/t;if(!r)return Math.max(s,1);const i=n7(r);for(let o=0,a=i.length-1;o<a;o++){const l=i[o];if(l>s)return l}return Math.max(s,1)}function mW(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function yW(n,e,t,r){let s=0,i=t[0],o;for(r=Math.ceil(r),o=0;o<n.length;o++)o===i&&(e.push(n[o]),s++,i=t[s*r])}function lg(n,e,t,r,s){const i=Te(r,0),o=Math.min(Te(s,n.length),n.length);let a=0,l,c,u;for(t=Math.ceil(t),s&&(l=s-r,t=l/Math.floor(l/t)),u=i;u<0;)a++,u=Math.round(i+a*t);for(c=Math.max(i,0);c<o;c++)c===u&&(e.push(n[c]),a++,u=Math.round(i+a*t))}function wW(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const vW=n=>n==="left"?"right":n==="right"?"left":n,XI=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,ZI=(n,e)=>Math.min(e||n,n);function eC(n,e){const t=[],r=n.length/e,s=n.length;let i=0;for(;i<s;i+=r)t.push(n[Math.floor(i)]);return t}function _W(n,e,t){const r=n.ticks.length,s=Math.min(e,r-1),i=n._startPixel,o=n._endPixel,a=1e-6;let l=n.getPixelForTick(s),c;if(!(t&&(r===1?c=Math.max(l-i,o-l):e===0?c=(n.getPixelForTick(1)-l)/2:c=(l-n.getPixelForTick(s-1))/2,l+=s<e?c:-c,l<i-a||l>o+a)))return l}function bW(n,e){He(n,t=>{const r=t.gc,s=r.length/2;let i;if(s>e){for(i=0;i<s;++i)delete t.data[r[i]];r.splice(0,s)}})}function Bh(n){return n.drawTicks?n.tickLength:0}function tC(n,e){if(!n.display)return 0;const t=yn(n.font,e),r=Or(n.padding);return(Rt(n.text)?n.text.length:1)*t.lineHeight+r.height}function EW(n,e){return Fl(n,{scale:e,type:"scale"})}function xW(n,e,t){return Fl(n,{tick:t,index:e,type:"tick"})}function AW(n,e,t){let r=V1(n);return(t&&e!=="right"||!t&&e==="right")&&(r=vW(r)),r}function TW(n,e,t,r){const{top:s,left:i,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l;let d=0,f,p,g;const y=o-s,v=a-i;if(n.isHorizontal()){if(p=dn(r,i,a),Be(t)){const w=Object.keys(t)[0],_=t[w];g=u[w].getPixelForValue(_)+y-e}else t==="center"?g=(c.bottom+c.top)/2+y-e:g=XI(n,t,e);f=a-i}else{if(Be(t)){const w=Object.keys(t)[0],_=t[w];p=u[w].getPixelForValue(_)-v+e}else t==="center"?p=(c.left+c.right)/2-v+e:p=XI(n,t,e);g=dn(r,o,s),d=t==="left"?-Ot:Ot}return{titleX:p,titleY:g,maxWidth:f,rotation:d}}class lh extends es{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:s}=this;return e=os(e,Number.POSITIVE_INFINITY),t=os(t,Number.NEGATIVE_INFINITY),r=os(r,Number.POSITIVE_INFINITY),s=os(s,Number.NEGATIVE_INFINITY),{min:os(e,r),max:os(t,s),minDefined:Nr(e),maxDefined:Nr(t)}}getMinMax(e){let{min:t,max:r,minDefined:s,maxDefined:i}=this.getUserBounds(),o;if(s&&i)return{min:t,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),s||(t=Math.min(t,o.min)),i||(r=Math.max(r,o.max));return t=i&&t>r?r:t,r=s&&t>r?t:r,{min:os(t,os(r,t)),max:os(r,os(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){tt(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:s,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=O7(this,i,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?eC(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=fW(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){tt(this.options.afterUpdate,[this])}beforeSetDimensions(){tt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){tt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),tt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){tt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,s,i;for(r=0,s=e.length;r<s;r++)i=e[r],i.label=tt(t.callback,[i.value,r,e],this)}afterTickToLabelConversion(){tt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){tt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=ZI(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,i=t.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!t.display||s>=i||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,p=mn(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/r:p/(r-1),d+6>a&&(a=p/(r-(e.offset?.5:1)),l=this.maxHeight-Bh(e.grid)-t.padding-tC(e.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=i7(Math.min(Math.asin(mn((u.highest.height+6)/a,-1,1)),Math.asin(mn(l/c,-1,1))-Math.asin(mn(f/c,-1,1)))),o=Math.max(s,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){tt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){tt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:s,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=tC(s,t.options.font);if(a?(e.width=this.maxWidth,e.height=Bh(i)+l):(e.height=this.maxHeight,e.width=Bh(i)+l),r.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),p=r.padding*2,g=mi(this.labelRotation),y=Math.cos(g),v=Math.sin(g);if(a){const w=r.mirror?0:v*d.width+y*f.height;e.height=Math.min(this.maxHeight,e.height+w+p)}else{const w=r.mirror?0:y*d.width+v*f.height;e.width=Math.min(this.maxWidth,e.width+w+p)}this._calculatePadding(c,u,v,y)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,s){const{ticks:{align:i,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=s*e.width,p=r*t.height):(f=r*e.height,p=s*t.width):i==="start"?p=t.width:i==="end"?f=e.width:i!=="inner"&&(f=e.width/2,p=t.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-d+o)*this.width/(this.width-d),0)}else{let u=t.height/2,d=e.height/2;i==="start"?(u=0,d=e.height):i==="end"&&(u=t.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){tt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)Ye(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=eC(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:s,_longestTextCache:i}=this,o=[],a=[],l=Math.floor(t/ZI(t,r));let c=0,u=0,d,f,p,g,y,v,w,_,E,C,R;for(d=0;d<t;d+=l){if(g=e[d].label,y=this._resolveTickFontOptions(d),s.font=v=y.string,w=i[v]=i[v]||{data:{},gc:[]},_=y.lineHeight,E=C=0,!Ye(g)&&!Rt(g))E=CI(s,w.data,w.gc,E,g),C=_;else if(Rt(g))for(f=0,p=g.length;f<p;++f)R=g[f],!Ye(R)&&!Rt(R)&&(E=CI(s,w.data,w.gc,E,R),C+=_);o.push(E),a.push(C),c=Math.max(E,c),u=Math.max(C,u)}bW(i,t);const D=o.indexOf(c),T=a.indexOf(u),x=I=>({width:o[I]||0,height:a[I]||0});return{first:x(0),last:x(t-1),widest:x(D),highest:x(T),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return a7(this._alignToPixels?ua(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=xW(this.getContext(),e,r))}return this.$context||(this.$context=EW(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=mi(this.labelRotation),r=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,l=i?i.highest.height+o:0;return this.isHorizontal()?l*r>a*s?a/r:l/s:l*s<a*r?l/r:a/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,s=this.options,{grid:i,position:o,border:a}=s,l=i.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Bh(i),p=[],g=a.setContext(this.getContext()),y=g.display?g.width:0,v=y/2,w=function(q){return ua(r,q,y)};let _,E,C,R,D,T,x,I,k,N,M,O;if(o==="top")_=w(this.bottom),T=this.bottom-f,I=_-v,N=w(e.top)+v,O=e.bottom;else if(o==="bottom")_=w(this.top),N=e.top,O=w(e.bottom)-v,T=_+v,I=this.top+f;else if(o==="left")_=w(this.right),D=this.right-f,x=_-v,k=w(e.left)+v,M=e.right;else if(o==="right")_=w(this.left),k=e.left,M=w(e.right)-v,D=_+v,x=this.left+f;else if(t==="x"){if(o==="center")_=w((e.top+e.bottom)/2+.5);else if(Be(o)){const q=Object.keys(o)[0],Z=o[q];_=w(this.chart.scales[q].getPixelForValue(Z))}N=e.top,O=e.bottom,T=_+v,I=T+f}else if(t==="y"){if(o==="center")_=w((e.left+e.right)/2);else if(Be(o)){const q=Object.keys(o)[0],Z=o[q];_=w(this.chart.scales[q].getPixelForValue(Z))}D=_-v,x=D-f,k=e.left,M=e.right}const fe=Te(s.ticks.maxTicksLimit,d),G=Math.max(1,Math.ceil(d/fe));for(E=0;E<d;E+=G){const q=this.getContext(E),Z=i.setContext(q),W=a.setContext(q),K=Z.lineWidth,te=Z.color,le=W.dash||[],ae=W.dashOffset,ce=Z.tickWidth,_e=Z.tickColor,ke=Z.tickBorderDash||[],Le=Z.tickBorderDashOffset;C=_W(this,E,l),C!==void 0&&(R=ua(r,C,K),c?D=x=k=M=R:T=I=N=O=R,p.push({tx1:D,ty1:T,tx2:x,ty2:I,x1:k,y1:N,x2:M,y2:O,width:K,color:te,borderDash:le,borderDashOffset:ae,tickWidth:ce,tickColor:_e,tickBorderDash:ke,tickBorderDashOffset:Le}))}return this._ticksLength=d,this._borderValue=_,p}_computeLabelItems(e){const t=this.axis,r=this.options,{position:s,ticks:i}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=i,f=Bh(r.grid),p=f+u,g=d?-u:p,y=-mi(this.labelRotation),v=[];let w,_,E,C,R,D,T,x,I,k,N,M,O="middle";if(s==="top")D=this.bottom-g,T=this._getXAxisLabelAlignment();else if(s==="bottom")D=this.top+g,T=this._getXAxisLabelAlignment();else if(s==="left"){const G=this._getYAxisLabelAlignment(f);T=G.textAlign,R=G.x}else if(s==="right"){const G=this._getYAxisLabelAlignment(f);T=G.textAlign,R=G.x}else if(t==="x"){if(s==="center")D=(e.top+e.bottom)/2+p;else if(Be(s)){const G=Object.keys(s)[0],q=s[G];D=this.chart.scales[G].getPixelForValue(q)+p}T=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")R=(e.left+e.right)/2-p;else if(Be(s)){const G=Object.keys(s)[0],q=s[G];R=this.chart.scales[G].getPixelForValue(q)}T=this._getYAxisLabelAlignment(f).textAlign}t==="y"&&(l==="start"?O="top":l==="end"&&(O="bottom"));const fe=this._getLabelSizes();for(w=0,_=a.length;w<_;++w){E=a[w],C=E.label;const G=i.setContext(this.getContext(w));x=this.getPixelForTick(w)+i.labelOffset,I=this._resolveTickFontOptions(w),k=I.lineHeight,N=Rt(C)?C.length:1;const q=N/2,Z=G.color,W=G.textStrokeColor,K=G.textStrokeWidth;let te=T;o?(R=x,T==="inner"&&(w===_-1?te=this.options.reverse?"left":"right":w===0?te=this.options.reverse?"right":"left":te="center"),s==="top"?c==="near"||y!==0?M=-N*k+k/2:c==="center"?M=-fe.highest.height/2-q*k+k:M=-fe.highest.height+k/2:c==="near"||y!==0?M=k/2:c==="center"?M=fe.highest.height/2-q*k:M=fe.highest.height-N*k,d&&(M*=-1),y!==0&&!G.showLabelBackdrop&&(R+=k/2*Math.sin(y))):(D=x,M=(1-N)*k/2);let le;if(G.showLabelBackdrop){const ae=Or(G.backdropPadding),ce=fe.heights[w],_e=fe.widths[w];let ke=M-ae.top,Le=0-ae.left;switch(O){case"middle":ke-=ce/2;break;case"bottom":ke-=ce;break}switch(T){case"center":Le-=_e/2;break;case"right":Le-=_e;break;case"inner":w===_-1?Le-=_e:w>0&&(Le-=_e/2);break}le={left:Le,top:ke,width:_e+ae.width,height:ce+ae.height,color:G.backdropColor}}v.push({label:C,font:I,textOffset:M,options:{rotation:y,color:Z,strokeColor:W,strokeWidth:K,textAlign:te,textBaseline:O,translation:[R,D],backdrop:le}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-mi(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:s,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,l=o.widest.width;let c,u;return t==="left"?s?(u=this.right+i,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u=this.left)):t==="right"?s?(u=this.left+i,r==="near"?c="right":r==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,r==="near"?c="left":r==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:s,width:i,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,s,i,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(i=>i.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const a=(l,c,u)=>{!u.width||!u.color||(r.save(),r.lineWidth=u.width,r.strokeStyle=u.color,r.setLineDash(u.borderDash||[]),r.lineDashOffset=u.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(t.display)for(i=0,o=s.length;i<o;++i){const l=s[i];t.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),t.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:s}}=this,i=r.setContext(this.getContext()),o=r.display?i.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=ua(e,this.left,o)-o/2,u=ua(e,this.right,a)+a/2,d=f=l):(d=ua(e,this.top,o)-o/2,f=ua(e,this.bottom,a)+a/2,c=u=l),t.save(),t.lineWidth=i.width,t.strokeStyle=i.color,t.beginPath(),t.moveTo(c,d),t.lineTo(u,f),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&H1(r,s);const i=this.getLabelItems(e);for(const o of i){const a=o.options,l=o.font,c=o.label,u=o.textOffset;mf(r,c,0,u,l,a)}s&&G1(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:s}}=this;if(!r.display)return;const i=yn(r.font),o=Or(r.padding),a=r.align;let l=i.lineHeight/2;t==="bottom"||t==="center"||Be(t)?(l+=o.bottom,Rt(r.text)&&(l+=i.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=TW(this,l,t,a);mf(e,r.text,0,0,i,{color:r.color,maxWidth:d,rotation:f,textAlign:AW(a,t,s),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Te(e.grid&&e.grid.z,-1),s=Te(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==lh.prototype.draw?[{z:t,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let i,o;for(i=0,o=t.length;i<o;++i){const a=t[i];a[r]===this.id&&(!e||a.type===e)&&s.push(a)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return yn(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class cg{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;CW(t)&&(r=this.register(t));const s=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in s||(s[i]=e,SW(e,o,r),this.override&&xt.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,s=this.scope;r in t&&delete t[r],s&&r in xt[s]&&(delete xt[s][r],this.override&&delete _l[r])}}function SW(n,e,t){const r=hf(Object.create(null),[t?xt.get(t):{},xt.get(e),n.defaults]);xt.set(e,r),n.defaultRoutes&&IW(e,n.defaultRoutes),n.descriptors&&xt.describe(e,n.descriptors)}function IW(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),s=r.pop(),i=[n].concat(r).join("."),o=e[t].split("."),a=o.pop(),l=o.join(".");xt.route(i,s,l,a)})}function CW(n){return"id"in n&&"defaults"in n}class PW{constructor(){this.controllers=new cg(ol,"datasets",!0),this.elements=new cg(es,"elements"),this.plugins=new cg(Object,"plugins"),this.scales=new cg(lh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(s=>{const i=r||this._getRegistryForType(s);r||i.isForType(s)||i===this.plugins&&s.id?this._exec(e,i,s):He(s,o=>{const a=r||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,t,r){const s=B1(e);tt(r["before"+s],[],r),t[e](r),tt(r["after"+s],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var us=new PW;class kW{constructor(){this._init=[]}notify(e,t,r,s){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const i=s?this._descriptors(e).filter(s):this._descriptors(e),o=this._notify(i,e,t,r);return t==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,r,s){s=s||{};for(const i of e){const o=i.plugin,a=o[r],l=[t,s,i.options];if(tt(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){Ye(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,s=Te(r.options&&r.options.plugins,{}),i=RW(r);return s===!1&&!t?[]:OW(e,i,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,s=(i,o)=>i.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(t,r),e,"stop"),this._notify(s(r,t),e,"start")}}function RW(n){const e={},t=[],r=Object.keys(us.plugins.items);for(let i=0;i<r.length;i++)t.push(us.getPlugin(r[i]));const s=n.plugins||[];for(let i=0;i<s.length;i++){const o=s[i];t.indexOf(o)===-1&&(t.push(o),e[o.id]=!0)}return{plugins:t,localIds:e}}function NW(n,e){return!e&&n===!1?null:n===!0?{}:n}function OW(n,{plugins:e,localIds:t},r,s){const i=[],o=n.getContext();for(const a of e){const l=a.id,c=NW(r[l],s);c!==null&&i.push({plugin:a,options:DW(n.config,{plugin:a,local:t[l]},c,o)})}return i}function DW(n,{plugin:e,local:t},r,s){const i=n.pluginScopeKeys(e),o=n.getOptionScopes(r,i);return t&&e.defaults&&o.push(e.defaults),n.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function eb(n,e){const t=xt.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function LW(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function MW(n,e){return n===e?"_index_":"_value_"}function nC(n){if(n==="x"||n==="y"||n==="r")return n}function FW(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function tb(n,...e){if(nC(n))return n;for(const t of e){const r=t.axis||FW(t.position)||n.length>1&&nC(n[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function rC(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function BW(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(r=>r.xAxisID===n||r.yAxisID===n);if(t.length)return rC(n,"x",t[0])||rC(n,"y",t[0])}return{}}function UW(n,e){const t=_l[n.type]||{scales:{}},r=e.scales||{},s=eb(n.type,e),i=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!Be(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=tb(o,a,BW(o,n),xt.scales[a.type]),c=MW(l,s),u=t.scales||{};i[o]=Ad(Object.create(null),[{axis:l},a,u[l],u[c]])}),n.data.datasets.forEach(o=>{const a=o.type||n.type,l=o.indexAxis||eb(a,e),u=(_l[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=LW(d,l),p=o[f+"AxisID"]||f;i[p]=i[p]||Object.create(null),Ad(i[p],[{axis:f},r[p],u[d]])})}),Object.keys(i).forEach(o=>{const a=i[o];Ad(a,[xt.scales[a.type],xt.scale])}),i}function ID(n){const e=n.options||(n.options={});e.plugins=Te(e.plugins,{}),e.scales=UW(n,e)}function CD(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function VW(n){return n=n||{},n.data=CD(n.data),ID(n),n}const sC=new Map,PD=new Set;function ug(n,e){let t=sC.get(n);return t||(t=e(),sC.set(n,t),PD.add(t)),t}const Uh=(n,e,t)=>{const r=vl(e,t);r!==void 0&&n.add(r)};class jW{constructor(e){this._config=VW(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=CD(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),ID(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ug(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return ug(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return ug(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return ug(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let s=r.get(e);return(!s||t)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,t,r){const{options:s,type:i}=this,o=this._cachedScopes(e,r),a=o.get(t);if(a)return a;const l=new Set;t.forEach(u=>{e&&(l.add(e),u.forEach(d=>Uh(l,e,d))),u.forEach(d=>Uh(l,s,d)),u.forEach(d=>Uh(l,_l[i]||{},d)),u.forEach(d=>Uh(l,xt,d)),u.forEach(d=>Uh(l,Y_,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),PD.has(t)&&o.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,_l[t]||{},xt.datasets[t]||{},{type:t},xt,Y_]}resolveNamedOptions(e,t,r,s=[""]){const i={$shared:!0},{resolver:o,subPrefixes:a}=iC(this._resolverCache,e,s);let l=o;if(HW(o,t)){i.$shared=!1,r=Jo(r)?r():r;const c=this.createResolver(e,r,a);l=zu(o,r,c)}for(const c of t)i[c]=l[c];return i}createResolver(e,t,r=[""],s){const{resolver:i}=iC(this._resolverCache,e,r);return Be(t)?zu(i,t,void 0,s):i}}function iC(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const s=t.join();let i=r.get(s);return i||(i={resolver:$1(e,t),subPrefixes:t.filter(a=>!a.toLowerCase().includes("hover"))},r.set(s,i)),i}const zW=n=>Be(n)&&Object.getOwnPropertyNames(n).some(e=>Jo(n[e]));function HW(n,e){const{isScriptable:t,isIndexable:r}=hD(n);for(const s of e){const i=t(s),o=r(s),a=(o||i)&&n[s];if(i&&(Jo(a)||zW(a))||o&&Rt(a))return!0}return!1}var GW="4.4.6";const WW=["top","bottom","left","right","chartArea"];function oC(n,e){return n==="top"||n==="bottom"||WW.indexOf(n)===-1&&e==="x"}function aC(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function lC(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),tt(t&&t.onComplete,[n],e)}function $W(n){const e=n.chart,t=e.options.animation;tt(t&&t.onProgress,[n],e)}function kD(n){return q1()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Qg={},cC=n=>{const e=kD(n);return Object.values(Qg).filter(t=>t.canvas===e).pop()};function QW(n,e,t){const r=Object.keys(n);for(const s of r){const i=+s;if(i>=e){const o=n[s];delete n[s],(t>0||i>e)&&(n[i+t]=o)}}}function KW(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}function hg(n,e,t){return n.options.clip?n[t]:e[t]}function qW(n,e){const{xScale:t,yScale:r}=n;return t&&r?{left:hg(t,e,"left"),right:hg(t,e,"right"),top:hg(r,e,"top"),bottom:hg(r,e,"bottom")}:e}var Wi;let v0=(Wi=class{static register(...e){us.add(...e),uC()}static unregister(...e){us.remove(...e),uC()}constructor(e,t){const r=this.config=new jW(t),s=kD(e),i=cC(s);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||dW(s)),this.platform.updateConfig(r);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=QH(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=h7(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],Qg[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}js.listen(this,"complete",lC),js.listen(this,"progress",$W),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:s,_aspectRatio:i}=this;return Ye(e)?t&&i?i:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return us}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():NI(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return PI(this.canvas,this.ctx),this}stop(){return js.stop(this),this}resize(e,t){js.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,s=this.canvas,i=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,e,t,i),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,NI(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),tt(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};He(t,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,s=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let i=[];t&&(i=i.concat(Object.keys(t).map(o=>{const a=t[o],l=tb(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),He(i,o=>{const a=o.options,l=a.id,c=tb(l,a),u=Te(a.type,o.dtype);(a.position===void 0||oC(a.position,c)!==oC(o.dposition))&&(a.position=o.dposition),s[l]=!0;let d=null;if(l in r&&r[l].type===u)d=r[l];else{const f=us.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),r[d.id]=d}d.init(a,e)}),He(s,(o,a)=>{o||delete r[a]}),He(r,o=>{Ir.configure(this,o,o.options),Ir.addBox(this,o)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((s,i)=>s.index-i.index),r>t){for(let s=t;s<r;++s)this._destroyDatasetMeta(s);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(aC("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,s)=>{t.filter(i=>i===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=t.length;r<s;r++){const i=t[r];let o=this.getDatasetMeta(r);const a=i.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=i.indexAxis||eb(a,this.options),o.order=i.order||0,o.index=r,o.label=""+i.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=us.getController(a),{datasetElementType:c,dataElementType:u}=xt.datasets[a];Object.assign(l,{dataElementType:us.getElement(u),datasetElementType:c&&us.getElement(c)}),o.controller=new l(this,r),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){He(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!s&&i.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),s||He(i,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(aC("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){He(this.scales,e=>{Ir.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!vI(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:i}of t){const o=r==="_removeElements"?-i:i;QW(e,s,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=i=>new Set(e.filter(o=>o[0]===i).map((o,a)=>a+","+o.splice(1).join(","))),s=r(0);for(let i=1;i<t;i++)if(!vI(s,r(i)))return;return Array.from(s).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ir.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],He(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,i)=>{s._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,Jo(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(js.has(this)?this.attached&&!js.running(this)&&js.start(this):(this.draw(),lC({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let s,i;for(s=0,i=t.length;s<i;++s){const o=t[s];(!e||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r=e._clip,s=!r.disabled,i=qW(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&H1(t,{left:r.left===!1?0:i.left-r.left,right:r.right===!1?this.width:i.right+r.right,top:r.top===!1?0:i.top-r.top,bottom:r.bottom===!1?this.height:i.bottom+r.bottom}),e.controller.draw(),s&&G1(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return gf(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,s){const i=WG.modes[t];return typeof i=="function"?i(this,e,r,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let s=r.filter(i=>i&&i._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Fl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const s=r?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,s);df(t)?(i.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),o.update(i,{visible:r}),this.update(a=>a.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),js.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),PI(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Qg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(i,o)=>{t.addEventListener(this,i,o),e[i]=o},s=(i,o,a)=>{i.offsetX=o,i.offsetY=a,this._eventHandler(i)};He(this.options.events,i=>r(i,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(l,c)=>{t.addEventListener(this,l,c),e[l]=c},s=(l,c)=>{e[l]&&(t.removeEventListener(this,l,c),delete e[l])},i=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),r("resize",i),r("detach",o)};o=()=>{this.attached=!1,s("resize",i),this._stop(),this._resize(0,0),r("attach",a)},t.isAttached(this.canvas)?a():o()}unbindEvents(){He(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},He(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const s=r?"set":"remove";let i,o,a,l;for(t==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:i,index:o})=>{const a=this.getDatasetMeta(i);if(!a)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:a.data[o],index:o}});!sy(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,r){const s=this.options.hover,i=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=i(t,e),a=r?e:i(e,t);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const i=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(i||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:s=[],options:i}=this,o=t,a=this._getActiveElements(e,s,r,o),l=ZH(e),c=KW(e,this._lastEvent,r,l);r&&(this._lastEvent=null,tt(i.onHover,[e,a,this],this),l&&tt(i.onClick,[e,a,this],this));const u=!sy(a,s);return(u||t)&&(this._active=a,this._updateHoverStyles(a,s,t)),this._lastEvent=c,u}_getActiveElements(e,t,r,s){if(e.type==="mouseout")return[];if(!r)return t;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,s)}},F(Wi,"defaults",xt),F(Wi,"instances",Qg),F(Wi,"overrides",_l),F(Wi,"registry",us),F(Wi,"version",GW),F(Wi,"getChart",cC),Wi);function uC(){return He(v0.instances,n=>n._plugins.invalidate())}function JW(n,e,t){const{startAngle:r,pixelMargin:s,x:i,y:o,outerRadius:a,innerRadius:l}=e;let c=s/a;n.beginPath(),n.arc(i,o,a,r-c,t+c),l>s?(c=s/l,n.arc(i,o,l,t+c,r-c,!0)):n.arc(i,o,s,t+Ot,r-Ot),n.closePath(),n.clip()}function YW(n){return W1(n,["outerStart","outerEnd","innerStart","innerEnd"])}function XW(n,e,t,r){const s=YW(n.options.borderRadius),i=(t-e)/2,o=Math.min(i,r*e/2),a=l=>{const c=(t-Math.min(i,l))*r/2;return mn(l,0,Math.min(i,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:mn(s.innerStart,0,o),innerEnd:mn(s.innerEnd,0,o)}}function $l(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function uy(n,e,t,r,s,i){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+r+t-c,0),f=u>0?u+r+t+c:0;let p=0;const g=s-l;if(r){const G=u>0?u-r:0,q=d>0?d-r:0,Z=(G+q)/2,W=Z!==0?g*Z/(Z+r):g;p=(g-W)/2}const y=Math.max(.001,g*d-t/yt)/d,v=(g-y)/2,w=l+v+p,_=s-v-p,{outerStart:E,outerEnd:C,innerStart:R,innerEnd:D}=XW(e,f,d,_-w),T=d-E,x=d-C,I=w+E/T,k=_-C/x,N=f+R,M=f+D,O=w+R/N,fe=_-D/M;if(n.beginPath(),i){const G=(I+k)/2;if(n.arc(o,a,d,I,G),n.arc(o,a,d,G,k),C>0){const K=$l(x,k,o,a);n.arc(K.x,K.y,C,k,_+Ot)}const q=$l(M,_,o,a);if(n.lineTo(q.x,q.y),D>0){const K=$l(M,fe,o,a);n.arc(K.x,K.y,D,_+Ot,fe+Math.PI)}const Z=(_-D/f+(w+R/f))/2;if(n.arc(o,a,f,_-D/f,Z,!0),n.arc(o,a,f,Z,w+R/f,!0),R>0){const K=$l(N,O,o,a);n.arc(K.x,K.y,R,O+Math.PI,w-Ot)}const W=$l(T,w,o,a);if(n.lineTo(W.x,W.y),E>0){const K=$l(T,I,o,a);n.arc(K.x,K.y,E,w-Ot,I)}}else{n.moveTo(o,a);const G=Math.cos(I)*d+o,q=Math.sin(I)*d+a;n.lineTo(G,q);const Z=Math.cos(k)*d+o,W=Math.sin(k)*d+a;n.lineTo(Z,W)}n.closePath()}function ZW(n,e,t,r,s){const{fullCircles:i,startAngle:o,circumference:a}=e;let l=e.endAngle;if(i){uy(n,e,t,r,l,s);for(let c=0;c<i;++c)n.fill();isNaN(a)||(l=o+(a%mt||mt))}return uy(n,e,t,r,l,s),n.fill(),l}function e$(n,e,t,r,s){const{fullCircles:i,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f}=l,p=l.borderAlign==="inner";if(!c)return;n.setLineDash(d||[]),n.lineDashOffset=f,p?(n.lineWidth=c*2,n.lineJoin=u||"round"):(n.lineWidth=c,n.lineJoin=u||"bevel");let g=e.endAngle;if(i){uy(n,e,t,r,g,s);for(let y=0;y<i;++y)n.stroke();isNaN(a)||(g=o+(a%mt||mt))}p&&JW(n,e,g),i||(uy(n,e,t,r,g,s),n.stroke())}class td extends es{constructor(t){super();F(this,"circumference");F(this,"endAngle");F(this,"fullCircles");F(this,"innerRadius");F(this,"outerRadius");F(this,"pixelMargin");F(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,r,s){const i=this.getProps(["x","y"],s),{angle:o,distance:a}=nD(i,{x:t,y:r}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),p=(this.options.spacing+this.options.borderWidth)/2,g=Te(f,c-l),y=pf(o,l,c)&&l!==c,v=g>=mt||y,w=Io(a,u+p,d+p);return v&&w}getCenterPoint(t){const{x:r,y:s,startAngle:i,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:c,spacing:u}=this.options,d=(i+o)/2,f=(a+l+u+c)/2;return{x:r+Math.cos(d)*f,y:s+Math.sin(d)*f}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:r,circumference:s}=this,i=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=s>mt?Math.floor(s/mt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const l=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(l)*i,Math.sin(l)*i);const c=1-Math.sin(Math.min(yt,s||0)),u=i*c;t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,ZW(t,this,u,o,a),e$(t,this,u,o,a),t.restore()}}F(td,"id","arc"),F(td,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),F(td,"defaultRoutes",{backgroundColor:"backgroundColor"}),F(td,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"});function RD(n,e,t=e){n.lineCap=Te(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Te(t.borderDash,e.borderDash)),n.lineDashOffset=Te(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Te(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Te(t.borderWidth,e.borderWidth),n.strokeStyle=Te(t.borderColor,e.borderColor)}function t$(n,e,t){n.lineTo(t.x,t.y)}function n$(n){return n.stepped?A7:n.tension||n.cubicInterpolationMode==="monotone"?T7:t$}function ND(n,e,t={}){const r=n.length,{start:s=0,end:i=r-1}=t,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(i,a),u=s<o&&i<o||s>a&&i>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function r$(n,e,t,r){const{points:s,options:i}=e,{count:o,start:a,loop:l,ilen:c}=ND(s,t,r),u=n$(i);let{move:d=!0,reverse:f}=r||{},p,g,y;for(p=0;p<=c;++p)g=s[(a+(f?c-p:p))%o],!g.skip&&(d?(n.moveTo(g.x,g.y),d=!1):u(n,y,g,f,i.stepped),y=g);return l&&(g=s[(a+(f?c:0))%o],u(n,y,g,f,i.stepped)),!!l}function s$(n,e,t,r){const s=e.points,{count:i,start:o,ilen:a}=ND(s,t,r),{move:l=!0,reverse:c}=r||{};let u=0,d=0,f,p,g,y,v,w;const _=C=>(o+(c?a-C:C))%i,E=()=>{y!==v&&(n.lineTo(u,v),n.lineTo(u,y),n.lineTo(u,w))};for(l&&(p=s[_(0)],n.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=s[_(f)],p.skip)continue;const C=p.x,R=p.y,D=C|0;D===g?(R<y?y=R:R>v&&(v=R),u=(d*u+C)/++d):(E(),n.lineTo(C,R),g=D,d=0,y=v=R),w=R}E()}function nb(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?s$:r$}function i$(n){return n.stepped?rG:n.tension||n.cubicInterpolationMode==="monotone"?sG:ya}function o$(n,e,t,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,r)&&s.closePath()),RD(n,e.options),n.stroke(s)}function a$(n,e,t,r){const{segments:s,options:i}=e,o=nb(e);for(const a of s)RD(n,i,a.style),n.beginPath(),o(n,e,a,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const l$=typeof Path2D=="function";function c$(n,e,t,r){l$&&!e.options.segment?o$(n,e,t,r):a$(n,e,t,r)}class nd extends es{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;q7(this._points,r,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=dG(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,s=e[t],i=this.points,o=cG(this,{property:t,start:s,end:s});if(!o.length)return;const a=[],l=i$(r);let c,u;for(c=0,u=o.length;c<u;++c){const{start:d,end:f}=o[c],p=i[d],g=i[f];if(p===g){a.push(p);continue}const y=Math.abs((s-p[t])/(g[t]-p[t])),v=l(p,g,y,r.stepped);v[t]=e[t],a.push(v)}return a.length===1?a[0]:a}pathSegment(e,t,r){return nb(this)(e,this,t,r)}path(e,t,r){const s=this.segments,i=nb(this);let o=this._loop;t=t||0,r=r||this.points.length-t;for(const a of s)o&=i(e,this,a,{start:t,end:t+r-1});return!!o}draw(e,t,r,s){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),c$(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}F(nd,"id","line"),F(nd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),F(nd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),F(nd,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function hC(n,e,t,r){const s=n.options,{[t]:i}=n.getProps([t],r);return Math.abs(e-i)<s.radius+s.hitRadius}class Kg extends es{constructor(t){super();F(this,"parsed");F(this,"skip");F(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,r,s){const i=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(t-o,2)+Math.pow(r-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(t,r){return hC(this,t,"x",r)}inYRange(t,r){return hC(this,t,"y",r)}getCenterPoint(t){const{x:r,y:s}=this.getProps(["x","y"],t);return{x:r,y:s}}size(t){t=t||this.options||{};let r=t.radius||0;r=Math.max(r,r&&t.hoverRadius||0);const s=r&&t.borderWidth||0;return(r+s)*2}draw(t,r){const s=this.options;this.skip||s.radius<.1||!gf(this,r,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,X_(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}F(Kg,"id","point"),F(Kg,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),F(Kg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function OD(n,e){const{x:t,y:r,base:s,width:i,height:o}=n.getProps(["x","y","base","width","height"],e);let a,l,c,u,d;return n.horizontal?(d=o/2,a=Math.min(t,s),l=Math.max(t,s),c=r-d,u=r+d):(d=i/2,a=t-d,l=t+d,c=Math.min(r,s),u=Math.max(r,s)),{left:a,top:c,right:l,bottom:u}}function Co(n,e,t,r){return n?0:mn(e,t,r)}function u$(n,e,t){const r=n.options.borderWidth,s=n.borderSkipped,i=uD(r);return{t:Co(s.top,i.top,0,t),r:Co(s.right,i.right,0,e),b:Co(s.bottom,i.bottom,0,t),l:Co(s.left,i.left,0,e)}}function h$(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),s=n.options.borderRadius,i=Mc(s),o=Math.min(e,t),a=n.borderSkipped,l=r||Be(s);return{topLeft:Co(!l||a.top||a.left,i.topLeft,0,o),topRight:Co(!l||a.top||a.right,i.topRight,0,o),bottomLeft:Co(!l||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:Co(!l||a.bottom||a.right,i.bottomRight,0,o)}}function d$(n){const e=OD(n),t=e.right-e.left,r=e.bottom-e.top,s=u$(n,t/2,r/2),i=h$(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:i},inner:{x:e.left+s.l,y:e.top+s.t,w:t-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,i.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(s.b,s.r))}}}}function sv(n,e,t,r){const s=e===null,i=t===null,a=n&&!(s&&i)&&OD(n,r);return a&&(s||Io(e,a.left,a.right))&&(i||Io(t,a.top,a.bottom))}function f$(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function p$(n,e){n.rect(e.x,e.y,e.w,e.h)}function iv(n,e,t={}){const r=n.x!==t.x?-e:0,s=n.y!==t.y?-e:0,i=(n.x+n.w!==t.x+t.w?e:0)-r,o=(n.y+n.h!==t.y+t.h?e:0)-s;return{x:n.x+r,y:n.y+s,w:n.w+i,h:n.h+o,radius:n.radius}}class qg extends es{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:s}}=this,{inner:i,outer:o}=d$(this),a=f$(o.radius)?ay:p$;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),a(e,iv(o,t,i)),e.clip(),a(e,iv(i,-t,o)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,iv(i,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,r){return sv(this,e,t,r)}inXRange(e,t){return sv(this,e,null,t)}inYRange(e,t){return sv(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:s,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(t+s)/2:t,y:i?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}F(qg,"id","bar"),F(qg,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),F(qg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const dC=(n,e)=>{let{boxHeight:t=e,boxWidth:r=e}=n;return n.usePointStyle&&(t=Math.min(t,e),r=n.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:t,itemHeight:Math.max(e,t)}},g$=(n,e)=>n!==null&&e!==null&&n.datasetIndex===e.datasetIndex&&n.index===e.index;class fC extends es{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=tt(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(r=>e.filter(r,this.chart.data))),e.sort&&(t=t.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=yn(r.font),i=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=dC(r,i);let c,u;t.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,i,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,s){const{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let d=e;i.textAlign="left",i.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((g,y)=>{const v=r+t/2+i.measureText(g.text).width;(y===0||c[c.length-1]+v+2*a>o)&&(d+=u,c[c.length-(y>0?0:1)]=0,p+=u,f++),l[y]={left:0,top:p,row:f,width:v,height:s},c[c.length-1]+=v+a}),d}_fitCols(e,t,r,s){const{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e;let d=a,f=0,p=0,g=0,y=0;return this.legendItems.forEach((v,w)=>{const{itemWidth:_,itemHeight:E}=m$(r,t,i,v,s);w>0&&p+E+2*a>u&&(d+=f+a,c.push({width:f,height:p}),g+=f+a,y++,f=p=0),l[w]={left:g,top:p,col:y,width:_,height:E},f=Math.max(f,_),p+=E+a}),d+=f,c.push({width:f,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:s},rtl:i}}=this,o=Fc(i,this.left,this.width);if(this.isHorizontal()){let a=0,l=dn(r,this.left+s,this.right-this.lineWidths[a]);for(const c of t)a!==c.row&&(a=c.row,l=dn(r,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+e+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=dn(r,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const c of t)c.col!==a&&(a=c.col,l=dn(r,this.top+e+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;H1(e,this),this._draw(),G1(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:s}=this,{align:i,labels:o}=e,a=xt.color,l=Fc(e.rtl,this.left,this.width),c=yn(o.font),{padding:u}=o,d=c.size,f=d/2;let p;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:g,boxHeight:y,itemHeight:v}=dC(o,d),w=function(D,T,x){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;s.save();const I=Te(x.lineWidth,1);if(s.fillStyle=Te(x.fillStyle,a),s.lineCap=Te(x.lineCap,"butt"),s.lineDashOffset=Te(x.lineDashOffset,0),s.lineJoin=Te(x.lineJoin,"miter"),s.lineWidth=I,s.strokeStyle=Te(x.strokeStyle,a),s.setLineDash(Te(x.lineDash,[])),o.usePointStyle){const k={radius:y*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:I},N=l.xPlus(D,g/2),M=T+f;cD(s,k,N,M,o.pointStyleWidth&&g)}else{const k=T+Math.max((d-y)/2,0),N=l.leftForLtr(D,g),M=Mc(x.borderRadius);s.beginPath(),Object.values(M).some(O=>O!==0)?ay(s,{x:N,y:k,w:g,h:y,radius:M}):s.rect(N,k,g,y),s.fill(),I!==0&&s.stroke()}s.restore()},_=function(D,T,x){mf(s,x.text,D,T+v/2,c,{strikethrough:x.hidden,textAlign:l.textAlign(x.textAlign)})},E=this.isHorizontal(),C=this._computeTitleHeight();E?p={x:dn(i,this.left+u,this.right-r[0]),y:this.top+u+C,line:0}:p={x:this.left+u,y:dn(i,this.top+C+u,this.bottom-t[0].height),line:0},mD(this.ctx,e.textDirection);const R=v+u;this.legendItems.forEach((D,T)=>{s.strokeStyle=D.fontColor,s.fillStyle=D.fontColor;const x=s.measureText(D.text).width,I=l.textAlign(D.textAlign||(D.textAlign=o.textAlign)),k=g+f+x;let N=p.x,M=p.y;l.setWidth(this.width),E?T>0&&N+k+u>this.right&&(M=p.y+=R,p.line++,N=p.x=dn(i,this.left+u,this.right-r[p.line])):T>0&&M+R>this.bottom&&(N=p.x=N+t[p.line].width+u,p.line++,M=p.y=dn(i,this.top+C+u,this.bottom-t[p.line].height));const O=l.x(N);if(w(O,M,D),N=d7(I,N+g+f,E?N+k:this.right,e.rtl),_(l.x(N),M,D),E)p.x+=k+u;else if(typeof D.text!="string"){const fe=c.lineHeight;p.y+=DD(D,fe)+u}else p.y+=R}),yD(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=yn(t.font),s=Or(t.padding);if(!t.display)return;const i=Fc(e.rtl,this.left,this.width),o=this.ctx,a=t.position,l=r.size/2,c=s.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=dn(e.align,d,this.right-f);else{const g=this.columnSizes.reduce((y,v)=>Math.max(y,v.height),0);u=c+dn(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const p=dn(a,d,d+f);o.textAlign=i.textAlign(V1(a)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=r.string,mf(o,t.text,p,u,r)}_computeTitleHeight(){const e=this.options.title,t=yn(e.font),r=Or(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,s,i;if(Io(e,this.left,this.right)&&Io(t,this.top,this.bottom)){for(i=this.legendHitBoxes,r=0;r<i.length;++r)if(s=i[r],Io(e,s.left,s.left+s.width)&&Io(t,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const t=this.options;if(!v$(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,i=g$(s,r);s&&!i&&tt(t.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!i&&tt(t.onHover,[e,r,this],this)}else r&&tt(t.onClick,[e,r,this],this)}}function m$(n,e,t,r,s){const i=y$(r,n,e,t),o=w$(s,r,e.lineHeight);return{itemWidth:i,itemHeight:o}}function y$(n,e,t,r){let s=n.text;return s&&typeof s!="string"&&(s=s.reduce((i,o)=>i.length>o.length?i:o)),e+t.size/2+r.measureText(s).width}function w$(n,e,t){let r=n;return typeof e.text!="string"&&(r=DD(e,t)),r}function DD(n,e){const t=n.text?n.text.length:0;return e*t}function v$(n,e){return!!((n==="mousemove"||n==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(n==="click"||n==="mouseup"))}var _$={id:"legend",_element:fC,start(n,e,t){const r=n.legend=new fC({ctx:n.ctx,options:t,chart:n});Ir.configure(n,r,t),Ir.addBox(n,r)},stop(n){Ir.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,e,t){const r=n.legend;Ir.configure(n,r,t),r.options=t},afterUpdate(n){const e=n.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(n,e){e.replay||n.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,e,t){const r=e.datasetIndex,s=t.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const e=n.data.datasets,{labels:{usePointStyle:t,pointStyle:r,textAlign:s,color:i,useBorderRadius:o,borderRadius:a}}=n.legend.options;return n._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(t?0:void 0),u=Or(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:i,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class LD extends es{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=t;const s=Rt(r.text)?r.text.length:1;this._padding=Or(r.padding);const i=s*yn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:t,left:r,bottom:s,right:i,options:o}=this,a=o.align;let l=0,c,u,d;return this.isHorizontal()?(u=dn(a,r,i),d=t+e,c=i-r):(o.position==="left"?(u=r+e,d=dn(a,s,t),l=yt*-.5):(u=i-e,d=dn(a,t,s),l=yt*.5),c=s-t),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=yn(t.font),i=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(i);mf(e,t.text,0,0,r,{color:t.color,maxWidth:l,rotation:c,textAlign:V1(t.align),textBaseline:"middle",translation:[o,a]})}}function b$(n,e){const t=new LD({ctx:n.ctx,options:e,chart:n});Ir.configure(n,t,e),Ir.addBox(n,t),n.titleBlock=t}var E$={id:"title",_element:LD,start(n,e,t){b$(n,t)},stop(n){const e=n.titleBlock;Ir.removeBox(n,e),delete n.titleBlock},beforeUpdate(n,e,t){const r=n.titleBlock;Ir.configure(n,r,t),r.options=t},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const rd={average(n){if(!n.length)return!1;let e,t,r=new Set,s=0,i=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),s+=l.y,++i}}return i===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:s/i}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,s=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=n.length;i<o;++i){const l=n[i].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=J_(e,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();t=l.x,r=l.y}return{x:t,y:r}}};function ls(n,e){return e&&(Rt(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function zs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function x$(n,e){const{element:t,datasetIndex:r,index:s}=e,i=n.getDatasetMeta(r).controller,{label:o,value:a}=i.getLabelAndValue(s);return{chart:n,label:o,parsed:i.getParsed(s),raw:n.data.datasets[r].data[s],formattedValue:a,dataset:i.getDataset(),dataIndex:s,datasetIndex:r,element:t}}function pC(n,e){const t=n.chart.ctx,{body:r,footer:s,title:i}=n,{boxWidth:o,boxHeight:a}=e,l=yn(e.bodyFont),c=yn(e.titleFont),u=yn(e.footerFont),d=i.length,f=s.length,p=r.length,g=Or(e.padding);let y=g.height,v=0,w=r.reduce((C,R)=>C+R.before.length+R.lines.length+R.after.length,0);if(w+=n.beforeBody.length+n.afterBody.length,d&&(y+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),w){const C=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;y+=p*C+(w-p)*l.lineHeight+(w-1)*e.bodySpacing}f&&(y+=e.footerMarginTop+f*u.lineHeight+(f-1)*e.footerSpacing);let _=0;const E=function(C){v=Math.max(v,t.measureText(C).width+_)};return t.save(),t.font=c.string,He(n.title,E),t.font=l.string,He(n.beforeBody.concat(n.afterBody),E),_=e.displayColors?o+2+e.boxPadding:0,He(r,C=>{He(C.before,E),He(C.lines,E),He(C.after,E)}),_=0,t.font=u.string,He(n.footer,E),t.restore(),v+=g.width,{width:v,height:y}}function A$(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function T$(n,e,t,r){const{x:s,width:i}=r,o=t.caretSize+t.caretPadding;if(n==="left"&&s+i+o>e.width||n==="right"&&s-i-o<0)return!0}function S$(n,e,t,r){const{x:s,width:i}=t,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return r==="center"?c=s<=(a+l)/2?"left":"right":s<=i/2?c="left":s>=o-i/2&&(c="right"),T$(c,n,e,t)&&(c="center"),c}function gC(n,e,t){const r=t.yAlign||e.yAlign||A$(n,t);return{xAlign:t.xAlign||e.xAlign||S$(n,e,t,r),yAlign:r}}function I$(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function C$(n,e,t){let{y:r,height:s}=n;return e==="top"?r+=t:e==="bottom"?r-=s+t:r-=s/2,r}function mC(n,e,t,r){const{caretSize:s,caretPadding:i,cornerRadius:o}=n,{xAlign:a,yAlign:l}=t,c=s+i,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:p}=Mc(o);let g=I$(e,a);const y=C$(e,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,f)+s:a==="right"&&(g+=Math.max(d,p)+s),{x:mn(g,0,r.width-e.width),y:mn(y,0,r.height-e.height)}}function dg(n,e,t){const r=Or(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function yC(n){return ls([],zs(n))}function P$(n,e,t){return Fl(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function wC(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const MD={beforeTitle:Vs,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:Vs,beforeBody:Vs,beforeLabel:Vs,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Ye(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Vs,afterBody:Vs,beforeFooter:Vs,footer:Vs,afterFooter:Vs};function Bn(n,e,t,r){const s=n[e].call(t,r);return typeof s>"u"?MD[e].call(t,r):s}class rb extends es{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&t.options.animation&&r.animations,i=new vD(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=P$(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,s=Bn(r,"beforeTitle",this,e),i=Bn(r,"title",this,e),o=Bn(r,"afterTitle",this,e);let a=[];return a=ls(a,zs(s)),a=ls(a,zs(i)),a=ls(a,zs(o)),a}getBeforeBody(e,t){return yC(Bn(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,s=[];return He(e,i=>{const o={before:[],lines:[],after:[]},a=wC(r,i);ls(o.before,zs(Bn(a,"beforeLabel",this,i))),ls(o.lines,Bn(a,"label",this,i)),ls(o.after,zs(Bn(a,"afterLabel",this,i))),s.push(o)}),s}getAfterBody(e,t){return yC(Bn(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,s=Bn(r,"beforeFooter",this,e),i=Bn(r,"footer",this,e),o=Bn(r,"afterFooter",this,e);let a=[];return a=ls(a,zs(s)),a=ls(a,zs(i)),a=ls(a,zs(o)),a}_createItems(e){const t=this._active,r=this.chart.data,s=[],i=[],o=[];let a=[],l,c;for(l=0,c=t.length;l<c;++l)a.push(x$(this.chart,t[l]));return e.filter&&(a=a.filter((u,d,f)=>e.filter(u,d,f,r))),e.itemSort&&(a=a.sort((u,d)=>e.itemSort(u,d,r))),He(a,u=>{const d=wC(e.callbacks,u);s.push(Bn(d,"labelColor",this,u)),i.push(Bn(d,"labelPointStyle",this,u)),o.push(Bn(d,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=a,a}update(e,t){const r=this.options.setContext(this.getContext()),s=this._active;let i,o=[];if(!s.length)this.opacity!==0&&(i={opacity:0});else{const a=rd[r.position].call(this,s,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=pC(this,r),c=Object.assign({},a,l),u=gC(this.chart,r,c),d=mC(r,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,i={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,s){const i=this.getCaretPosition(e,r,s);t.lineTo(i.x1,i.y1),t.lineTo(i.x2,i.y2),t.lineTo(i.x3,i.y3)}getCaretPosition(e,t,r){const{xAlign:s,yAlign:i}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=Mc(a),{x:f,y:p}=e,{width:g,height:y}=t;let v,w,_,E,C,R;return i==="center"?(C=p+y/2,s==="left"?(v=f,w=v-o,E=C+o,R=C-o):(v=f+g,w=v+o,E=C-o,R=C+o),_=v):(s==="left"?w=f+Math.max(l,u)+o:s==="right"?w=f+g-Math.max(c,d)-o:w=this.caretX,i==="top"?(E=p,C=E-o,v=w-o,_=w+o):(E=p+y,C=E+o,v=w+o,_=w-o),R=E),{x1:v,x2:w,x3:_,y1:E,y2:C,y3:R}}drawTitle(e,t,r){const s=this.title,i=s.length;let o,a,l;if(i){const c=Fc(r.rtl,this.x,this.width);for(e.x=dg(this,r.titleAlign,r),t.textAlign=c.textAlign(r.titleAlign),t.textBaseline="middle",o=yn(r.titleFont),a=r.titleSpacing,t.fillStyle=r.titleColor,t.font=o.string,l=0;l<i;++l)t.fillText(s[l],c.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===i&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,t,r,s,i){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=i,u=yn(i.bodyFont),d=dg(this,"left",i),f=s.x(d),p=l<u.lineHeight?(u.lineHeight-l)/2:0,g=t.y+p;if(i.usePointStyle){const y={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},v=s.leftForLtr(f,c)+c/2,w=g+l/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,X_(e,y,v,w),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,X_(e,y,v,w)}else{e.lineWidth=Be(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const y=s.leftForLtr(f,c),v=s.leftForLtr(s.xPlus(f,1),c-2),w=Mc(o.borderRadius);Object.values(w).some(_=>_!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,ay(e,{x:y,y:g,w:c,h:l,radius:w}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ay(e,{x:v,y:g+1,w:c-2,h:l-2,radius:w}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(y,g,c,l),e.strokeRect(y,g,c,l),e.fillStyle=o.backgroundColor,e.fillRect(v,g+1,c-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:s}=this,{bodySpacing:i,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=r,d=yn(r.bodyFont);let f=d.lineHeight,p=0;const g=Fc(r.rtl,this.x,this.width),y=function(x){t.fillText(x,g.x(e.x+p),e.y+f/2),e.y+=f+i},v=g.textAlign(o);let w,_,E,C,R,D,T;for(t.textAlign=o,t.textBaseline="middle",t.font=d.string,e.x=dg(this,v,r),t.fillStyle=r.bodyColor,He(this.beforeBody,y),p=a&&v!=="right"?o==="center"?c/2+u:c+2+u:0,C=0,D=s.length;C<D;++C){for(w=s[C],_=this.labelTextColors[C],t.fillStyle=_,He(w.before,y),E=w.lines,a&&E.length&&(this._drawColorBox(t,e,C,g,r),f=Math.max(d.lineHeight,l)),R=0,T=E.length;R<T;++R)y(E[R]),f=d.lineHeight;He(w.after,y)}p=0,f=d.lineHeight,He(this.afterBody,y),e.y-=i}drawFooter(e,t,r){const s=this.footer,i=s.length;let o,a;if(i){const l=Fc(r.rtl,this.x,this.width);for(e.x=dg(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=l.textAlign(r.footerAlign),t.textBaseline="middle",o=yn(r.footerFont),t.fillStyle=r.footerColor,t.font=o.string,a=0;a<i;++a)t.fillText(s[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+r.footerSpacing}}drawBackground(e,t,r,s){const{xAlign:i,yAlign:o}=this,{x:a,y:l}=e,{width:c,height:u}=r,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:g}=Mc(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(a+d,l),o==="top"&&this.drawCaret(e,t,r,s),t.lineTo(a+c-f,l),t.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&i==="right"&&this.drawCaret(e,t,r,s),t.lineTo(a+c,l+u-g),t.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(e,t,r,s),t.lineTo(a+p,l+u),t.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&i==="left"&&this.drawCaret(e,t,r,s),t.lineTo(a,l+d),t.quadraticCurveTo(a,l,a+d,l),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,s=r&&r.x,i=r&&r.y;if(s||i){const o=rd[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=pC(this,e),l=Object.assign({},o,this._size),c=gC(t,e,l),u=mC(e,l,c,t);(s._to!==u.x||i._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},i={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=Or(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,e,s,t),mD(e,t.textDirection),i.y+=o.top,this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),yD(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,s=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),i=!sy(r,s),o=this._positionChanged(s,t);(i||o)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,i=this._active||[],o=this._getActiveElements(e,i,t,r),a=this._positionChanged(o,e),l=t||!sy(o,i)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,r,s){const i=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,r);return i.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:r,caretY:s,options:i}=this,o=rd[i.position].call(this,e,t);return o!==!1&&(r!==o.x||s!==o.y)}}F(rb,"positioners",rd);var k$={id:"tooltip",_element:rb,positioners:rd,afterInit(n,e,t){t&&(n.tooltip=new rb({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:MD},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const R$=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function N$(n,e,t,r){const s=n.indexOf(e);if(s===-1)return R$(n,e,t,r);const i=n.lastIndexOf(e);return s!==i?t:s}const O$=(n,e)=>n===null?null:mn(Math.round(n),0,e);function vC(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class sb extends lh{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:s,label:i}of t)r[s]===i&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ye(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:N$(r,e,Te(t,e),this._addedLabels),O$(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,s=[];let i=this.getLabels();i=e===0&&t===i.length-1?i:i.slice(e,t+1),this._valueRange=Math.max(i.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=e;o<=t;o++)s.push({value:o});return s}getLabelForValue(e){return vC.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}F(sb,"id","category"),F(sb,"defaults",{ticks:{callback:vC}});function D$(n,e){const t=[],{bounds:s,step:i,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=n,p=i||1,g=u-1,{min:y,max:v}=e,w=!Ye(o),_=!Ye(a),E=!Ye(c),C=(v-y)/(d+1);let R=bI((v-y)/g/p)*p,D,T,x,I;if(R<1e-14&&!w&&!_)return[{value:y},{value:v}];I=Math.ceil(v/R)-Math.floor(y/R),I>g&&(R=bI(I*R/g/p)*p),Ye(l)||(D=Math.pow(10,l),R=Math.ceil(R*D)/D),s==="ticks"?(T=Math.floor(y/R)*R,x=Math.ceil(v/R)*R):(T=y,x=v),w&&_&&i&&r7((a-o)/i,R/1e3)?(I=Math.round(Math.min((a-o)/R,u)),R=(a-o)/I,T=o,x=a):E?(T=w?o:T,x=_?a:x,I=c-1,R=(x-T)/I):(I=(x-T)/R,Td(I,Math.round(I),R/1e3)?I=Math.round(I):I=Math.ceil(I));const k=Math.max(EI(R),EI(T));D=Math.pow(10,Ye(l)?k:l),T=Math.round(T*D)/D,x=Math.round(x*D)/D;let N=0;for(w&&(f&&T!==o?(t.push({value:o}),T<o&&N++,Td(Math.round((T+N*R)*D)/D,o,_C(o,C,n))&&N++):T<o&&N++);N<I;++N){const M=Math.round((T+N*R)*D)/D;if(_&&M>a)break;t.push({value:M})}return _&&f&&x!==a?t.length&&Td(t[t.length-1].value,a,_C(a,C,n))?t[t.length-1].value=a:t.push({value:a}):(!_||x===a)&&t.push({value:x}),t}function _C(n,e,{horizontal:t,minRotation:r}){const s=mi(r),i=(t?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+n).length;return Math.min(e/i,o)}class L$ extends lh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ye(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:s,max:i}=this;const o=l=>s=t?s:l,a=l=>i=r?i:l;if(e){const l=Rs(s),c=Rs(i);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===i){let l=i===0?1:Math.abs(i*.05);a(i+l),e||o(s-l)}this.min=s,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},i=this._range||this,o=D$(s,i);return e.bounds==="ticks"&&s7(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-t)/Math.max(e.length-1,1)/2;t-=s,r+=s}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return z1(e,this.chart.options.locale,this.options.ticks.format)}}class ib extends L${determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Nr(e)?e:0,this.max=Nr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=mi(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,i.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}F(ib,"id","linear"),F(ib,"defaults",{ticks:{callback:lD.formatters.numeric}});const _0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Wn=Object.keys(_0);function bC(n,e){return n-e}function EC(n,e){if(Ye(e))return null;const t=n._adapter,{parser:r,round:s,isoWeekday:i}=n._parseOpts;let o=e;return typeof r=="function"&&(o=r(o)),Nr(o)||(o=typeof r=="string"?t.parse(o,r):t.parse(o)),o===null?null:(s&&(o=s==="week"&&(ff(i)||i===!0)?t.startOf(o,"isoWeek",i):t.startOf(o,s)),+o)}function xC(n,e,t,r){const s=Wn.length;for(let i=Wn.indexOf(n);i<s-1;++i){const o=_0[Wn[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((t-e)/(a*o.size))<=r)return Wn[i]}return Wn[s-1]}function M$(n,e,t,r,s){for(let i=Wn.length-1;i>=Wn.indexOf(t);i--){const o=Wn[i];if(_0[o].common&&n._adapter.diff(s,r,o)>=e-1)return o}return Wn[t?Wn.indexOf(t):0]}function F$(n){for(let e=Wn.indexOf(n)+1,t=Wn.length;e<t;++e)if(_0[Wn[e]].common)return Wn[e]}function AC(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:s}=U1(t,e),i=t[r]>=e?t[r]:t[s];n[i]=!0}}function B$(n,e,t,r){const s=n._adapter,i=+s.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=i;a<=o;a=+s.add(a,1,r))l=t[a],l>=0&&(e[l].major=!0);return e}function TC(n,e,t){const r=[],s={},i=e.length;let o,a;for(o=0;o<i;++o)a=e[o],s[a]=o,r.push({value:a,major:!1});return i===0||!t?r:B$(n,r,s,t)}class hy extends lh{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const r=e.time||(e.time={}),s=this._adapter=new VG._date(e.adapters.date);s.init(t),Ad(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:EC(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:s,max:i,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(i=Math.max(i,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Nr(s)&&!isNaN(s)?s:+t.startOf(Date.now(),r),i=Nr(i)&&!isNaN(i)?i:+t.endOf(Date.now(),r)+1,this.min=Math.min(s,i-1),this.max=Math.max(s+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const i=this.min,o=this.max,a=c7(s,i,o);return this._unit=t.unit||(r.autoSkip?xC(t.minUnit,this.min,this.max,this._getLabelCapacity(i)):M$(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:F$(this._unit),this.initOffsets(s),e.reverse&&a.reverse(),TC(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,r=0,s,i;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?r=i:r=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;t=mn(t,0,o),r=mn(r,0,o),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,s=this.options,i=s.time,o=i.unit||xC(i.minUnit,t,r,this._getLabelCapacity(t)),a=Te(s.ticks.stepSize,1),l=o==="week"?i.isoWeekday:!1,c=ff(l)||l===!0,u={};let d=t,f,p;if(c&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,c?"day":o),e.diff(r,t,o)>1e5*a)throw new Error(t+" and "+r+" are too far apart with stepSize of "+a+" "+o);const g=s.ticks.source==="data"&&this.getDataTimestamps();for(f=d,p=0;f<r;f=+e.add(f,a,o),p++)AC(u,f,g);return(f===r||s.bounds==="ticks"||p===1)&&AC(u,f,g),Object.keys(u).sort(bC).map(y=>+y)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,i=this._unit,o=t||s[i];return this._adapter.format(e,o)}_tickFormatFunction(e,t,r,s){const i=this.options,o=i.ticks.callback;if(o)return tt(o,[e,t,r],this);const a=i.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=r[t],p=c&&d&&f&&f.major;return this._adapter.format(e,s||(p?d:u))}generateTickLabels(e){let t,r,s;for(t=0,r=e.length;t<r;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,s=mi(this.isHorizontal()?t.maxRotation:t.minRotation),i=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:r*i+a*o,h:r*o+a*i}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,s=r[t.unit]||r.millisecond,i=this._tickFormatFunction(e,0,TC(this,[e],this._majorUnit),s),o=this._getLabelSize(i),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,r=s.length;t<r;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const s=this.getLabels();for(t=0,r=s.length;t<r;++t)e.push(EC(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return sD(e.sort(bC))}}F(hy,"id","time"),F(hy,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function fg(n,e,t){let r=0,s=n.length-1,i,o,a,l;t?(e>=n[r].pos&&e<=n[s].pos&&({lo:r,hi:s}=Ca(n,"pos",e)),{pos:i,time:a}=n[r],{pos:o,time:l}=n[s]):(e>=n[r].time&&e<=n[s].time&&({lo:r,hi:s}=Ca(n,"time",e)),{time:i,pos:a}=n[r],{time:o,pos:l}=n[s]);const c=o-i;return c?a+(l-a)*(e-i)/c:a}class SC extends hy{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=fg(t,this.min),this._tableRange=fg(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,s=[],i=[];let o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=t&&c<=r&&s.push(c);if(s.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&i.push({time:c,pos:o/(a-1)});return i}_generate(){const e=this.min,t=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(t)||r.length===1)&&r.push(t),r.sort((s,i)=>s-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(fg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return fg(this._table,r*this._tableRange+this._minPos,!0)}}F(SC,"id","timeseries"),F(SC,"defaults",hy.defaults);const FD="label";function IC(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function U$(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function BD(n,e){n.labels=e}function UD(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:FD;const r=[];n.datasets=e.map(s=>{const i=n.datasets.find(o=>o[t]===s[t]);return!i||!s.data||r.includes(i)?{...s}:(r.push(i),Object.assign(i,s),i)})}function V$(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:FD;const t={labels:[],datasets:[]};return BD(t,n.labels),UD(t,n.datasets,e),t}function j$(n,e){const{height:t=150,width:r=300,redraw:s=!1,datasetIdKey:i,type:o,data:a,options:l,plugins:c=[],fallbackContent:u,updateMode:d,...f}=n,p=V.useRef(null),g=V.useRef(),y=()=>{p.current&&(g.current=new v0(p.current,{type:o,data:V$(a,i),options:l&&{...l},plugins:c}),IC(e,g.current))},v=()=>{IC(e,null),g.current&&(g.current.destroy(),g.current=null)};return V.useEffect(()=>{!s&&g.current&&l&&U$(g.current,l)},[s,l]),V.useEffect(()=>{!s&&g.current&&BD(g.current.config.data,a.labels)},[s,a.labels]),V.useEffect(()=>{!s&&g.current&&a.datasets&&UD(g.current.config.data,a.datasets,i)},[s,a.datasets]),V.useEffect(()=>{g.current&&(s?(v(),setTimeout(y)):g.current.update(d))},[s,l,a.labels,a.datasets,d]),V.useEffect(()=>{g.current&&(v(),setTimeout(y))},[o]),V.useEffect(()=>(y(),()=>v()),[]),Ae.createElement("canvas",Object.assign({ref:p,role:"img",height:t,width:r},f),u)}const z$=V.forwardRef(j$);function b0(n,e){return v0.register(e),V.forwardRef((t,r)=>Ae.createElement(z$,Object.assign({},t,{ref:r,type:n})))}const H$=b0("line",Wg),G$=b0("bar",Cd),W$=b0("doughnut",wc),VD=b0("pie",Z_);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jD=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=V.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>V.createElement("svg",{ref:l,...Q$,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:jD("lucide",s),...a},[...o.map(([c,u])=>V.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=(n,e)=>{const t=V.forwardRef(({className:r,...s},i)=>V.createElement(K$,{ref:i,iconNode:e,className:jD(`lucide-${$$(n)}`,r),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=X1("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=X1("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=X1("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),zD=(n=[],e)=>{const t={},r=["January","February","March","April","May","June","July","August","September","October","November","December"],s={Rent:0,Food:0,Transport:0,Other:0},i={Salary:0,Freelance:0,"Part-Time":0,Other:0};console.log("Initial expense categories:",s),console.log("Processing transactions:",n),n.forEach(_=>{const E=new Date(_.date),C=E.getFullYear().toString(),R=E.toLocaleString("default",{month:"long"});if(t[C]||(t[C]=r.reduce((D,T)=>(D[T]={income:0,expense:0},D),{})),_.type==="expense"){const D=_.description.toLowerCase();let T="Other";D.includes("rent")||D.includes("housing")||D.includes("condo")?T="Rent":D.includes("food")||D.includes("supermarket")||D.includes("restaurant")||D.includes("grocery")?T="Food":(D.includes("transport")||D.includes("fuel")||D.includes("taxi")||D.includes("grab")||D.includes("bts"))&&(T="Transport"),s[T]+=_.amount,t[C][R].expense+=_.amount,console.log(`Processed expense: ${_.description}`),console.log(`Category: ${T}`),console.log(`Amount: ${_.amount}`),console.log("Updated expense categories:",s)}else if(_.type==="income"){const D=_.description.toLowerCase();let T="Other";D.includes("salary")||D.includes("bonus")||D.includes("overtime")?T="Salary":D.includes("freelance")||D.includes("agency")||D.includes("insurance")||D.includes("social media")?T="Freelance":(D.includes("part-time")||D.includes("restaurant")||D.includes("delivery")||D.includes("clean up")||D.includes("night club"))&&(T="Part-Time"),i[T]+=_.amount,t[C][R].income+=_.amount,console.log("Income amount:",_.amount)}});const o=t[e.toString()]||{},a={labels:r,datasets:[{label:"Income",data:r.map(_=>{var E;return((E=o[_])==null?void 0:E.income)||0}),backgroundColor:"rgba(34, 197, 94, 0.6)",borderRadius:4},{label:"Expense",data:r.map(_=>{var E;return((E=o[_])==null?void 0:E.expense)||0}),backgroundColor:"rgba(34, 150, 243, 0.6)",borderRadius:4}]},l={labels:Object.keys(i),datasets:[{data:Object.values(i),backgroundColor:["rgba(16, 185, 129, 0.8)","rgba(59, 130, 246, 0.8)","rgba(255, 206, 86, 0.8)","rgba(236, 72, 153, 0.8)"],borderColor:["rgba(16, 185, 129, 1)","rgba(59, 130, 246, 1)","rgba(255, 206, 86, 1)","rgba(236, 72, 153, 1)"],borderWidth:1,hoverOffset:10,hoverBackgroundColor:["rgba(16, 185, 129, 0.8)","rgba(59, 130, 246, 0.8)","rgba(255, 206, 86, 0.8)","rgba(236, 72, 153, 0.8)"],hoverBorderColor:"#000",hoverBorderWidth:3}]},c={labels:Object.keys(s),datasets:[{data:Object.values(s),backgroundColor:["rgba(255, 99, 132, 0.8)","rgba(54, 162, 235, 0.8)","rgba(255, 206, 86, 0.8)","rgba(75, 192, 192, 0.8)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)"],borderWidth:1,hoverOffset:10,hoverBackgroundColor:["rgba(255, 99, 132, 0.8)","rgba(54, 162, 235, 0.8)","rgba(255, 206, 86, 0.8)","rgba(75, 192, 192, 0.8)"],hoverBorderColor:"#000",hoverBorderWidth:3}]},u=parseFloat(localStorage.getItem("goal")||"0"),d="฿",p=n.filter(_=>_.type==="saving").reduce((_,E)=>_+(E.currentSavings||0),0),g=Math.max(0,u-p),y=u>0?Math.min(100,p/u*100):0,v=Math.max(0,100-y),w={labels:[`Achieved (${d}${p.toLocaleString()})`,`Remaining (${d}${g.toLocaleString()})`],datasets:[{data:[y,v],backgroundColor:["rgba(46, 204, 113, 0.9)","rgba(231, 76, 60, 1)"],borderWidth:0,hoverOffset:4}]};return console.log("Total expenses by category:",s),console.log("Generated expense data:",c),{balanceData:a,incomeData:l,expenseData:c,savingGoalData:w}},Y$=({transactions:n,selectedYear:e,currentYear:t,handleYearChange:r})=>{const{balanceData:s}=zD(n,e),i={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,boxPadding:4}},scales:{y:{beginAtZero:!1}}};return S.jsx("div",{className:"container",children:S.jsxs("div",{className:"",children:[S.jsx("label",{htmlFor:"year-select",className:"text-sm font-semibold text-gray-600",children:"Select Year:"}),S.jsx("select",{id:"year-select",value:e,onChange:r,className:"border border-gray-300 w-[6rem] rounded px-2 py-1 ",children:[...Array(10)].map((o,a)=>{const l=t-a;return S.jsx("option",{value:l,children:l},l)})}),S.jsx("div",{className:`w-full h-[30vh] lg:max-w-4xl mx-auto md:px-8 sm:px-6 mt-5 
                hover:scale-105 transition transform ease-in-out duration-200`,children:S.jsx(G$,{data:s,options:i})})]})})},X$=({data:n,options:e})=>S.jsx("div",{children:S.jsx(VD,{data:n,options:e})}),Z$=({data:n,options:e})=>S.jsx("div",{children:S.jsx(VD,{data:n,options:e})});v0.register(sb,ib,Kg,nd,E$,k$,_$,qg,td,Cd);const Ql=({title:n,loading:e,children:t,className:r})=>S.jsxs("div",{className:`flex flex-col bg-white rounded-lg p-4 shadow-md ${r}`,children:[S.jsx("h2",{className:"text-lg font-semibold mb-4",children:n}),e?S.jsx("div",{className:"flex items-center justify-center h-[200px]",children:S.jsx(J$,{className:"h-8 w-8 animate-spin text-gray-500"})}):t]}),eQ=({transactions:n=[],walletInfo:e})=>{if(!n||n.length===0)return S.jsx("div",{className:"p-4",children:S.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:S.jsx(Ql,{title:"Total Balance",className:"lg:col-span-2",children:S.jsx("div",{className:"flex items-center justify-center h-[200px]",children:"No transaction data available"})})})});const t={labels:["ETH"],datasets:[{label:"Wallet Web3 Balance",data:[parseFloat((e==null?void 0:e.balance)||"0")],backgroundColor:"rgba(75, 192, 192, 0.6)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1}]},r=new Date().getFullYear(),[s,i]=V.useState(r),{incomeData:o,expenseData:a,savingGoalData:l}=zD(n,s),c={responsive:!0,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:12,boxPadding:4}},scales:{y:{beginAtZero:!0}}},u={responsive:!0,maintainAspectRatio:!1,aspectRatio:1,layout:{padding:{top:5,bottom:5,left:10,right:0}},plugins:{legend:{position:"right",labels:{padding:10,font:{size:12}}},tooltip:{callbacks:{label:p=>{const g=p.parsed,y=p.dataset.data.reduce((w,_)=>w+_,0),v=(g/y*100).toFixed(1);return`${p.label}: ฿${g.toFixed(2)} (${v}%)`}}}},hover:{mode:"nearest",intersect:!0}},d={responsive:!0,maintainAspectRatio:!0,aspectRatio:1,layout:{padding:{top:20,bottom:20,left:20,right:20}},plugins:{legend:{position:"top",labels:{padding:10,font:{size:12}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",padding:15,boxPadding:10,callbacks:{label:function(p){return`${p.label}: ${p.parsed.toFixed(1)}%`}}}},cutout:"70%"},f=p=>{i(parseInt(p==null?void 0:p.target.value))};return S.jsx("div",{className:"p-4 ml-[-10px]",children:S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 space-x-2 gap-3",children:[S.jsx(Ql,{title:"Total Balance",className:"lg:col-span-2",children:S.jsx(Y$,{transactions:n,selectedYear:s,currentYear:r,handleYearChange:f})}),S.jsx(Ql,{title:"Income Breakdown",children:S.jsx(X$,{data:o,options:u})}),S.jsx(Ql,{title:"Expense Breakdown",children:S.jsx(Z$,{data:a,options:u})}),S.jsx(Ql,{title:"Saving Goal",children:S.jsx(W$,{data:l,options:d})}),S.jsx(Ql,{title:"Wallet Balance",children:S.jsx(H$,{data:t,options:c})})]})})},tQ=n=>{const e=new Date(n),t=e.getDate().toString().padStart(2,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getFullYear();return`${t}-${r}-${s}`},nQ=({transactions:n})=>{const[e,t]=V.useState(""),[r,s]=V.useState(""),[i,o]=V.useState({month:"all",year:"all"}),a=p=>t(p.target.value),l=p=>s(p.target.value),c=n.map(p=>({...p,formattedDate:tQ(p.date),dateObj:new Date(p.date)})),u=c.filter(p=>{const g=p.description.toLowerCase().includes(e.toLowerCase()),y=r?p.type===r:!0,v=(p.dateObj.getMonth()+1).toString(),w=p.dateObj.getFullYear().toString(),_=i.month==="all"||v===i.month,E=i.year==="all"||w===i.year;return g&&y&&_&&E}),d=[...u].sort((p,g)=>g.dateObj.getTime()-p.dateObj.getTime()),f=Array.from(new Set(c.map(p=>p.dateObj.getFullYear()))).sort((p,g)=>g-p);return S.jsxs("div",{className:"bg-white overflow-scroll h-60 shadow-md rounded-lg p-4",children:[S.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Recent Transactions"}),S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-3 md:space-y-0 md:space-x-4 mb-4",children:[S.jsx("input",{type:"text",placeholder:"Search by description",value:e,onChange:a,className:"flex-1 p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-200"}),S.jsxs("select",{value:r,onChange:l,className:"w-full md:w-1/4 p-2 border border-gray-300 rounded-md focus:ring focus:ring-blue-200",children:[S.jsx("option",{value:"",children:"All Types"}),S.jsx("option",{value:"income",children:"Income"}),S.jsx("option",{value:"expense",children:"Expense"}),S.jsx("option",{value:"saving",children:"Saving"})]}),S.jsxs("div",{className:"flex space-x-2 w-full md:w-1/3",children:[S.jsxs("select",{value:i.month,onChange:p=>o(g=>({...g,month:p.target.value})),className:"w-full p-2 border borer-gray-300 rounded-md focus:ring focus:ring-blue-200",children:[S.jsx("option",{value:"all",children:"All Months"}),Array.from({length:12},(p,g)=>S.jsx("option",{value:g+1,children:new Date(2024,g).toLocaleString("default",{month:"long"})},g+1))]}),S.jsxs("select",{value:i.year,onChange:p=>o(g=>({...g,year:p.target.value})),className:"w-full p-2 border borer-gray-300 rounded-md focus:ring focus:ring-blue-200",children:[S.jsx("option",{value:"all",children:"All Years"}),f.map(p=>S.jsx("option",{value:String(p),children:p},p))]})]})]}),S.jsxs("table",{className:"w-full",children:[S.jsx("thead",{children:S.jsxs("tr",{children:[S.jsx("th",{children:"Description"}),S.jsx("th",{children:"Amount"}),S.jsx("th",{children:"Type"}),S.jsx("th",{children:"Date"})]})}),S.jsx("tbody",{children:u.length>0?d.map(p=>S.jsxs("tr",{className:"border-t",children:[S.jsx("td",{children:p.description}),S.jsxs("td",{className:`text-${p.type==="income"?"green-600":p.type==="expense"?"red-600":"blue-600"} text-center`,children:["฿",p.type==="saving"?p.currentSavings:p.amount]}),S.jsx("td",{className:"text-center",children:p.type}),S.jsx("td",{className:"text-center",children:p.formattedDate})]},p.id)):S.jsx("tr",{children:S.jsx("td",{colSpan:4,className:"text-gray-500 p-4 text-center",children:"No transactions match the filter criteria"})})})]})]})},rQ=()=>{var d,f,p;const n=$j(),[e,t]=V.useState(null),[r,s]=V.useState(!1),[i,o]=V.useState(n),a=V.useRef(null),l=g=>Me.success(g),c=g=>Me.error(g),u=async g=>{var w,_;const y=(w=g.target.files)==null?void 0:w[0],v=(_=ci.currentUser)==null?void 0:_.uid;if(y&&v){if(!["image/jpeg","image/png","image/svg+xml"].includes(y.type)){c("Invalid file type, Please upload file in .jpg, .jpeg, .png or .svg image.");return}const C=new FileReader;s(!0),C.onloadend=()=>{const R=C.result;R.length<2*1024*1024?(localStorage.setItem("profilePhoto",R),t(R),l("File is successfully uploaded.")):c("File size is too large. Please upload an image smaller then 2MB.")},C.readAsDataURL(y),s(!1)}};return V.useEffect(()=>{const g=async()=>{if(n)o(n);else{const v=ci.currentUser;v&&await jE(Tm(Pm,"users",v.uid))}},y=localStorage.getItem("profilePhoto");t(y||e),g()},[n]),i?S.jsxs("div",{className:"relative flex flex-row justify-start items-center mt-2 p-6 bg-white shadow-md rounded-lg space-x-3",children:[S.jsxs("div",{className:"relative -translate-y-2",children:[S.jsx("img",{src:e||((d=ci.currentUser)==null?void 0:d.photoURL)||"/src/components/Asset/user_default.png",alt:"Profile",className:"profile-picture w-12 h-12 rounded-full cursor-pointer"}),S.jsx("label",{htmlFor:"fileInput",className:`absolute text-green-500 text-lg 
            cursor-pointer hover:text-green-600 -my-2 mx-8`,children:r?S.jsx("span",{className:"text-gray-500",children:"..."}):S.jsx("span",{children:S.jsx(dH,{})})})]}),S.jsx("input",{id:"fileInput",type:"file",ref:a,className:"hidden",accept:".jpg, .jpeg, .png, .svg",onChange:u}),S.jsxs("div",{className:"flex flex-col -translate-y-2",children:[S.jsx("h1",{className:"p-1 text-lg font-semibold text-gray-500",children:((f=ci.currentUser)==null?void 0:f.displayName)||"User Name"}),S.jsx("hr",{className:"border border-gray-500"}),S.jsx("p",{className:"p-1 text-sm font-semibold text-gray-500",children:(p=ci.currentUser)==null?void 0:p.email})]})]}):S.jsx("div",{children:"Loading..."})},sQ=({onAddIncomeAndEmergency:n,onCancel:e})=>{const[t,r]=V.useState(""),[s,i]=V.useState(0),[o,a]=V.useState(""),[l,c]=V.useState(0),[u,d]=V.useState({description:"",amount:"",percentage:"",date:""}),f=()=>{let p={...u};t?p.description="":p.description="Description is required",s?p.amount="":p.amount="Description is required",l?p.percentage="":p.percentage="Description is required",o?p.date="":p.date="Description is required",t&&s&&o&&l&&(n({description:t,amount:s,date:o},l),r(""),i(0),a(""),c(0)),d(p)};return S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:S.jsxs("div",{className:"income-container bg-green-50 rounded-lg shadow-md w-full max-w-md p-6",children:[S.jsx("h2",{className:"text-xl font-semibold text-green-600 mb-4",children:"Add Income"}),S.jsxs("div",{className:"mb-2",children:[S.jsx("label",{className:"font-semibold text-gray-500",children:"Description:"}),S.jsx("input",{type:"text",value:t,onChange:p=>r(p.target.value),placeholder:"Description",className:`w-full p-2 border border-green-300 
                        rounded-lg focus:outline-none focus:ring focus:ring-green-200`}),u.description&&S.jsx("p",{className:"text-red-500 text-xs",children:u.description})]}),S.jsxs("div",{className:"mb-2",children:[S.jsx("label",{className:"font-semibold text-gray-500",children:"Amount:"}),S.jsx("input",{type:"number",value:s,onChange:p=>{i(parseFloat(p.target.value))},placeholder:"Amount",className:`w-full p-2 border border-green-300 
                        rounded-lg focus:outline-none focus:ring 
                        focus:ring-green-200`}),u.amount&&S.jsx("p",{className:"text-red-500 text-xs",children:u.amount})]}),S.jsxs("div",{className:"mb-2",children:[S.jsx("label",{className:"font-semibold text-gray-500",children:"Emergency Saving %"}),S.jsx("input",{type:"number",min:"0",max:"100",value:l,onChange:p=>{c(Number(p.target.value))},placeholder:"Emergency Saving %",className:`w-full p-2 border border-green-300 
                        rounded-lg focus:outline-none focus:ring 
                        focus:ring-green-200`}),u.percentage&&S.jsx("p",{className:"text-red-500 text-xs",children:u.percentage})]}),S.jsxs("div",{className:"mb-2",children:[S.jsx("label",{className:"font-semibold text-gray-500",children:"Date:"}),S.jsx("input",{type:"date",value:o,onChange:p=>a(p.target.value),className:`w-full p-2 border border-green-300 
                        rounded-lg focus:outline-none focus:ring 
                        focus:ring-green-200`}),u.date&&S.jsx("p",{className:"text-red-500 text-xs",children:u.date})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("button",{onClick:f,className:`w-32 bg-green-600 text-white py-2 
                        rounded hover:bg-green-700 transition`,children:"Add Income"}),S.jsx("button",{onClick:e,className:`w-32 bg-gray-400 text-white py-2 
                        rounded hover:bg-gray-600 transition`,children:"Cancel"})]})]})})},iQ=({onAddExpense:n,onCancel:e})=>{const[t,r]=V.useState(""),[s,i]=V.useState(0),[o,a]=V.useState(""),[l,c]=V.useState({description:"",amount:"",date:""}),u=()=>{let d={...l};if(t?d.description="":d.description="Description is required",s?d.amount="":d.amount="Amount is required",o?d.date="":d.date="Date is required",t&&s&&o){const f=Math.floor(Math.random()*1e4);n({id:f,type:"expense",description:t,amount:s,date:o}),r(""),i(0),a("")}c(d)};return S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:S.jsxs("div",{className:"expense-container bg-red-50 rounded-lg shadow-md w-full max-w-md p-6",children:[S.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-4",children:"Add Expense"}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"font-semibold text-gray-500",children:"Description:"}),S.jsx("input",{type:"text",value:t,onChange:d=>r(d.target.value),placeholder:"Description",className:`w-full p-2 border border-red-300 
                        rouned-lg focus:outline-none focus:ring focus:ring-red-200`}),l.description&&S.jsx("p",{className:"text-red-500 text-xs",children:l.description})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"font-semibold text-gray-500",children:"Amount:"}),S.jsx("input",{type:"number",value:s,onChange:d=>{i(parseFloat(d.target.value))},placeholder:"Amount",className:`w-full p-2 border border-red-300 
                        rounded-lg focus:outline-none focus:ring 
                        focus:ring-red-200`}),l.amount&&S.jsx("p",{className:"text-red-500 text-xs",children:l.amount})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"font-semibold text-gray-500",children:"Date:"}),S.jsx("input",{type:"date",value:o,onChange:d=>a(d.target.value),className:`w-full p-2 border border-red-300 
                        rounded-lg focus:outline-none focus:ring 
                        focus:ring-red-200`}),l.date&&S.jsx("p",{className:"text-red-500 text-xs",children:l.date})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("button",{onClick:u,className:"w-32 bg-red-600 text-white py-2 rounded hover:bg-red-700 transition",children:"Add Expense"}),S.jsx("button",{onClick:e,className:`w-32 bg-gray-400 text-white py-2 
                        rounded hover:bg-gray-600 transition`,children:"Cancel"})]})]})})},oQ="6.13.4";function aQ(n,e,t){const r=e.split("|").map(i=>i.trim());for(let i=0;i<r.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof n===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${t}`,s.value=n,s}async function Sn(n){const e=Object.keys(n);return(await Promise.all(e.map(r=>Promise.resolve(n[r])))).reduce((r,s,i)=>(r[e[i]]=s,r),{})}function de(n,e,t){for(let r in e){let s=e[r];const i=t?t[r]:null;i&&aQ(s,i,r),Object.defineProperty(n,r,{enumerable:!0,value:s,writable:!1})}}function vc(n){if(n==null)return"null";if(Array.isArray(n))return"[ "+n.map(vc).join(", ")+" ]";if(n instanceof Uint8Array){const e="0123456789abcdef";let t="0x";for(let r=0;r<n.length;r++)t+=e[n[r]>>4],t+=e[n[r]&15];return t}if(typeof n=="object"&&typeof n.toJSON=="function")return vc(n.toJSON());switch(typeof n){case"boolean":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"number":return n.toString();case"string":return JSON.stringify(n);case"object":{const e=Object.keys(n);return e.sort(),"{ "+e.map(t=>`${vc(t)}: ${vc(n[t])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Yt(n,e){return n&&n.code===e}function Z1(n){return Yt(n,"CALL_EXCEPTION")}function dt(n,e,t){let r=n;{const i=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${vc(t)}`);for(const o in t){if(o==="shortMessage")continue;const a=t[o];i.push(o+"="+vc(a))}}i.push(`code=${e}`),i.push(`version=${oQ}`),i.length&&(n+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(n);break;default:s=new Error(n)}return de(s,{code:e}),t&&Object.assign(s,t),s.shortMessage==null&&de(s,{shortMessage:r}),s}function Q(n,e,t,r){if(!n)throw dt(e,t,r)}function B(n,e,t,r){Q(n,e,"INVALID_ARGUMENT",{argument:t,value:r})}function HD(n,e,t){t==null&&(t=""),t&&(t=": "+t),Q(n>=e,"missing arguemnt"+t,"MISSING_ARGUMENT",{count:n,expectedCount:e}),Q(n<=e,"too many arguments"+t,"UNEXPECTED_ARGUMENT",{count:n,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((n,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");n.push(e)}catch{}return n},[]);function sp(n,e,t){if(t==null&&(t=""),n!==e){let r=t,s="new";t&&(r+=".",s+=" "+t),Q(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function GD(n,e,t){if(n instanceof Uint8Array)return t?new Uint8Array(n):n;if(typeof n=="string"&&n.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((n.length-2)/2);let s=2;for(let i=0;i<r.length;i++)r[i]=parseInt(n.substring(s,s+2),16),s+=2;return r}B(!1,"invalid BytesLike value",e||"value",n)}function De(n,e){return GD(n,e,!1)}function Cn(n,e){return GD(n,e,!0)}function Xe(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&n.length!==2+2*e||e===!0&&n.length%2!==0)}function ex(n){return Xe(n,!0)||n instanceof Uint8Array}const PC="0123456789abcdef";function ie(n){const e=De(n);let t="0x";for(let r=0;r<e.length;r++){const s=e[r];t+=PC[(s&240)>>4]+PC[s&15]}return t}function At(n){return"0x"+n.map(e=>ie(e).substring(2)).join("")}function Bc(n){return Xe(n,!0)?(n.length-2)/2:De(n).length}function ft(n,e,t){const r=De(n);return t!=null&&t>r.length&&Q(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:t}),ie(r.slice(e??0,t??r.length))}function WD(n,e,t){const r=De(n);Q(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),t?s.set(r,e-r.length):s.set(r,0),ie(s)}function bl(n,e){return WD(n,e,!0)}function lQ(n,e){return WD(n,e,!1)}const E0=BigInt(0),Qr=BigInt(1),_c=9007199254740991;function dy(n,e){const t=x0(n,"value"),r=BigInt(Ee(e,"width"));if(Q(t>>r===E0,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:n}),t>>r-Qr){const s=(Qr<<r)-Qr;return-((~t&s)+Qr)}return t}function $D(n,e){let t=oe(n,"value");const r=BigInt(Ee(e,"width")),s=Qr<<r-Qr;if(t<E0){t=-t,Q(t<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const i=(Qr<<r)-Qr;return(~t&i)+Qr}else Q(t<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return t}function Pa(n,e){const t=x0(n,"value"),r=BigInt(Ee(e,"bits"));return t&(Qr<<r)-Qr}function oe(n,e){switch(typeof n){case"bigint":return n;case"number":return B(Number.isInteger(n),"underflow",e||"value",n),B(n>=-_c&&n<=_c,"overflow",e||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(t){B(!1,`invalid BigNumberish string: ${t.message}`,e||"value",n)}}B(!1,"invalid BigNumberish value",e||"value",n)}function x0(n,e){const t=oe(n,e);return Q(t>=E0,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),t}const kC="0123456789abcdef";function A0(n){if(n instanceof Uint8Array){let e="0x0";for(const t of n)e+=kC[t>>4],e+=kC[t&15];return BigInt(e)}return oe(n)}function Ee(n,e){switch(typeof n){case"bigint":return B(n>=-_c&&n<=_c,"overflow",e||"value",n),Number(n);case"number":return B(Number.isInteger(n),"underflow",e||"value",n),B(n>=-_c&&n<=_c,"overflow",e||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return Ee(BigInt(n),e)}catch(t){B(!1,`invalid numeric string: ${t.message}`,e||"value",n)}}B(!1,"invalid numeric value",e||"value",n)}function cQ(n){return Ee(A0(n))}function Yo(n,e){let r=x0(n,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const s=Ee(e,"width");for(Q(s*2>=r.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});r.length<s*2;)r="0"+r}return"0x"+r}function Pn(n){const e=x0(n,"value");if(e===E0)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);const r=new Uint8Array(t.length/2);for(let s=0;s<r.length;s++){const i=s*2;r[s]=parseInt(t.substring(i,i+2),16)}return r}function bc(n){let e=ie(ex(n)?n:Pn(n)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const RC="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const NC=BigInt(58);function uQ(n){const e=De(n);let t=A0(e),r="";for(;t;)r=RC[Number(t%NC)]+r,t/=NC;for(let s=0;s<e.length&&!e[s];s++)r=RC[0]+r;return r}function hQ(n){n=atob(n);const e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return De(e)}function dQ(n){const e=De(n);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}var zc;class QD{constructor(e,t,r){F(this,"filter");F(this,"emitter");j(this,zc);L(this,zc,t),de(this,{emitter:e,filter:r})}async removeListener(){A(this,zc)!=null&&await this.emitter.off(this.filter,A(this,zc))}}zc=new WeakMap;function fQ(n,e,t,r,s){B(!1,`invalid codepoint at offset ${e}; ${n}`,"bytes",t)}function KD(n,e,t,r,s){if(n==="BAD_PREFIX"||n==="UNEXPECTED_CONTINUE"){let i=0;for(let o=e+1;o<t.length&&t[o]>>6===2;o++)i++;return i}return n==="OVERRUN"?t.length-e-1:0}function pQ(n,e,t,r,s){return n==="OVERLONG"?(B(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),KD(n,e,t))}const gQ=Object.freeze({error:fQ,ignore:KD,replace:pQ});function mQ(n,e){e==null&&(e=gQ.error);const t=De(n,"bytes"),r=[];let s=0;for(;s<t.length;){const i=t[s++];if(!(i>>7)){r.push(i);continue}let o=null,a=null;if((i&224)===192)o=1,a=127;else if((i&240)===224)o=2,a=2047;else if((i&248)===240)o=3,a=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,t,r):s+=e("BAD_PREFIX",s-1,t,r);continue}if(s-1+o>=t.length){s+=e("OVERRUN",s-1,t,r);continue}let l=i&(1<<8-o-1)-1;for(let c=0;c<o;c++){let u=t[s];if((u&192)!=128){s+=e("MISSING_CONTINUE",s,t,r),l=null;break}l=l<<6|u&63,s++}if(l!==null){if(l>1114111){s+=e("OUT_OF_RANGE",s-1-o,t,r,l);continue}if(l>=55296&&l<=57343){s+=e("UTF16_SURROGATE",s-1-o,t,r,l);continue}if(l<=a){s+=e("OVERLONG",s-1-o,t,r,l);continue}r.push(l)}}return r}function bi(n,e){B(typeof n=="string","invalid string value","str",n);let t=[];for(let r=0;r<n.length;r++){const s=n.charCodeAt(r);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192),t.push(s&63|128);else if((s&64512)==55296){r++;const i=n.charCodeAt(r);B(r<n.length&&(i&64512)===56320,"invalid surrogate pair","str",n);const o=65536+((s&1023)<<10)+(i&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128)}return new Uint8Array(t)}function yQ(n){return n.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function fy(n,e){return yQ(mQ(n,e))}function qD(n){async function e(t,r){Q(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const s=t.url.split(":")[0].toLowerCase();Q(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),Q(s==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null;const o=new AbortController,a=setTimeout(()=>{i=dt("request timeout","TIMEOUT"),o.abort()},t.timeout);r&&r.addListener(()=>{i=dt("request cancelled","CANCELLED"),o.abort()});const l={method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:o.signal};let c;try{c=await fetch(t.url,l)}catch(p){throw clearTimeout(a),i||p}clearTimeout(a);const u={};c.headers.forEach((p,g)=>{u[g.toLowerCase()]=p});const d=await c.arrayBuffer(),f=d==null?null:new Uint8Array(d);return{statusCode:c.status,statusMessage:c.statusText,headers:u,body:f}}return e}const wQ=12,vQ=250;let OC=qD();const _Q=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),bQ=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let ov=!1;async function JD(n,e){try{const t=n.match(_Q);if(!t)throw new Error("invalid data");return new jo(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?hQ(t[3]):xQ(t[3]))}catch{return new jo(599,"BAD REQUEST (invalid data: URI)",{},null,new Xo(n))}}function YD(n){async function e(t,r){try{const s=t.match(bQ);if(!s)throw new Error("invalid link");return new Xo(`${n}${s[2]}`)}catch{return new jo(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Xo(t))}}return e}const pg={data:JD,ipfs:YD("https://gateway.ipfs.io/ipfs/")},XD=new WeakMap;var Da,ro;class EQ{constructor(e){j(this,Da);j(this,ro);L(this,Da,[]),L(this,ro,!1),XD.set(e,()=>{if(!A(this,ro)){L(this,ro,!0);for(const t of A(this,Da))setTimeout(()=>{t()},0);L(this,Da,[])}})}addListener(e){Q(!A(this,ro),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),A(this,Da).push(e)}get cancelled(){return A(this,ro)}checkSignal(){Q(!this.cancelled,"cancelled","CANCELLED",{})}}Da=new WeakMap,ro=new WeakMap;function gg(n){if(n==null)throw new Error("missing signal; should not happen");return n.checkSignal(),n}var Hc,Gc,Vr,Ys,Wc,$c,Ft,nr,Xs,La,Ma,Fa,hs,jr,so,Ba,sd;const Iy=class Iy{constructor(e){j(this,Ba);j(this,Hc);j(this,Gc);j(this,Vr);j(this,Ys);j(this,Wc);j(this,$c);j(this,Ft);j(this,nr);j(this,Xs);j(this,La);j(this,Ma);j(this,Fa);j(this,hs);j(this,jr);j(this,so);L(this,$c,String(e)),L(this,Hc,!1),L(this,Gc,!0),L(this,Vr,{}),L(this,Ys,""),L(this,Wc,3e5),L(this,jr,{slotInterval:vQ,maxAttempts:wQ}),L(this,so,null)}get url(){return A(this,$c)}set url(e){L(this,$c,String(e))}get body(){return A(this,Ft)==null?null:new Uint8Array(A(this,Ft))}set body(e){if(e==null)L(this,Ft,void 0),L(this,nr,void 0);else if(typeof e=="string")L(this,Ft,bi(e)),L(this,nr,"text/plain");else if(e instanceof Uint8Array)L(this,Ft,e),L(this,nr,"application/octet-stream");else if(typeof e=="object")L(this,Ft,bi(JSON.stringify(e))),L(this,nr,"application/json");else throw new Error("invalid body")}hasBody(){return A(this,Ft)!=null}get method(){return A(this,Ys)?A(this,Ys):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),L(this,Ys,String(e).toUpperCase())}get headers(){const e=Object.assign({},A(this,Vr));return A(this,Xs)&&(e.authorization=`Basic ${dQ(bi(A(this,Xs)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&A(this,nr)&&(e["content-type"]=A(this,nr)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){A(this,Vr)[String(e).toLowerCase()]=String(t)}clearHeaders(){L(this,Vr,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const s=t[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return A(this,Xs)||null}setCredentials(e,t){B(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),L(this,Xs,`${e}:${t}`)}get allowGzip(){return A(this,Gc)}set allowGzip(e){L(this,Gc,!!e)}get allowInsecureAuthentication(){return!!A(this,Hc)}set allowInsecureAuthentication(e){L(this,Hc,!!e)}get timeout(){return A(this,Wc)}set timeout(e){B(e>=0,"timeout must be non-zero","timeout",e),L(this,Wc,e)}get preflightFunc(){return A(this,La)||null}set preflightFunc(e){L(this,La,e)}get processFunc(){return A(this,Ma)||null}set processFunc(e){L(this,Ma,e)}get retryFunc(){return A(this,Fa)||null}set retryFunc(e){L(this,Fa,e)}get getUrlFunc(){return A(this,so)||OC}set getUrlFunc(e){L(this,so,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${A(this,Ft)?ie(A(this,Ft)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(A(this,jr).slotInterval=e.slotInterval),e.maxAttempts!=null&&(A(this,jr).maxAttempts=e.maxAttempts)}send(){return Q(A(this,hs)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),L(this,hs,new EQ(this)),J(this,Ba,sd).call(this,0,DC()+this.timeout,0,this,new jo(0,"",{},null,this))}cancel(){Q(A(this,hs)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=XD.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();Q(this.method==="GET"&&(t!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new Iy(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,L(s,Vr,Object.assign({},A(this,Vr))),A(this,Ft)&&L(s,Ft,new Uint8Array(A(this,Ft))),L(s,nr,A(this,nr)),s}clone(){const e=new Iy(this.url);return L(e,Ys,A(this,Ys)),A(this,Ft)&&L(e,Ft,A(this,Ft)),L(e,nr,A(this,nr)),L(e,Vr,Object.assign({},A(this,Vr))),L(e,Xs,A(this,Xs)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),L(e,La,A(this,La)),L(e,Ma,A(this,Ma)),L(e,Fa,A(this,Fa)),L(e,jr,Object.assign({},A(this,jr))),L(e,so,A(this,so)),e}static lockConfig(){ov=!0}static getGateway(e){return pg[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(ov)throw new Error("gateways locked");pg[e]=t}static registerGetUrl(e){if(ov)throw new Error("gateways locked");OC=e}static createGetUrlFunc(e){return qD()}static createDataGateway(){return JD}static createIpfsGatewayFunc(e){return YD(e)}};Hc=new WeakMap,Gc=new WeakMap,Vr=new WeakMap,Ys=new WeakMap,Wc=new WeakMap,$c=new WeakMap,Ft=new WeakMap,nr=new WeakMap,Xs=new WeakMap,La=new WeakMap,Ma=new WeakMap,Fa=new WeakMap,hs=new WeakMap,jr=new WeakMap,so=new WeakMap,Ba=new WeakSet,sd=async function(e,t,r,s,i){var u,d,f;if(e>=A(this,jr).maxAttempts)return i.makeServerError("exceeded maximum retry limit");Q(DC()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),r>0&&await AQ(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in pg){const p=await pg[a](o.url,gg(A(s,hs)));if(p instanceof jo){let g=p;if(this.processFunc){gg(A(s,hs));try{g=await this.processFunc(o,g)}catch(y){(y.throttle==null||typeof y.stall!="number")&&g.makeServerError("error in post-processing function",y).assertOk()}}return g}o=p}this.preflightFunc&&(o=await this.preflightFunc(o));const l=await this.getUrlFunc(o,gg(A(s,hs)));let c=new jo(l.statusCode,l.statusMessage,l.headers,l.body,s);if(c.statusCode===301||c.statusCode===302){try{const p=c.headers.location||"";return J(u=o.redirect(p),Ba,sd).call(u,e+1,t,0,s,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,c,e))){const p=c.headers["retry-after"];let g=A(this,jr).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof p=="string"&&p.match(/^[1-9][0-9]*$/)&&(g=parseInt(p)),J(d=o.clone(),Ba,sd).call(d,e+1,t,g,s,c)}if(this.processFunc){gg(A(s,hs));try{c=await this.processFunc(o,c)}catch(p){(p.throttle==null||typeof p.stall!="number")&&c.makeServerError("error in post-processing function",p).assertOk();let g=A(this,jr).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return p.stall>=0&&(g=p.stall),J(f=o.clone(),Ba,sd).call(f,e+1,t,g,s,c)}}return c};let Xo=Iy;var Pf,kf,Rf,rr,Qc,Ua;const Sx=class Sx{constructor(e,t,r,s,i){j(this,Pf);j(this,kf);j(this,Rf);j(this,rr);j(this,Qc);j(this,Ua);L(this,Pf,e),L(this,kf,t),L(this,Rf,Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{})),L(this,rr,s==null?null:new Uint8Array(s)),L(this,Qc,i||null),L(this,Ua,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${A(this,rr)?ie(A(this,rr)):"null"}>`}get statusCode(){return A(this,Pf)}get statusMessage(){return A(this,kf)}get headers(){return Object.assign({},A(this,Rf))}get body(){return A(this,rr)==null?null:new Uint8Array(A(this,rr))}get bodyText(){try{return A(this,rr)==null?"":fy(A(this,rr))}catch{Q(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Q(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const s=t[r++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,t){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new Sx(599,r,this.headers,this.body,A(this,Qc)||void 0);return L(s,Ua,{message:e,error:t}),s}throwThrottleError(e,t){t==null?t=-1:B(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const r=new Error(e||"throttling requests");throw de(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return A(this,rr)!=null}get request(){return A(this,Qc)}ok(){return A(this,Ua).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=A(this,Ua);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let s=null;try{A(this,rr)&&(s=fy(A(this,rr)))}catch{}Q(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:r,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Pf=new WeakMap,kf=new WeakMap,Rf=new WeakMap,rr=new WeakMap,Qc=new WeakMap,Ua=new WeakMap;let jo=Sx;function DC(){return new Date().getTime()}function xQ(n){return bi(n.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function AQ(n){return new Promise(e=>setTimeout(e,n))}const TQ=BigInt(-1),Mr=BigInt(0),Ec=BigInt(1),SQ=BigInt(5),Kl={};let Uc="0000";for(;Uc.length<80;)Uc+=Uc;function da(n){let e=Uc;for(;e.length<n;)e+=e;return BigInt("1"+e.substring(0,n))}function Vh(n,e,t){const r=BigInt(e.width);if(e.signed){const s=Ec<<r-Ec;Q(t==null||n>=-s&&n<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:n}),n>Mr?n=dy(Pa(n,r),r):n=-dy(Pa(-n,r),r)}else{const s=Ec<<r;Q(t==null||n>=0&&n<s,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:n}),n=(n%s+s)%s&s-Ec}return n}function av(n){typeof n=="number"&&(n=`fixed128x${n}`);let e=!0,t=128,r=18;if(typeof n=="string"){if(n!=="fixed")if(n==="ufixed")e=!1;else{const i=n.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);B(i,"invalid fixed format","format",n),e=i[1]!=="u",t=parseInt(i[2]),r=parseInt(i[3])}}else if(n){const i=n,o=(a,l,c)=>i[a]==null?c:(B(typeof i[a]===l,"invalid fixed format ("+a+" not "+l+")","format."+a,i[a]),i[a]);e=o("signed","boolean",e),t=o("width","number",t),r=o("decimals","number",r)}B(t%8===0,"invalid FixedNumber width (not byte aligned)","format.width",t),B(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const s=(e?"":"u")+"fixed"+String(t)+"x"+String(r);return{signed:e,width:t,decimals:r,name:s}}function IQ(n,e){let t="";n<Mr&&(t="-",n*=TQ);let r=n.toString();if(e===0)return t+r;for(;r.length<=e;)r=Uc+r;const s=r.length-e;for(r=r.substring(0,s)+"."+r.substring(s);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return t+r}var zr,$e,xn,je,wa,Hs,ab,lb,cb,ub;const Ji=class Ji{constructor(e,t,r){j(this,je);F(this,"format");j(this,zr);j(this,$e);j(this,xn);F(this,"_value");sp(e,Kl,"FixedNumber"),L(this,$e,t),L(this,zr,r);const s=IQ(t,r.decimals);de(this,{format:r.name,_value:s}),L(this,xn,da(r.decimals))}get signed(){return A(this,zr).signed}get width(){return A(this,zr).width}get decimals(){return A(this,zr).decimals}get value(){return A(this,$e)}addUnsafe(e){return J(this,je,ab).call(this,e)}add(e){return J(this,je,ab).call(this,e,"add")}subUnsafe(e){return J(this,je,lb).call(this,e)}sub(e){return J(this,je,lb).call(this,e,"sub")}mulUnsafe(e){return J(this,je,cb).call(this,e)}mul(e){return J(this,je,cb).call(this,e,"mul")}mulSignal(e){J(this,je,wa).call(this,e);const t=A(this,$e)*A(e,$e);return Q(t%A(this,xn)===Mr,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),J(this,je,Hs).call(this,t/A(this,xn),"mulSignal")}divUnsafe(e){return J(this,je,ub).call(this,e)}div(e){return J(this,je,ub).call(this,e,"div")}divSignal(e){Q(A(e,$e)!==Mr,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),J(this,je,wa).call(this,e);const t=A(this,$e)*A(this,xn);return Q(t%A(e,$e)===Mr,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),J(this,je,Hs).call(this,t/A(e,$e),"divSignal")}cmp(e){let t=this.value,r=e.value;const s=this.decimals-e.decimals;return s>0?r*=da(s):s<0&&(t*=da(-s)),t<r?-1:t>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=A(this,$e);return A(this,$e)<Mr&&(e-=A(this,xn)-Ec),e=A(this,$e)/A(this,xn)*A(this,xn),J(this,je,Hs).call(this,e,"floor")}ceiling(){let e=A(this,$e);return A(this,$e)>Mr&&(e+=A(this,xn)-Ec),e=A(this,$e)/A(this,xn)*A(this,xn),J(this,je,Hs).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,r=SQ*da(t-1);let s=this.value+r;const i=da(t);return s=s/i*i,Vh(s,A(this,zr),"round"),new Ji(Kl,s,A(this,zr))}isZero(){return A(this,$e)===Mr}isNegative(){return A(this,$e)<Mr}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Ji.fromString(this.toString(),e)}static fromValue(e,t,r){const s=t==null?0:Ee(t),i=av(r);let o=oe(e,"value");const a=s-i.decimals;if(a>0){const l=da(a);Q(o%l===Mr,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=l}else a<0&&(o*=da(-a));return Vh(o,i,"fromValue"),new Ji(Kl,o,i)}static fromString(e,t){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);B(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const s=av(t);let i=r[2]||"0",o=r[3]||"";for(;o.length<s.decimals;)o+=Uc;Q(o.substring(s.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,s.decimals);const a=BigInt(r[1]+i+o);return Vh(a,s,"fromString"),new Ji(Kl,a,s)}static fromBytes(e,t){let r=A0(De(e,"value"));const s=av(t);return s.signed&&(r=dy(r,s.width)),Vh(r,s,"fromBytes"),new Ji(Kl,r,s)}};zr=new WeakMap,$e=new WeakMap,xn=new WeakMap,je=new WeakSet,wa=function(e){B(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Hs=function(e,t){return e=Vh(e,A(this,zr),t),new Ji(Kl,e,A(this,zr))},ab=function(e,t){return J(this,je,wa).call(this,e),J(this,je,Hs).call(this,A(this,$e)+A(e,$e),t)},lb=function(e,t){return J(this,je,wa).call(this,e),J(this,je,Hs).call(this,A(this,$e)-A(e,$e),t)},cb=function(e,t){return J(this,je,wa).call(this,e),J(this,je,Hs).call(this,A(this,$e)*A(e,$e)/A(this,xn),t)},ub=function(e,t){return Q(A(e,$e)!==Mr,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),J(this,je,wa).call(this,e),J(this,je,Hs).call(this,A(this,$e)*A(this,xn)/A(e,$e),t)};let ob=Ji;function CQ(n){let e=n.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function LC(n,e,t){let r=0;for(let s=0;s<t;s++)r=r*256+n[e+s];return r}function MC(n,e,t,r){const s=[];for(;t<e+1+r;){const i=ZD(n,t);s.push(i.result),t+=i.consumed,Q(t<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:n,length:r,offset:e})}return{consumed:1+r,result:s}}function ZD(n,e){Q(n.length!==0,"data too short","BUFFER_OVERRUN",{buffer:n,length:0,offset:1});const t=r=>{Q(r<=n.length,"data short segment too short","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r})};if(n[e]>=248){const r=n[e]-247;t(e+1+r);const s=LC(n,e+1,r);return t(e+1+r+s),MC(n,e,e+1+r,r+s)}else if(n[e]>=192){const r=n[e]-192;return t(e+1+r),MC(n,e,e+1,r)}else if(n[e]>=184){const r=n[e]-183;t(e+1+r);const s=LC(n,e+1,r);t(e+1+r+s);const i=ie(n.slice(e+1+r,e+1+r+s));return{consumed:1+r+s,result:i}}else if(n[e]>=128){const r=n[e]-128;t(e+1+r);const s=ie(n.slice(e+1,e+1+r));return{consumed:1+r,result:s}}return{consumed:1,result:CQ(n[e])}}function T0(n){const e=De(n,"data"),t=ZD(e,0);return B(t.consumed===e.length,"unexpected junk after rlp payload","data",n),t.result}function FC(n){const e=[];for(;n;)e.unshift(n&255),n>>=8;return e}function eL(n){if(Array.isArray(n)){let r=[];if(n.forEach(function(i){r=r.concat(eL(i))}),r.length<=55)return r.unshift(192+r.length),r;const s=FC(r.length);return s.unshift(247+s.length),s.concat(r)}const e=Array.prototype.slice.call(De(n,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=FC(e.length);return t.unshift(183+t.length),t.concat(e)}const BC="0123456789abcdef";function El(n){let e="0x";for(const t of eL(n))e+=BC[t>>4],e+=BC[t&15];return e}function PQ(n,e){let t=18;return t=Ee(e,"unit"),ob.fromValue(n,t,{decimals:t,width:512}).toString()}function kQ(n){return PQ(n,18)}const kn=32,hb=new Uint8Array(kn),RQ=["then"],mg={},tL=new WeakMap;function _a(n){return tL.get(n)}function UC(n,e){tL.set(n,e)}function jh(n,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${n}`);throw t.error=e,t}function db(n,e,t){return n.indexOf(null)>=0?e.map((r,s)=>r instanceof Gu?db(_a(r),r,t):r):n.reduce((r,s,i)=>{let o=e.getValue(s);return s in r||(t&&o instanceof Gu&&(o=db(_a(o),o,t)),r[s]=o),r},{})}var Kc;const xc=class xc extends Array{constructor(...t){const r=t[0];let s=t[1],i=(t[2]||[]).slice(),o=!0;r!==mg&&(s=t,i=[],o=!1);super(s.length);j(this,Kc);s.forEach((c,u)=>{this[u]=c});const a=i.reduce((c,u)=>(typeof u=="string"&&c.set(u,(c.get(u)||0)+1),c),new Map);if(UC(this,Object.freeze(s.map((c,u)=>{const d=i[u];return d!=null&&a.get(d)===1?d:null}))),L(this,Kc,[]),A(this,Kc)==null&&A(this,Kc),!o)return;Object.freeze(this);const l=new Proxy(this,{get:(c,u,d)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const p=Ee(u,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const g=c[p];return g instanceof Error&&jh(`index ${p}`,g),g}if(RQ.indexOf(u)>=0)return Reflect.get(c,u,d);const f=c[u];if(f instanceof Function)return function(...p){return f.apply(this===d?c:this,p)};if(!(u in c))return c.getValue.apply(this===d?c:this,[u])}return Reflect.get(c,u,d)}});return UC(l,_a(this)),l}toArray(t){const r=[];return this.forEach((s,i)=>{s instanceof Error&&jh(`index ${i}`,s),t&&s instanceof xc&&(s=s.toArray(t)),r.push(s)}),r}toObject(t){const r=_a(this);return r.reduce((s,i,o)=>(Q(i!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),db(r,this,t)),{})}slice(t,r){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const s=_a(this),i=[],o=[];for(let a=t;a<r;a++)i.push(this[a]),o.push(s[a]);return new xc(mg,i,o)}filter(t,r){const s=_a(this),i=[],o=[];for(let a=0;a<this.length;a++){const l=this[a];l instanceof Error&&jh(`index ${a}`,l),t.call(r,l,a,this)&&(i.push(l),o.push(s[a]))}return new xc(mg,i,o)}map(t,r){const s=[];for(let i=0;i<this.length;i++){const o=this[i];o instanceof Error&&jh(`index ${i}`,o),s.push(t.call(r,o,i,this))}return s}getValue(t){const r=_a(this).indexOf(t);if(r===-1)return;const s=this[r];return s instanceof Error&&jh(`property ${JSON.stringify(t)}`,s.error),s}static fromItems(t,r){return new xc(mg,t,r)}};Kc=new WeakMap;let Gu=xc;function VC(n){let e=Pn(n);return Q(e.length<=kn,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:kn,offset:e.length}),e.length!==kn&&(e=Cn(At([hb.slice(e.length%kn),e]))),e}class Di{constructor(e,t,r,s){F(this,"name");F(this,"type");F(this,"localName");F(this,"dynamic");de(this,{name:e,type:t,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){B(!1,e,this.localName,t)}}var Zs,Va,qc,Jg;class fb{constructor(){j(this,qc);j(this,Zs);j(this,Va);L(this,Zs,[]),L(this,Va,0)}get data(){return At(A(this,Zs))}get length(){return A(this,Va)}appendWriter(e){return J(this,qc,Jg).call(this,Cn(e.data))}writeBytes(e){let t=Cn(e);const r=t.length%kn;return r&&(t=Cn(At([t,hb.slice(r)]))),J(this,qc,Jg).call(this,t)}writeValue(e){return J(this,qc,Jg).call(this,VC(e))}writeUpdatableValue(){const e=A(this,Zs).length;return A(this,Zs).push(hb),L(this,Va,A(this,Va)+kn),t=>{A(this,Zs)[e]=VC(t)}}}Zs=new WeakMap,Va=new WeakMap,qc=new WeakSet,Jg=function(e){return A(this,Zs).push(e),L(this,Va,A(this,Va)+e.length),e.length};var Un,sr,ja,za,io,Cl,gb,nL;const Ix=class Ix{constructor(e,t,r){j(this,Cl);F(this,"allowLoose");j(this,Un);j(this,sr);j(this,ja);j(this,za);j(this,io);de(this,{allowLoose:!!t}),L(this,Un,Cn(e)),L(this,ja,0),L(this,za,null),L(this,io,r??1024),L(this,sr,0)}get data(){return ie(A(this,Un))}get dataLength(){return A(this,Un).length}get consumed(){return A(this,sr)}get bytes(){return new Uint8Array(A(this,Un))}subReader(e){const t=new Ix(A(this,Un).slice(A(this,sr)+e),this.allowLoose,A(this,io));return L(t,za,this),t}readBytes(e,t){let r=J(this,Cl,nL).call(this,0,e,!!t);return J(this,Cl,gb).call(this,e),L(this,sr,A(this,sr)+r.length),r.slice(0,e)}readValue(){return A0(this.readBytes(kn))}readIndex(){return cQ(this.readBytes(kn))}};Un=new WeakMap,sr=new WeakMap,ja=new WeakMap,za=new WeakMap,io=new WeakMap,Cl=new WeakSet,gb=function(e){var t;if(A(this,za))return J(t=A(this,za),Cl,gb).call(t,e);L(this,ja,A(this,ja)+e),Q(A(this,io)<1||A(this,ja)<=A(this,io)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${A(this,io)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Cn(A(this,Un)),offset:A(this,sr),length:e,info:{bytesRead:A(this,ja),dataLength:this.dataLength}})},nL=function(e,t,r){let s=Math.ceil(t/kn)*kn;return A(this,sr)+s>A(this,Un).length&&(this.allowLoose&&r&&A(this,sr)+t<=A(this,Un).length?s=t:Q(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Cn(A(this,Un)),length:A(this,Un).length,offset:A(this,sr)+s})),A(this,Un).slice(A(this,sr),A(this,sr)+s)};let pb=Ix;function py(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function tx(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function NQ(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");py(n.outputLen),py(n.blockLen)}function Wu(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function rL(n,e){tx(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const lv=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sL=n=>n instanceof Uint8Array,OQ=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),cv=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),as=(n,e)=>n<<32-e|n>>>e,DQ=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!DQ)throw new Error("Non little-endian hardware is not supported");function LQ(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function S0(n){if(typeof n=="string"&&(n=LQ(n)),!sL(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function MQ(...n){const e=new Uint8Array(n.reduce((r,s)=>r+s.length,0));let t=0;return n.forEach(r=>{if(!sL(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}class nx{clone(){return this._cloneInto()}}function rx(n){const e=r=>n().update(S0(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function FQ(n=32){if(lv&&typeof lv.getRandomValues=="function")return lv.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}class iL extends nx{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,NQ(e);const r=S0(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Wu(this),this.iHash.update(e),this}digestInto(e){Wu(this),tx(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const oL=(n,e,t)=>new iL(n,e).update(t).digest();oL.create=(n,e)=>new iL(n,e);function BQ(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(t>>s&i),a=Number(t&i),l=r?4:0,c=r?0:4;n.setUint32(e+l,o,r),n.setUint32(e+c,a,r)}class aL extends nx{constructor(e,t,r,s){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=cv(this.buffer)}update(e){Wu(this);const{view:t,buffer:r,blockLen:s}=this;e=S0(e);const i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const l=cv(e);for(;s<=i-o;o+=s)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Wu(this),rL(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)t[d]=0;BQ(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=cv(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)a.setUint32(4*d,u[d],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.length=s,e.pos=a,e.finished=i,e.destroyed=o,s%t&&e.buffer.set(r),e}}const UQ=(n,e,t)=>n&e^~n&t,VQ=(n,e,t)=>n&e^n&t^e&t,jQ=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Vi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ji=new Uint32Array(64);class zQ extends aL{constructor(){super(64,32,8,!1),this.A=Vi[0]|0,this.B=Vi[1]|0,this.C=Vi[2]|0,this.D=Vi[3]|0,this.E=Vi[4]|0,this.F=Vi[5]|0,this.G=Vi[6]|0,this.H=Vi[7]|0}get(){const{A:e,B:t,C:r,D:s,E:i,F:o,G:a,H:l}=this;return[e,t,r,s,i,o,a,l]}set(e,t,r,s,i,o,a,l){this.A=e|0,this.B=t|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,t){for(let d=0;d<16;d++,t+=4)ji[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const f=ji[d-15],p=ji[d-2],g=as(f,7)^as(f,18)^f>>>3,y=as(p,17)^as(p,19)^p>>>10;ji[d]=y+ji[d-7]+g+ji[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:l,G:c,H:u}=this;for(let d=0;d<64;d++){const f=as(a,6)^as(a,11)^as(a,25),p=u+f+UQ(a,l,c)+jQ[d]+ji[d]|0,y=(as(r,2)^as(r,13)^as(r,22))+VQ(r,s,i)|0;u=c,c=l,l=a,a=o+p|0,o=i,i=s,s=r,r=p+y|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(r,s,i,o,a,l,c,u)}roundClean(){ji.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const lL=rx(()=>new zQ),yg=BigInt(2**32-1),mb=BigInt(32);function cL(n,e=!1){return e?{h:Number(n&yg),l:Number(n>>mb&yg)}:{h:Number(n>>mb&yg)|0,l:Number(n&yg)|0}}function uL(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let s=0;s<n.length;s++){const{h:i,l:o}=cL(n[s],e);[t[s],r[s]]=[i,o]}return[t,r]}const HQ=(n,e)=>BigInt(n>>>0)<<mb|BigInt(e>>>0),GQ=(n,e,t)=>n>>>t,WQ=(n,e,t)=>n<<32-t|e>>>t,$Q=(n,e,t)=>n>>>t|e<<32-t,QQ=(n,e,t)=>n<<32-t|e>>>t,KQ=(n,e,t)=>n<<64-t|e>>>t-32,qQ=(n,e,t)=>n>>>t-32|e<<64-t,JQ=(n,e)=>e,YQ=(n,e)=>n,hL=(n,e,t)=>n<<t|e>>>32-t,dL=(n,e,t)=>e<<t|n>>>32-t,fL=(n,e,t)=>e<<t-32|n>>>64-t,pL=(n,e,t)=>n<<t-32|e>>>64-t;function XQ(n,e,t,r){const s=(e>>>0)+(r>>>0);return{h:n+t+(s/2**32|0)|0,l:s|0}}const ZQ=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),eK=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,tK=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),nK=(n,e,t,r,s)=>e+t+r+s+(n/2**32|0)|0,rK=(n,e,t,r,s)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(s>>>0),sK=(n,e,t,r,s,i)=>e+t+r+s+i+(n/2**32|0)|0,be={fromBig:cL,split:uL,toBig:HQ,shrSH:GQ,shrSL:WQ,rotrSH:$Q,rotrSL:QQ,rotrBH:KQ,rotrBL:qQ,rotr32H:JQ,rotr32L:YQ,rotlSH:hL,rotlSL:dL,rotlBH:fL,rotlBL:pL,add:XQ,add3L:ZQ,add3H:eK,add4L:tK,add4H:nK,add5H:sK,add5L:rK},[iK,oK]=be.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),zi=new Uint32Array(80),Hi=new Uint32Array(80);class aK extends aL{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:l,Eh:c,El:u,Fh:d,Fl:f,Gh:p,Gl:g,Hh:y,Hl:v}=this;return[e,t,r,s,i,o,a,l,c,u,d,f,p,g,y,v]}set(e,t,r,s,i,o,a,l,c,u,d,f,p,g,y,v){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=d|0,this.Fl=f|0,this.Gh=p|0,this.Gl=g|0,this.Hh=y|0,this.Hl=v|0}process(e,t){for(let E=0;E<16;E++,t+=4)zi[E]=e.getUint32(t),Hi[E]=e.getUint32(t+=4);for(let E=16;E<80;E++){const C=zi[E-15]|0,R=Hi[E-15]|0,D=be.rotrSH(C,R,1)^be.rotrSH(C,R,8)^be.shrSH(C,R,7),T=be.rotrSL(C,R,1)^be.rotrSL(C,R,8)^be.shrSL(C,R,7),x=zi[E-2]|0,I=Hi[E-2]|0,k=be.rotrSH(x,I,19)^be.rotrBH(x,I,61)^be.shrSH(x,I,6),N=be.rotrSL(x,I,19)^be.rotrBL(x,I,61)^be.shrSL(x,I,6),M=be.add4L(T,N,Hi[E-7],Hi[E-16]),O=be.add4H(M,D,k,zi[E-7],zi[E-16]);zi[E]=O|0,Hi[E]=M|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:l,Dh:c,Dl:u,Eh:d,El:f,Fh:p,Fl:g,Gh:y,Gl:v,Hh:w,Hl:_}=this;for(let E=0;E<80;E++){const C=be.rotrSH(d,f,14)^be.rotrSH(d,f,18)^be.rotrBH(d,f,41),R=be.rotrSL(d,f,14)^be.rotrSL(d,f,18)^be.rotrBL(d,f,41),D=d&p^~d&y,T=f&g^~f&v,x=be.add5L(_,R,T,oK[E],Hi[E]),I=be.add5H(x,w,C,D,iK[E],zi[E]),k=x|0,N=be.rotrSH(r,s,28)^be.rotrBH(r,s,34)^be.rotrBH(r,s,39),M=be.rotrSL(r,s,28)^be.rotrBL(r,s,34)^be.rotrBL(r,s,39),O=r&i^r&a^i&a,fe=s&o^s&l^o&l;w=y|0,_=v|0,y=p|0,v=g|0,p=d|0,g=f|0,{h:d,l:f}=be.add(c|0,u|0,I|0,k|0),c=a|0,u=l|0,a=i|0,l=o|0,i=r|0,o=s|0;const G=be.add3L(k,M,fe);r=be.add3H(G,I,N,O),s=G|0}({h:r,l:s}=be.add(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=be.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l}=be.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=be.add(this.Dh|0,this.Dl|0,c|0,u|0),{h:d,l:f}=be.add(this.Eh|0,this.El|0,d|0,f|0),{h:p,l:g}=be.add(this.Fh|0,this.Fl|0,p|0,g|0),{h:y,l:v}=be.add(this.Gh|0,this.Gl|0,y|0,v|0),{h:w,l:_}=be.add(this.Hh|0,this.Hl|0,w|0,_|0),this.set(r,s,i,o,a,l,c,u,d,f,p,g,y,v,w,_)}roundClean(){zi.fill(0),Hi.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const lK=rx(()=>new aK);function cK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const jC=cK();jC.crypto||jC.msCrypto;function uK(n){switch(n){case"sha256":return lL.create();case"sha512":return lK.create()}B(!1,"invalid hashing algorithm name","algorithm",n)}const[gL,mL,yL]=[[],[],[]],hK=BigInt(0),zh=BigInt(1),dK=BigInt(2),fK=BigInt(7),pK=BigInt(256),gK=BigInt(113);for(let n=0,e=zh,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],gL.push(2*(5*r+t)),mL.push((n+1)*(n+2)/2%64);let s=hK;for(let i=0;i<7;i++)e=(e<<zh^(e>>fK)*gK)%pK,e&dK&&(s^=zh<<(zh<<BigInt(i))-zh);yL.push(s)}const[mK,yK]=uL(yL,!0),zC=(n,e,t)=>t>32?fL(n,e,t):hL(n,e,t),HC=(n,e,t)=>t>32?pL(n,e,t):dL(n,e,t);function wK(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)t[o]=n[o]^n[o+10]^n[o+20]^n[o+30]^n[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,l=(o+2)%10,c=t[l],u=t[l+1],d=zC(c,u,1)^t[a],f=HC(c,u,1)^t[a+1];for(let p=0;p<50;p+=10)n[o+p]^=d,n[o+p+1]^=f}let s=n[2],i=n[3];for(let o=0;o<24;o++){const a=mL[o],l=zC(s,i,a),c=HC(s,i,a),u=gL[o];s=n[u],i=n[u+1],n[u]=l,n[u+1]=c}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=n[o+a];for(let a=0;a<10;a++)n[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}n[0]^=mK[r],n[1]^=yK[r]}t.fill(0)}class sx extends nx{constructor(e,t,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,py(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=OQ(this.state)}keccak(){wK(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Wu(this);const{blockLen:t,state:r}=this;e=S0(e);const s=e.length;for(let i=0;i<s;){const o=Math.min(t-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:s}=this;e[r]^=t,t&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Wu(this,!1),tx(e),this.finish();const t=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(t.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return py(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(rL(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new sx(t,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const vK=(n,e,t)=>rx(()=>new sx(e,n,t)),_K=vK(1,136,256/8);let wL=!1;const vL=function(n){return _K(n)};let _L=vL;function Ct(n){const e=De(n,"data");return ie(_L(e))}Ct._=vL;Ct.lock=function(){wL=!0};Ct.register=function(n){if(wL)throw new TypeError("keccak256 is locked");_L=n};Object.freeze(Ct);const bL=function(n){return uK("sha256").update(n).digest()};let EL=bL,xL=!1;function ch(n){const e=De(n,"data");return ie(EL(e))}ch._=bL;ch.lock=function(){xL=!0};ch.register=function(n){if(xL)throw new Error("sha256 is locked");EL=n};Object.freeze(ch);Object.freeze(ch);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const AL=BigInt(0),I0=BigInt(1),bK=BigInt(2),C0=n=>n instanceof Uint8Array,EK=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function $u(n){if(!C0(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=EK[n[t]];return e}function TL(n){const e=n.toString(16);return e.length&1?`0${e}`:e}function ix(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function Qu(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let r=0;r<t.length;r++){const s=r*2,i=n.slice(s,s+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function al(n){return ix($u(n))}function ox(n){if(!C0(n))throw new Error("Uint8Array expected");return ix($u(Uint8Array.from(n).reverse()))}function Ku(n,e){return Qu(n.toString(16).padStart(e*2,"0"))}function ax(n,e){return Ku(n,e).reverse()}function xK(n){return Qu(TL(n))}function Ur(n,e,t){let r;if(typeof e=="string")try{r=Qu(e)}catch(i){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${i}`)}else if(C0(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const s=r.length;if(typeof t=="number"&&s!==t)throw new Error(`${n} expected ${t} bytes, got ${s}`);return r}function wf(...n){const e=new Uint8Array(n.reduce((r,s)=>r+s.length,0));let t=0;return n.forEach(r=>{if(!C0(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}function AK(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function TK(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function SK(n){let e;for(e=0;n>AL;n>>=I0,e+=1);return e}function IK(n,e){return n>>BigInt(e)&I0}const CK=(n,e,t)=>n|(t?I0:AL)<<BigInt(e),lx=n=>(bK<<BigInt(n-1))-I0,uv=n=>new Uint8Array(n),GC=n=>Uint8Array.from(n);function SL(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=uv(n),s=uv(n),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>t(s,r,...d),l=(d=uv())=>{s=a(GC([0]),d),r=a(),d.length!==0&&(s=a(GC([1]),d),r=a())},c=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){r=a();const p=r.slice();f.push(p),d+=r.length}return wf(...f)};return(d,f)=>{o(),l(d);let p;for(;!(p=f(c()));)l();return o(),p}}const PK={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function ip(n,e,t={}){const r=(s,i,o)=>{const a=PK[i];if(typeof a!="function")throw new Error(`Invalid validator "${i}", expected function`);const l=n[s];if(!(o&&l===void 0)&&!a(l,n))throw new Error(`Invalid param ${String(s)}=${l} (${typeof l}), expected ${i}`)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(t))r(s,i,!0);return n}const kK=Object.freeze(Object.defineProperty({__proto__:null,bitGet:IK,bitLen:SK,bitMask:lx,bitSet:CK,bytesToHex:$u,bytesToNumberBE:al,bytesToNumberLE:ox,concatBytes:wf,createHmacDrbg:SL,ensureBytes:Ur,equalBytes:AK,hexToBytes:Qu,hexToNumber:ix,numberToBytesBE:Ku,numberToBytesLE:ax,numberToHexUnpadded:TL,numberToVarBytesBE:xK,utf8ToBytes:TK,validateObject:ip},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jt=BigInt(0),bt=BigInt(1),ba=BigInt(2),RK=BigInt(3),yb=BigInt(4),WC=BigInt(5),$C=BigInt(8);BigInt(9);BigInt(16);function zn(n,e){const t=n%e;return t>=jt?t:e+t}function NK(n,e,t){if(t<=jt||e<jt)throw new Error("Expected power/modulo > 0");if(t===bt)return jt;let r=bt;for(;e>jt;)e&bt&&(r=r*n%t),n=n*n%t,e>>=bt;return r}function gr(n,e,t){let r=n;for(;e-- >jt;)r*=r,r%=t;return r}function wb(n,e){if(n===jt||e<=jt)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=zn(n,e),r=e,s=jt,i=bt;for(;t!==jt;){const a=r/t,l=r%t,c=s-i*a;r=t,t=l,s=i,i=c}if(r!==bt)throw new Error("invert: does not exist");return zn(s,e)}function OK(n){const e=(n-bt)/ba;let t,r,s;for(t=n-bt,r=0;t%ba===jt;t/=ba,r++);for(s=ba;s<n&&NK(s,e,n)!==n-bt;s++);if(r===1){const o=(n+bt)/yb;return function(l,c){const u=l.pow(c,o);if(!l.eql(l.sqr(u),c))throw new Error("Cannot find square root");return u}}const i=(t+bt)/ba;return function(a,l){if(a.pow(l,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let c=r,u=a.pow(a.mul(a.ONE,s),t),d=a.pow(l,i),f=a.pow(l,t);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let p=1;for(let y=a.sqr(f);p<c&&!a.eql(y,a.ONE);p++)y=a.sqr(y);const g=a.pow(u,bt<<BigInt(c-p-1));u=a.sqr(g),d=a.mul(d,g),f=a.mul(f,u),c=p}return d}}function DK(n){if(n%yb===RK){const e=(n+bt)/yb;return function(r,s){const i=r.pow(s,e);if(!r.eql(r.sqr(i),s))throw new Error("Cannot find square root");return i}}if(n%$C===WC){const e=(n-WC)/$C;return function(r,s){const i=r.mul(s,ba),o=r.pow(i,e),a=r.mul(s,o),l=r.mul(r.mul(a,ba),o),c=r.mul(a,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),s))throw new Error("Cannot find square root");return c}}return OK(n)}const LK=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function MK(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=LK.reduce((r,s)=>(r[s]="function",r),e);return ip(n,t)}function FK(n,e,t){if(t<jt)throw new Error("Expected power > 0");if(t===jt)return n.ONE;if(t===bt)return e;let r=n.ONE,s=e;for(;t>jt;)t&bt&&(r=n.mul(r,s)),s=n.sqr(s),t>>=bt;return r}function BK(n,e){const t=new Array(e.length),r=e.reduce((i,o,a)=>n.is0(o)?i:(t[a]=i,n.mul(i,o)),n.ONE),s=n.inv(r);return e.reduceRight((i,o,a)=>n.is0(o)?i:(t[a]=n.mul(i,t[a]),n.mul(i,o)),s),t}function IL(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function UK(n,e,t=!1,r={}){if(n<=jt)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:s,nByteLength:i}=IL(n,e);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=DK(n),a=Object.freeze({ORDER:n,BITS:s,BYTES:i,MASK:lx(s),ZERO:jt,ONE:bt,create:l=>zn(l,n),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return jt<=l&&l<n},is0:l=>l===jt,isOdd:l=>(l&bt)===bt,neg:l=>zn(-l,n),eql:(l,c)=>l===c,sqr:l=>zn(l*l,n),add:(l,c)=>zn(l+c,n),sub:(l,c)=>zn(l-c,n),mul:(l,c)=>zn(l*c,n),pow:(l,c)=>FK(a,l,c),div:(l,c)=>zn(l*wb(c,n),n),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>wb(l,n),sqrt:r.sqrt||(l=>o(a,l)),invertBatch:l=>BK(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>t?ax(l,i):Ku(l,i),fromBytes:l=>{if(l.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${l.length}`);return t?ox(l):al(l)}});return Object.freeze(a)}function CL(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function PL(n){const e=CL(n);return e+Math.ceil(e/2)}function VK(n,e,t=!1){const r=n.length,s=CL(e),i=PL(e);if(r<16||r<i||r>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${r}`);const o=t?al(n):ox(n),a=zn(o,e-bt)+bt;return t?ax(a,s):Ku(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const jK=BigInt(0),hv=BigInt(1);function zK(n,e){const t=(s,i)=>{const o=i.negate();return s?o:i},r=s=>{const i=Math.ceil(e/s)+1,o=2**(s-1);return{windows:i,windowSize:o}};return{constTimeNegate:t,unsafeLadder(s,i){let o=n.ZERO,a=s;for(;i>jK;)i&hv&&(o=o.add(a)),a=a.double(),i>>=hv;return o},precomputeWindow(s,i){const{windows:o,windowSize:a}=r(i),l=[];let c=s,u=c;for(let d=0;d<o;d++){u=c,l.push(u);for(let f=1;f<a;f++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(s,i,o){const{windows:a,windowSize:l}=r(s);let c=n.ZERO,u=n.BASE;const d=BigInt(2**s-1),f=2**s,p=BigInt(s);for(let g=0;g<a;g++){const y=g*l;let v=Number(o&d);o>>=p,v>l&&(v-=f,o+=hv);const w=y,_=y+Math.abs(v)-1,E=g%2!==0,C=v<0;v===0?u=u.add(t(E,i[w])):c=c.add(t(C,i[_]))}return{p:c,f:u}},wNAFCached(s,i,o,a){const l=s._WINDOW_SIZE||1;let c=i.get(s);return c||(c=this.precomputeWindow(s,l),l!==1&&i.set(s,a(c))),this.wNAF(l,c,o)}}}function kL(n){return MK(n.Fp),ip(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...IL(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function HK(n){const e=kL(n);ip(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:s}=e;if(t){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:GK,hexToBytes:WK}=kK,ka={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=ka;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:GK(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=ka,t=typeof n=="string"?WK(n):n;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:s,l:i}=ka._parseInt(t.subarray(2)),{d:o,l:a}=ka._parseInt(i);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:o}},hexFromSig(n){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,t=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},r=e(t(n.s)),s=e(t(n.r)),i=r.length/2,o=s.length/2,a=t(i),l=t(o);return`30${t(o+i+4)}02${l}${s}02${a}${r}`}},ui=BigInt(0),Er=BigInt(1);BigInt(2);const QC=BigInt(3);BigInt(4);function $K(n){const e=HK(n),{Fp:t}=e,r=e.toBytes||((g,y,v)=>{const w=y.toAffine();return wf(Uint8Array.from([4]),t.toBytes(w.x),t.toBytes(w.y))}),s=e.fromBytes||(g=>{const y=g.subarray(1),v=t.fromBytes(y.subarray(0,t.BYTES)),w=t.fromBytes(y.subarray(t.BYTES,2*t.BYTES));return{x:v,y:w}});function i(g){const{a:y,b:v}=e,w=t.sqr(g),_=t.mul(w,g);return t.add(t.add(_,t.mul(g,y)),v)}if(!t.eql(t.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(g){return typeof g=="bigint"&&ui<g&&g<e.n}function a(g){if(!o(g))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(g){const{allowedPrivateKeyLengths:y,nByteLength:v,wrapPrivateKey:w,n:_}=e;if(y&&typeof g!="bigint"){if(g instanceof Uint8Array&&(g=$u(g)),typeof g!="string"||!y.includes(g.length))throw new Error("Invalid key");g=g.padStart(v*2,"0")}let E;try{E=typeof g=="bigint"?g:al(Ur("private key",g,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof g}`)}return w&&(E=zn(E,_)),a(E),E}const c=new Map;function u(g){if(!(g instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(y,v,w){if(this.px=y,this.py=v,this.pz=w,y==null||!t.isValid(y))throw new Error("x required");if(v==null||!t.isValid(v))throw new Error("y required");if(w==null||!t.isValid(w))throw new Error("z required")}static fromAffine(y){const{x:v,y:w}=y||{};if(!y||!t.isValid(v)||!t.isValid(w))throw new Error("invalid affine point");if(y instanceof d)throw new Error("projective point not allowed");const _=E=>t.eql(E,t.ZERO);return _(v)&&_(w)?d.ZERO:new d(v,w,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const v=t.invertBatch(y.map(w=>w.pz));return y.map((w,_)=>w.toAffine(v[_])).map(d.fromAffine)}static fromHex(y){const v=d.fromAffine(s(Ur("pointHex",y)));return v.assertValidity(),v}static fromPrivateKey(y){return d.BASE.multiply(l(y))}_setWindowSize(y){this._WINDOW_SIZE=y,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:y,y:v}=this.toAffine();if(!t.isValid(y)||!t.isValid(v))throw new Error("bad point: x or y not FE");const w=t.sqr(v),_=i(y);if(!t.eql(w,_))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(t.isOdd)return!t.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){u(y);const{px:v,py:w,pz:_}=this,{px:E,py:C,pz:R}=y,D=t.eql(t.mul(v,R),t.mul(E,_)),T=t.eql(t.mul(w,R),t.mul(C,_));return D&&T}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:y,b:v}=e,w=t.mul(v,QC),{px:_,py:E,pz:C}=this;let R=t.ZERO,D=t.ZERO,T=t.ZERO,x=t.mul(_,_),I=t.mul(E,E),k=t.mul(C,C),N=t.mul(_,E);return N=t.add(N,N),T=t.mul(_,C),T=t.add(T,T),R=t.mul(y,T),D=t.mul(w,k),D=t.add(R,D),R=t.sub(I,D),D=t.add(I,D),D=t.mul(R,D),R=t.mul(N,R),T=t.mul(w,T),k=t.mul(y,k),N=t.sub(x,k),N=t.mul(y,N),N=t.add(N,T),T=t.add(x,x),x=t.add(T,x),x=t.add(x,k),x=t.mul(x,N),D=t.add(D,x),k=t.mul(E,C),k=t.add(k,k),x=t.mul(k,N),R=t.sub(R,x),T=t.mul(k,I),T=t.add(T,T),T=t.add(T,T),new d(R,D,T)}add(y){u(y);const{px:v,py:w,pz:_}=this,{px:E,py:C,pz:R}=y;let D=t.ZERO,T=t.ZERO,x=t.ZERO;const I=e.a,k=t.mul(e.b,QC);let N=t.mul(v,E),M=t.mul(w,C),O=t.mul(_,R),fe=t.add(v,w),G=t.add(E,C);fe=t.mul(fe,G),G=t.add(N,M),fe=t.sub(fe,G),G=t.add(v,_);let q=t.add(E,R);return G=t.mul(G,q),q=t.add(N,O),G=t.sub(G,q),q=t.add(w,_),D=t.add(C,R),q=t.mul(q,D),D=t.add(M,O),q=t.sub(q,D),x=t.mul(I,G),D=t.mul(k,O),x=t.add(D,x),D=t.sub(M,x),x=t.add(M,x),T=t.mul(D,x),M=t.add(N,N),M=t.add(M,N),O=t.mul(I,O),G=t.mul(k,G),M=t.add(M,O),O=t.sub(N,O),O=t.mul(I,O),G=t.add(G,O),N=t.mul(M,G),T=t.add(T,N),N=t.mul(q,G),D=t.mul(fe,D),D=t.sub(D,N),N=t.mul(fe,M),x=t.mul(q,x),x=t.add(x,N),new d(D,T,x)}subtract(y){return this.add(y.negate())}is0(){return this.equals(d.ZERO)}wNAF(y){return p.wNAFCached(this,c,y,v=>{const w=t.invertBatch(v.map(_=>_.pz));return v.map((_,E)=>_.toAffine(w[E])).map(d.fromAffine)})}multiplyUnsafe(y){const v=d.ZERO;if(y===ui)return v;if(a(y),y===Er)return this;const{endo:w}=e;if(!w)return p.unsafeLadder(this,y);let{k1neg:_,k1:E,k2neg:C,k2:R}=w.splitScalar(y),D=v,T=v,x=this;for(;E>ui||R>ui;)E&Er&&(D=D.add(x)),R&Er&&(T=T.add(x)),x=x.double(),E>>=Er,R>>=Er;return _&&(D=D.negate()),C&&(T=T.negate()),T=new d(t.mul(T.px,w.beta),T.py,T.pz),D.add(T)}multiply(y){a(y);let v=y,w,_;const{endo:E}=e;if(E){const{k1neg:C,k1:R,k2neg:D,k2:T}=E.splitScalar(v);let{p:x,f:I}=this.wNAF(R),{p:k,f:N}=this.wNAF(T);x=p.constTimeNegate(C,x),k=p.constTimeNegate(D,k),k=new d(t.mul(k.px,E.beta),k.py,k.pz),w=x.add(k),_=I.add(N)}else{const{p:C,f:R}=this.wNAF(v);w=C,_=R}return d.normalizeZ([w,_])[0]}multiplyAndAddUnsafe(y,v,w){const _=d.BASE,E=(R,D)=>D===ui||D===Er||!R.equals(_)?R.multiplyUnsafe(D):R.multiply(D),C=E(this,v).add(E(y,w));return C.is0()?void 0:C}toAffine(y){const{px:v,py:w,pz:_}=this,E=this.is0();y==null&&(y=E?t.ONE:t.inv(_));const C=t.mul(v,y),R=t.mul(w,y),D=t.mul(_,y);if(E)return{x:t.ZERO,y:t.ZERO};if(!t.eql(D,t.ONE))throw new Error("invZ was invalid");return{x:C,y:R}}isTorsionFree(){const{h:y,isTorsionFree:v}=e;if(y===Er)return!0;if(v)return v(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:v}=e;return y===Er?this:v?v(d,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return this.assertValidity(),r(d,this,y)}toHex(y=!0){return $u(this.toRawBytes(y))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const f=e.nBitLength,p=zK(d,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:o}}function QK(n){const e=kL(n);return ip(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function KK(n){const e=QK(n),{Fp:t,n:r}=e,s=t.BYTES+1,i=2*t.BYTES+1;function o(G){return ui<G&&G<t.ORDER}function a(G){return zn(G,r)}function l(G){return wb(G,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:f}=$K({...e,toBytes(G,q,Z){const W=q.toAffine(),K=t.toBytes(W.x),te=wf;return Z?te(Uint8Array.from([q.hasEvenY()?2:3]),K):te(Uint8Array.from([4]),K,t.toBytes(W.y))},fromBytes(G){const q=G.length,Z=G[0],W=G.subarray(1);if(q===s&&(Z===2||Z===3)){const K=al(W);if(!o(K))throw new Error("Point is not on curve");const te=d(K);let le=t.sqrt(te);const ae=(le&Er)===Er;return(Z&1)===1!==ae&&(le=t.neg(le)),{x:K,y:le}}else if(q===i&&Z===4){const K=t.fromBytes(W.subarray(0,t.BYTES)),te=t.fromBytes(W.subarray(t.BYTES,2*t.BYTES));return{x:K,y:te}}else throw new Error(`Point of length ${q} was invalid. Expected ${s} compressed bytes or ${i} uncompressed bytes`)}}),p=G=>$u(Ku(G,e.nByteLength));function g(G){const q=r>>Er;return G>q}function y(G){return g(G)?a(-G):G}const v=(G,q,Z)=>al(G.slice(q,Z));class w{constructor(q,Z,W){this.r=q,this.s=Z,this.recovery=W,this.assertValidity()}static fromCompact(q){const Z=e.nByteLength;return q=Ur("compactSignature",q,Z*2),new w(v(q,0,Z),v(q,Z,2*Z))}static fromDER(q){const{r:Z,s:W}=ka.toSig(Ur("DER",q));return new w(Z,W)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(q){return new w(this.r,this.s,q)}recoverPublicKey(q){const{r:Z,s:W,recovery:K}=this,te=T(Ur("msgHash",q));if(K==null||![0,1,2,3].includes(K))throw new Error("recovery id invalid");const le=K===2||K===3?Z+e.n:Z;if(le>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const ae=K&1?"03":"02",ce=c.fromHex(ae+p(le)),_e=l(le),ke=a(-te*_e),Le=a(W*_e),qe=c.BASE.multiplyAndAddUnsafe(ce,ke,Le);if(!qe)throw new Error("point at infinify");return qe.assertValidity(),qe}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Qu(this.toDERHex())}toDERHex(){return ka.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Qu(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const _={isValidPrivateKey(G){try{return u(G),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const G=PL(e.n);return VK(e.randomBytes(G),e.n)},precompute(G=8,q=c.BASE){return q._setWindowSize(G),q.multiply(BigInt(3)),q}};function E(G,q=!0){return c.fromPrivateKey(G).toRawBytes(q)}function C(G){const q=G instanceof Uint8Array,Z=typeof G=="string",W=(q||Z)&&G.length;return q?W===s||W===i:Z?W===2*s||W===2*i:G instanceof c}function R(G,q,Z=!0){if(C(G))throw new Error("first arg must be private key");if(!C(q))throw new Error("second arg must be public key");return c.fromHex(q).multiply(u(G)).toRawBytes(Z)}const D=e.bits2int||function(G){const q=al(G),Z=G.length*8-e.nBitLength;return Z>0?q>>BigInt(Z):q},T=e.bits2int_modN||function(G){return a(D(G))},x=lx(e.nBitLength);function I(G){if(typeof G!="bigint")throw new Error("bigint expected");if(!(ui<=G&&G<x))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Ku(G,e.nByteLength)}function k(G,q,Z=N){if(["recovered","canonical"].some(We=>We in Z))throw new Error("sign() legacy options not supported");const{hash:W,randomBytes:K}=e;let{lowS:te,prehash:le,extraEntropy:ae}=Z;te==null&&(te=!0),G=Ur("msgHash",G),le&&(G=Ur("prehashed msgHash",W(G)));const ce=T(G),_e=u(q),ke=[I(_e),I(ce)];if(ae!=null){const We=ae===!0?K(t.BYTES):ae;ke.push(Ur("extraEntropy",We))}const Le=wf(...ke),qe=ce;function me(We){const st=D(We);if(!f(st))return;const Fn=l(st),Gt=c.BASE.multiply(st).toAffine(),Ie=a(Gt.x);if(Ie===ui)return;const Mt=a(Fn*a(qe+Ie*_e));if(Mt===ui)return;let Ul=(Gt.x===Ie?0:2)|Number(Gt.y&Er),dh=Mt;return te&&g(Mt)&&(dh=y(Mt),Ul^=1),new w(Ie,dh,Ul)}return{seed:Le,k2sig:me}}const N={lowS:e.lowS,prehash:!1},M={lowS:e.lowS,prehash:!1};function O(G,q,Z=N){const{seed:W,k2sig:K}=k(G,q,Z),te=e;return SL(te.hash.outputLen,te.nByteLength,te.hmac)(W,K)}c.BASE._setWindowSize(8);function fe(G,q,Z,W=M){var Gt;const K=G;if(q=Ur("msgHash",q),Z=Ur("publicKey",Z),"strict"in W)throw new Error("options.strict was renamed to lowS");const{lowS:te,prehash:le}=W;let ae,ce;try{if(typeof K=="string"||K instanceof Uint8Array)try{ae=w.fromDER(K)}catch(Ie){if(!(Ie instanceof ka.Err))throw Ie;ae=w.fromCompact(K)}else if(typeof K=="object"&&typeof K.r=="bigint"&&typeof K.s=="bigint"){const{r:Ie,s:Mt}=K;ae=new w(Ie,Mt)}else throw new Error("PARSE");ce=c.fromHex(Z)}catch(Ie){if(Ie.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(te&&ae.hasHighS())return!1;le&&(q=e.hash(q));const{r:_e,s:ke}=ae,Le=T(q),qe=l(ke),me=a(Le*qe),We=a(_e*qe),st=(Gt=c.BASE.multiplyAndAddUnsafe(ce,me,We))==null?void 0:Gt.toAffine();return st?a(st.x)===_e:!1}return{CURVE:e,getPublicKey:E,getSharedSecret:R,sign:O,verify:fe,ProjectivePoint:c,Signature:w,utils:_}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function qK(n){return{hash:n,hmac:(e,...t)=>oL(n,e,MQ(...t)),randomBytes:FQ}}function JK(n,e){const t=r=>KK({...n,...qK(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RL=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),KC=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),YK=BigInt(1),vb=BigInt(2),qC=(n,e)=>(n+e/vb)/e;function XK(n){const e=RL,t=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=n*n*n%e,u=c*c*n%e,d=gr(u,t,e)*u%e,f=gr(d,t,e)*u%e,p=gr(f,vb,e)*c%e,g=gr(p,s,e)*p%e,y=gr(g,i,e)*g%e,v=gr(y,a,e)*y%e,w=gr(v,l,e)*v%e,_=gr(w,a,e)*y%e,E=gr(_,t,e)*u%e,C=gr(E,o,e)*g%e,R=gr(C,r,e)*c%e,D=gr(R,vb,e);if(!_b.eql(_b.sqr(D),n))throw new Error("Cannot find square root");return D}const _b=UK(RL,void 0,void 0,{sqrt:XK}),Qi=JK({a:BigInt(0),b:BigInt(7),Fp:_b,n:KC,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=KC,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-YK*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=t,o=BigInt("0x100000000000000000000000000000000"),a=qC(i*n,e),l=qC(-r*n,e);let c=zn(n-a*t-l*s,e),u=zn(-a*r-l*i,e);const d=c>o,f=u>o;if(d&&(c=e-c),f&&(u=e-u),c>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:c,k2neg:f,k2:u}}}},lL);BigInt(0);Qi.ProjectivePoint;const vf="0x0000000000000000000000000000000000000000",JC="0x0000000000000000000000000000000000000000000000000000000000000000",YC=BigInt(0),XC=BigInt(1),ZC=BigInt(2),eP=BigInt(27),tP=BigInt(28),wg=BigInt(35),ql={};function nP(n){return bl(Pn(n),32)}var Jc,Yc,Xc,Ha;const Fr=class Fr{constructor(e,t,r,s){j(this,Jc);j(this,Yc);j(this,Xc);j(this,Ha);sp(e,ql,"Signature"),L(this,Jc,t),L(this,Yc,r),L(this,Xc,s),L(this,Ha,null)}get r(){return A(this,Jc)}set r(e){B(Bc(e)===32,"invalid r","value",e),L(this,Jc,ie(e))}get s(){return A(this,Yc)}set s(e){B(Bc(e)===32,"invalid s","value",e);const t=ie(e);B(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),L(this,Yc,t)}get v(){return A(this,Xc)}set v(e){const t=Ee(e,"value");B(t===27||t===28,"invalid v","v",e),L(this,Xc,t)}get networkV(){return A(this,Ha)}get legacyChainId(){const e=this.networkV;return e==null?null:Fr.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=De(this.s);return this.yParity&&(e[0]|=128),ie(e)}get compactSerialized(){return At([this.r,this.yParityAndS])}get serialized(){return At([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Fr(ql,this.r,this.s,this.v);return this.networkV&&L(e,Ha,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=oe(e,"v");return t==eP||t==tP?YC:(B(t>=wg,"invalid EIP-155 v","v",e),(t-wg)/ZC)}static getChainIdV(e,t){return oe(e)*ZC+BigInt(35+t-27)}static getNormalizedV(e){const t=oe(e);return t===YC||t===eP?27:t===XC||t===tP?28:(B(t>=wg,"invalid v","v",e),t&XC?27:28)}static from(e){function t(c,u){B(c,u,"signature",e)}if(e==null)return new Fr(ql,JC,JC,27);if(typeof e=="string"){const c=De(e,"signature");if(c.length===64){const u=ie(c.slice(0,32)),d=c.slice(32,64),f=d[0]&128?28:27;return d[0]&=127,new Fr(ql,u,ie(d),f)}if(c.length===65){const u=ie(c.slice(0,32)),d=c.slice(32,64);t((d[0]&128)===0,"non-canonical s");const f=Fr.getNormalizedV(c[64]);return new Fr(ql,u,ie(d),f)}t(!1,"invalid raw signature length")}if(e instanceof Fr)return e.clone();const r=e.r;t(r!=null,"missing r");const s=nP(r),i=function(c,u){if(c!=null)return nP(c);if(u!=null){t(Xe(u,32),"invalid yParityAndS");const d=De(u);return d[0]&=127,ie(d)}t(!1,"missing s")}(e.s,e.yParityAndS);t((De(i)[0]&128)==0,"non-canonical s");const{networkV:o,v:a}=function(c,u,d){if(c!=null){const f=oe(c);return{networkV:f>=wg?f:void 0,v:Fr.getNormalizedV(f)}}if(u!=null)return t(Xe(u,32),"invalid yParityAndS"),{v:De(u)[0]&128?28:27};if(d!=null){switch(Ee(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),l=new Fr(ql,s,i,a);return o&&L(l,Ha,o),t(e.yParity==null||Ee(e.yParity,"sig.yParity")===l.yParity,"yParity mismatch"),t(e.yParityAndS==null||e.yParityAndS===l.yParityAndS,"yParityAndS mismatch"),l}};Jc=new WeakMap,Yc=new WeakMap,Xc=new WeakMap,Ha=new WeakMap;let ts=Fr;var ei;const Ea=class Ea{constructor(e){j(this,ei);B(Bc(e)===32,"invalid private key","privateKey","[REDACTED]"),L(this,ei,ie(e))}get privateKey(){return A(this,ei)}get publicKey(){return Ea.computePublicKey(A(this,ei))}get compressedPublicKey(){return Ea.computePublicKey(A(this,ei),!0)}sign(e){B(Bc(e)===32,"invalid digest length","digest",e);const t=Qi.sign(Cn(e),Cn(A(this,ei)),{lowS:!0});return ts.from({r:Yo(t.r,32),s:Yo(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Ea.computePublicKey(e);return ie(Qi.getSharedSecret(Cn(A(this,ei)),De(t),!1))}static computePublicKey(e,t){let r=De(e,"key");if(r.length===32){const i=Qi.getPublicKey(r,!!t);return ie(i)}if(r.length===64){const i=new Uint8Array(65);i[0]=4,i.set(r,1),r=i}const s=Qi.ProjectivePoint.fromHex(r);return ie(s.toRawBytes(t))}static recoverPublicKey(e,t){B(Bc(e)===32,"invalid digest length","digest",e);const r=ts.from(t);let s=Qi.Signature.fromCompact(Cn(At([r.r,r.s])));s=s.addRecoveryBit(r.yParity);const i=s.recoverPublicKey(Cn(e));return B(i!=null,"invalid signautre for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,r){const s=Qi.ProjectivePoint.fromHex(Ea.computePublicKey(e).substring(2)),i=Qi.ProjectivePoint.fromHex(Ea.computePublicKey(t).substring(2));return"0x"+s.add(i).toHex(!!r)}};ei=new WeakMap;let _f=Ea;const ZK=BigInt(0),eq=BigInt(36);function rP(n){n=n.toLowerCase();const e=n.substring(2).split(""),t=new Uint8Array(40);for(let s=0;s<40;s++)t[s]=e[s].charCodeAt(0);const r=De(Ct(t));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(r[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const cx={};for(let n=0;n<10;n++)cx[String(n)]=String(n);for(let n=0;n<26;n++)cx[String.fromCharCode(65+n)]=String(10+n);const sP=15;function tq(n){n=n.toUpperCase(),n=n.substring(4)+n.substring(0,2)+"00";let e=n.split("").map(r=>cx[r]).join("");for(;e.length>=sP;){let r=e.substring(0,sP);e=parseInt(r,10)%97+e.substring(r.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}const nq=function(){const n={};for(let e=0;e<36;e++){const t="0123456789abcdefghijklmnopqrstuvwxyz"[e];n[t]=BigInt(e)}return n}();function rq(n){n=n.toLowerCase();let e=ZK;for(let t=0;t<n.length;t++)e=e*eq+nq[n[t]];return e}function Qe(n){if(B(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const e=rP(n);return B(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===n,"bad address checksum","address",n),e}if(n.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){B(n.substring(2,4)===tq(n),"bad icap checksum","address",n);let e=rq(n.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return rP("0x"+e)}B(!1,"invalid address","address",n)}function sq(n){const e=Qe(n.from);let r=oe(n.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,Qe(ft(Ct(El([e,r])),12))}function NL(n){return n&&typeof n.getAddress=="function"}async function dv(n,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&(Q(typeof n!="string","unconfigured name","UNCONFIGURED_NAME",{value:n}),B(!1,"invalid AddressLike value; did not resolve to a value address","target",n)),Qe(t)}function Rn(n,e){if(typeof n=="string")return n.match(/^0x[0-9a-f]{40}$/i)?Qe(n):(Q(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),dv(n,e.resolveName(n)));if(NL(n))return dv(n,n.getAddress());if(n&&typeof n.then=="function")return dv(n,n);B(!1,"unsupported addressable value","target",n)}const Ws={};function re(n,e){let t=!1;return e<0&&(t=!0,e*=-1),new wn(Ws,`${t?"":"u"}int${e}`,n,{signed:t,width:e})}function Ve(n,e){return new wn(Ws,`bytes${e||""}`,n,{size:e})}const iP=Symbol.for("_ethers_typed");var Ga;const $s=class $s{constructor(e,t,r,s){F(this,"type");F(this,"value");j(this,Ga);F(this,"_typedSymbol");s==null&&(s=null),sp(Ws,e,"Typed"),de(this,{_typedSymbol:iP,type:t,value:r}),L(this,Ga,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return A(this,Ga)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return A(this,Ga)===!0?-1:A(this,Ga)===!1?this.value.length:null}static from(e,t){return new $s(Ws,e,t)}static uint8(e){return re(e,8)}static uint16(e){return re(e,16)}static uint24(e){return re(e,24)}static uint32(e){return re(e,32)}static uint40(e){return re(e,40)}static uint48(e){return re(e,48)}static uint56(e){return re(e,56)}static uint64(e){return re(e,64)}static uint72(e){return re(e,72)}static uint80(e){return re(e,80)}static uint88(e){return re(e,88)}static uint96(e){return re(e,96)}static uint104(e){return re(e,104)}static uint112(e){return re(e,112)}static uint120(e){return re(e,120)}static uint128(e){return re(e,128)}static uint136(e){return re(e,136)}static uint144(e){return re(e,144)}static uint152(e){return re(e,152)}static uint160(e){return re(e,160)}static uint168(e){return re(e,168)}static uint176(e){return re(e,176)}static uint184(e){return re(e,184)}static uint192(e){return re(e,192)}static uint200(e){return re(e,200)}static uint208(e){return re(e,208)}static uint216(e){return re(e,216)}static uint224(e){return re(e,224)}static uint232(e){return re(e,232)}static uint240(e){return re(e,240)}static uint248(e){return re(e,248)}static uint256(e){return re(e,256)}static uint(e){return re(e,256)}static int8(e){return re(e,-8)}static int16(e){return re(e,-16)}static int24(e){return re(e,-24)}static int32(e){return re(e,-32)}static int40(e){return re(e,-40)}static int48(e){return re(e,-48)}static int56(e){return re(e,-56)}static int64(e){return re(e,-64)}static int72(e){return re(e,-72)}static int80(e){return re(e,-80)}static int88(e){return re(e,-88)}static int96(e){return re(e,-96)}static int104(e){return re(e,-104)}static int112(e){return re(e,-112)}static int120(e){return re(e,-120)}static int128(e){return re(e,-128)}static int136(e){return re(e,-136)}static int144(e){return re(e,-144)}static int152(e){return re(e,-152)}static int160(e){return re(e,-160)}static int168(e){return re(e,-168)}static int176(e){return re(e,-176)}static int184(e){return re(e,-184)}static int192(e){return re(e,-192)}static int200(e){return re(e,-200)}static int208(e){return re(e,-208)}static int216(e){return re(e,-216)}static int224(e){return re(e,-224)}static int232(e){return re(e,-232)}static int240(e){return re(e,-240)}static int248(e){return re(e,-248)}static int256(e){return re(e,-256)}static int(e){return re(e,-256)}static bytes1(e){return Ve(e,1)}static bytes2(e){return Ve(e,2)}static bytes3(e){return Ve(e,3)}static bytes4(e){return Ve(e,4)}static bytes5(e){return Ve(e,5)}static bytes6(e){return Ve(e,6)}static bytes7(e){return Ve(e,7)}static bytes8(e){return Ve(e,8)}static bytes9(e){return Ve(e,9)}static bytes10(e){return Ve(e,10)}static bytes11(e){return Ve(e,11)}static bytes12(e){return Ve(e,12)}static bytes13(e){return Ve(e,13)}static bytes14(e){return Ve(e,14)}static bytes15(e){return Ve(e,15)}static bytes16(e){return Ve(e,16)}static bytes17(e){return Ve(e,17)}static bytes18(e){return Ve(e,18)}static bytes19(e){return Ve(e,19)}static bytes20(e){return Ve(e,20)}static bytes21(e){return Ve(e,21)}static bytes22(e){return Ve(e,22)}static bytes23(e){return Ve(e,23)}static bytes24(e){return Ve(e,24)}static bytes25(e){return Ve(e,25)}static bytes26(e){return Ve(e,26)}static bytes27(e){return Ve(e,27)}static bytes28(e){return Ve(e,28)}static bytes29(e){return Ve(e,29)}static bytes30(e){return Ve(e,30)}static bytes31(e){return Ve(e,31)}static bytes32(e){return Ve(e,32)}static address(e){return new $s(Ws,"address",e)}static bool(e){return new $s(Ws,"bool",!!e)}static bytes(e){return new $s(Ws,"bytes",e)}static string(e){return new $s(Ws,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new $s(Ws,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===iP}static dereference(e,t){if($s.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}};Ga=new WeakMap;let wn=$s;class iq extends Di{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=wn.dereference(t,"string");try{r=Qe(r)}catch(s){return this._throwError(s.message,t)}return e.writeValue(r)}decode(e){return Qe(Yo(e.readValue(),20))}}class oq extends Di{constructor(t){super(t.name,t.type,"_",t.dynamic);F(this,"coder");this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,r){return this.coder.encode(t,r)}decode(t){return this.coder.decode(t)}}function OL(n,e,t){let r=[];if(Array.isArray(t))r=t;else if(t&&typeof t=="object"){let l={};r=e.map(c=>{const u=c.localName;return Q(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:t}),Q(!l[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:t}),l[u]=!0,t[u]})}else B(!1,"invalid tuple value","tuple",t);B(e.length===r.length,"types/value length mismatch","tuple",t);let s=new fb,i=new fb,o=[];e.forEach((l,c)=>{let u=r[c];if(l.dynamic){let d=i.length;l.encode(i,u);let f=s.writeUpdatableValue();o.push(p=>{f(p+d)})}else l.encode(s,u)}),o.forEach(l=>{l(s.length)});let a=n.appendWriter(s);return a+=n.appendWriter(i),a}function DL(n,e){let t=[],r=[],s=n.subReader(0);return e.forEach(i=>{let o=null;if(i.dynamic){let a=n.readIndex(),l=s.subReader(a);try{o=i.decode(l)}catch(c){if(Yt(c,"BUFFER_OVERRUN"))throw c;o=c,o.baseType=i.name,o.name=i.localName,o.type=i.type}}else try{o=i.decode(n)}catch(a){if(Yt(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=i.name,o.name=i.localName,o.type=i.type}if(o==null)throw new Error("investigate");t.push(o),r.push(i.localName||null)}),Gu.fromItems(t,r)}class aq extends Di{constructor(t,r,s){const i=t.type+"["+(r>=0?r:"")+"]",o=r===-1||t.dynamic;super("array",i,s,o);F(this,"coder");F(this,"length");de(this,{coder:t,length:r})}defaultValue(){const t=this.coder.defaultValue(),r=[];for(let s=0;s<this.length;s++)r.push(t);return r}encode(t,r){const s=wn.dereference(r,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,t.writeValue(s.length)),HD(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<s.length;a++)o.push(this.coder);return OL(t,o,s)}decode(t){let r=this.length;r===-1&&(r=t.readIndex(),Q(r*kn<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:r*kn,length:t.dataLength}));let s=[];for(let i=0;i<r;i++)s.push(new oq(this.coder));return DL(t,s)}}class lq extends Di{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const r=wn.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class LL extends Di{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Cn(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class cq extends LL{constructor(e){super("bytes",e)}decode(e){return ie(super.decode(e))}}class uq extends Di{constructor(t,r){let s="bytes"+String(t);super(s,s,r,!1);F(this,"size");de(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,r){let s=Cn(wn.dereference(r,this.type));return s.length!==this.size&&this._throwError("incorrect data length",r),t.writeBytes(s)}decode(t){return ie(t.readBytes(this.size))}}const hq=new Uint8Array([]);class dq extends Di{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(hq)}decode(e){return e.readBytes(0),null}}const fq=BigInt(0),pq=BigInt(1),gq=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class mq extends Di{constructor(t,r,s){const i=(r?"int":"uint")+t*8;super(i,i,s,!1);F(this,"size");F(this,"signed");de(this,{size:t,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,r){let s=oe(wn.dereference(r,this.type)),i=Pa(gq,kn*8);if(this.signed){let o=Pa(i,this.size*8-1);(s>o||s<-(o+pq))&&this._throwError("value out-of-bounds",r),s=$D(s,8*kn)}else(s<fq||s>Pa(i,this.size*8))&&this._throwError("value out-of-bounds",r);return t.writeValue(s)}decode(t){let r=Pa(t.readValue(),this.size*8);return this.signed&&(r=dy(r,this.size*8)),r}}class yq extends LL{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,bi(wn.dereference(t,"string")))}decode(e){return fy(super.decode(e))}}class vg extends Di{constructor(t,r){let s=!1;const i=[];t.forEach(a=>{a.dynamic&&(s=!0),i.push(a.type)});const o="tuple("+i.join(",")+")";super("tuple",o,r,s);F(this,"coders");de(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(s=>{t.push(s.defaultValue())});const r=this.coders.reduce((s,i)=>{const o=i.localName;return o&&(s[o]||(s[o]=0),s[o]++),s},{});return this.coders.forEach((s,i)=>{let o=s.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),t[o]==null&&(t[o]=t[i]))}),Object.freeze(t)}encode(t,r){const s=wn.dereference(r,"tuple");return OL(t,this.coders,s)}decode(t){return DL(t,this.coders)}}function xl(n){return Ct(bi(n))}var wq="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const oP=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),aP=4;function vq(n){let e=0;function t(){return n[e++]<<8|n[e++]}let r=t(),s=1,i=[0,1];for(let R=1;R<r;R++)i.push(s+=t());let o=t(),a=e;e+=o;let l=0,c=0;function u(){return l==0&&(c=c<<8|n[e++],l=8),c>>--l&1}const d=31,f=2**d,p=f>>>1,g=p>>1,y=f-1;let v=0;for(let R=0;R<d;R++)v=v<<1|u();let w=[],_=0,E=f;for(;;){let R=Math.floor(((v-_+1)*s-1)/E),D=0,T=r;for(;T-D>1;){let k=D+T>>>1;R<i[k]?T=k:D=k}if(D==0)break;w.push(D);let x=_+Math.floor(E*i[D]/s),I=_+Math.floor(E*i[D+1]/s)-1;for(;!((x^I)&p);)v=v<<1&y|u(),x=x<<1&y,I=I<<1&y|1;for(;x&~I&g;)v=v&p|v<<1&y>>>1|u(),x=x<<1^p,I=(I^p)<<1|p|1;_=x,E=1+I-x}let C=r-4;return w.map(R=>{switch(R-C){case 3:return C+65792+(n[a++]<<16|n[a++]<<8|n[a++]);case 2:return C+256+(n[a++]<<8|n[a++]);case 1:return C+n[a++];default:return R-1}})}function _q(n){let e=0;return()=>n[e++]}function ML(n){return _q(vq(bq(n)))}function bq(n){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,i)=>e[s.charCodeAt(0)]=i);let t=n.length,r=new Uint8Array(6*t>>3);for(let s=0,i=0,o=0,a=0;s<t;s++)a=a<<6|e[n.charCodeAt(s)],o+=6,o>=8&&(r[i++]=a>>(o-=8));return r}function Eq(n){return n&1?~n>>1:n>>1}function xq(n,e){let t=Array(n);for(let r=0,s=0;r<n;r++)t[r]=s+=Eq(e());return t}function bf(n,e=0){let t=[];for(;;){let r=n(),s=n();if(!s)break;e+=r;for(let i=0;i<s;i++)t.push(e+i);e+=s+1}return t}function FL(n){return Ef(()=>{let e=bf(n);if(e.length)return e})}function BL(n){let e=[];for(;;){let t=n();if(t==0)break;e.push(Aq(t,n))}for(;;){let t=n()-1;if(t<0)break;e.push(Tq(t,n))}return e.flat()}function Ef(n){let e=[];for(;;){let t=n(e.length);if(!t)break;e.push(t)}return e}function UL(n,e,t){let r=Array(n).fill().map(()=>[]);for(let s=0;s<e;s++)xq(n,t).forEach((i,o)=>r[o].push(i));return r}function Aq(n,e){let t=1+e(),r=e(),s=Ef(e);return UL(s.length,1+n,e).flatMap((o,a)=>{let[l,...c]=o;return Array(s[a]).fill().map((u,d)=>{let f=d*r;return[l+d*t,c.map(p=>p+f)]})})}function Tq(n,e){let t=1+e();return UL(t,1+n,e).map(s=>[s[0],s.slice(1)])}function Sq(n){let e=[],t=bf(n);return s(r([]),[]),e;function r(i){let o=n(),a=Ef(()=>{let l=bf(n).map(c=>t[c]);if(l.length)return r(l)});return{S:o,B:a,Q:i}}function s({S:i,B:o},a,l){if(!(i&4&&l===a[a.length-1])){i&2&&(l=a[a.length-1]),i&1&&e.push(a);for(let c of o)for(let u of c.Q)s(c,[...a,u],l)}}}function Iq(n){return n.toString(16).toUpperCase().padStart(2,"0")}function VL(n){return`{${Iq(n)}}`}function Cq(n){let e=[];for(let t=0,r=n.length;t<r;){let s=n.codePointAt(t);t+=s<65536?1:2,e.push(s)}return e}function qu(n){let t=n.length;if(t<4096)return String.fromCodePoint(...n);let r=[];for(let s=0;s<t;)r.push(String.fromCodePoint(...n.slice(s,s+=4096)));return r.join("")}function Pq(n,e){let t=n.length,r=t-e.length;for(let s=0;r==0&&s<t;s++)r=n[s]-e[s];return r}var kq="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const xf=44032,gy=4352,my=4449,yy=4519,jL=19,zL=21,Ju=28,wy=zL*Ju,Rq=jL*wy,Nq=xf+Rq,Oq=gy+jL,Dq=my+zL,Lq=yy+Ju;function id(n){return n>>24&255}function HL(n){return n&16777215}let bb,lP,Eb,Yg;function Mq(){let n=ML(kq);bb=new Map(FL(n).flatMap((e,t)=>e.map(r=>[r,t+1<<24]))),lP=new Set(bf(n)),Eb=new Map,Yg=new Map;for(let[e,t]of BL(n)){if(!lP.has(e)&&t.length==2){let[r,s]=t,i=Yg.get(r);i||(i=new Map,Yg.set(r,i)),i.set(s,e)}Eb.set(e,t.reverse())}}function GL(n){return n>=xf&&n<Nq}function Fq(n,e){if(n>=gy&&n<Oq&&e>=my&&e<Dq)return xf+(n-gy)*wy+(e-my)*Ju;if(GL(n)&&e>yy&&e<Lq&&(n-xf)%Ju==0)return n+(e-yy);{let t=Yg.get(n);return t&&(t=t.get(e),t)?t:-1}}function WL(n){bb||Mq();let e=[],t=[],r=!1;function s(i){let o=bb.get(i);o&&(r=!0,i|=o),e.push(i)}for(let i of n)for(;;){if(i<128)e.push(i);else if(GL(i)){let o=i-xf,a=o/wy|0,l=o%wy/Ju|0,c=o%Ju;s(gy+a),s(my+l),c>0&&s(yy+c)}else{let o=Eb.get(i);o?t.push(...o):s(i)}if(!t.length)break;i=t.pop()}if(r&&e.length>1){let i=id(e[0]);for(let o=1;o<e.length;o++){let a=id(e[o]);if(a==0||i<=a){i=a;continue}let l=o-1;for(;;){let c=e[l+1];if(e[l+1]=e[l],e[l]=c,!l||(i=id(e[--l]),i<=a))break}i=id(e[o])}}return e}function Bq(n){let e=[],t=[],r=-1,s=0;for(let i of n){let o=id(i),a=HL(i);if(r==-1)o==0?r=a:e.push(a);else if(s>0&&s>=o)o==0?(e.push(r,...t),t.length=0,r=a):t.push(a),s=o;else{let l=Fq(r,a);l>=0?r=l:s==0&&o==0?(e.push(r),r=a):(t.push(a),s=o)}}return r>=0&&e.push(r,...t),e}function $L(n){return WL(n).map(HL)}function Uq(n){return Bq(WL(n))}const cP=45,QL=".",KL=65039,qL=1,vy=n=>Array.from(n);function Af(n,e){return n.P.has(e)||n.Q.has(e)}class Vq extends Array{get is_emoji(){return!0}}let xb,JL,Ra,Ab,YL,Vc,fv,nc,va,uP,Tb;function ux(){if(xb)return;let n=ML(wq);const e=()=>bf(n),t=()=>new Set(e()),r=(u,d)=>d.forEach(f=>u.add(f));xb=new Map(BL(n)),JL=t(),Ra=e(),Ab=new Set(e().map(u=>Ra[u])),Ra=new Set(Ra),YL=t(),t();let s=FL(n),i=n();const o=()=>{let u=new Set;return e().forEach(d=>r(u,s[d])),r(u,e()),u};Vc=Ef(u=>{let d=Ef(n).map(f=>f+96);if(d.length){let f=u>=i;d[0]-=32,d=qu(d),f&&(d=`Restricted[${d}]`);let p=o(),g=o(),y=!n();return{N:d,P:p,Q:g,M:y,R:f}}}),fv=t(),nc=new Map;let a=e().concat(vy(fv)).sort((u,d)=>u-d);a.forEach((u,d)=>{let f=n(),p=a[d]=f?a[d-f]:{V:[],M:new Map};p.V.push(u),fv.has(u)||nc.set(u,p)});for(let{V:u,M:d}of new Set(nc.values())){let f=[];for(let g of u){let y=Vc.filter(w=>Af(w,g)),v=f.find(({G:w})=>y.some(_=>w.has(_)));v||(v={G:new Set,V:[]},f.push(v)),v.V.push(g),r(v.G,y)}let p=f.flatMap(g=>vy(g.G));for(let{G:g,V:y}of f){let v=new Set(p.filter(w=>!g.has(w)));for(let w of y)d.set(w,v)}}va=new Set;let l=new Set;const c=u=>va.has(u)?l.add(u):va.add(u);for(let u of Vc){for(let d of u.P)c(d);for(let d of u.Q)c(d)}for(let u of va)!nc.has(u)&&!l.has(u)&&nc.set(u,qL);r(va,$L(va)),uP=Sq(n).map(u=>Vq.from(u)).sort(Pq),Tb=new Map;for(let u of uP){let d=[Tb];for(let f of u){let p=d.map(g=>{let y=g.get(f);return y||(y=new Map,g.set(f,y)),y});f===KL?d.push(...p):d=p}for(let f of d)f.V=u}}function hx(n){return(XL(n)?"":`${dx(P0([n]))} `)+VL(n)}function dx(n){return`"${n}"‎`}function jq(n){if(n.length>=4&&n[2]==cP&&n[3]==cP)throw new Error(`invalid label extension: "${qu(n.slice(0,4))}"`)}function zq(n){for(let t=n.lastIndexOf(95);t>0;)if(n[--t]!==95)throw new Error("underscore allowed only at start")}function Hq(n){let e=n[0],t=oP.get(e);if(t)throw Pd(`leading ${t}`);let r=n.length,s=-1;for(let i=1;i<r;i++){e=n[i];let o=oP.get(e);if(o){if(s==i)throw Pd(`${t} + ${o}`);s=i+1,t=o}}if(s==r)throw Pd(`trailing ${t}`)}function P0(n,e=1/0,t=VL){let r=[];Gq(n[0])&&r.push("◌"),n.length>e&&(e>>=1,n=[...n.slice(0,e),8230,...n.slice(-e)]);let s=0,i=n.length;for(let o=0;o<i;o++){let a=n[o];XL(a)&&(r.push(qu(n.slice(s,o))),r.push(t(a)),s=o+1)}return r.push(qu(n.slice(s,i))),r.join("")}function Gq(n){return ux(),Ra.has(n)}function XL(n){return ux(),YL.has(n)}function Wq(n){return qq($q(n,Uq,Xq))}function $q(n,e,t){if(!n)return[];ux();let r=0;return n.split(QL).map(s=>{let i=Cq(s),o={input:i,offset:r};r+=i.length+1;try{let a=o.tokens=Yq(i,e,t),l=a.length,c;if(!l)throw new Error("empty label");let u=o.output=a.flat();if(zq(u),!(o.emoji=l>1||a[0].is_emoji)&&u.every(f=>f<128))jq(u),c="ASCII";else{let f=a.flatMap(p=>p.is_emoji?[]:p);if(!f.length)c="Emoji";else{if(Ra.has(u[0]))throw Pd("leading combining mark");for(let y=1;y<l;y++){let v=a[y];if(!v.is_emoji&&Ra.has(v[0]))throw Pd(`emoji + combining mark: "${qu(a[y-1])} + ${P0([v[0]])}"`)}Hq(u);let p=vy(new Set(f)),[g]=Kq(p);Jq(g,f),Qq(g,p),c=g.N}}o.type=c}catch(a){o.error=a}return o})}function Qq(n,e){let t,r=[];for(let s of e){let i=nc.get(s);if(i===qL)return;if(i){let o=i.M.get(s);if(t=t?t.filter(a=>o.has(a)):vy(o),!t.length)return}else r.push(s)}if(t){for(let s of t)if(r.every(i=>Af(s,i)))throw new Error(`whole-script confusable: ${n.N}/${s.N}`)}}function Kq(n){let e=Vc;for(let t of n){let r=e.filter(s=>Af(s,t));if(!r.length)throw Vc.some(s=>Af(s,t))?eM(e[0],t):ZL(t);if(e=r,r.length==1)break}return e}function qq(n){return n.map(({input:e,error:t,output:r})=>{if(t){let s=t.message;throw new Error(n.length==1?s:`Invalid label ${dx(P0(e,63))}: ${s}`)}return qu(r)}).join(QL)}function ZL(n){return new Error(`disallowed character: ${hx(n)}`)}function eM(n,e){let t=hx(e),r=Vc.find(s=>s.P.has(e));return r&&(t=`${r.N} ${t}`),new Error(`illegal mixture: ${n.N} + ${t}`)}function Pd(n){return new Error(`illegal placement: ${n}`)}function Jq(n,e){for(let t of e)if(!Af(n,t))throw eM(n,t);if(n.M){let t=$L(e);for(let r=1,s=t.length;r<s;r++)if(Ab.has(t[r])){let i=r+1;for(let o;i<s&&Ab.has(o=t[i]);i++)for(let a=r;a<i;a++)if(t[a]==o)throw new Error(`duplicate non-spacing marks: ${hx(o)}`);if(i-r>aP)throw new Error(`excessive non-spacing marks: ${dx(P0(t.slice(r-1,i)))} (${i-r}/${aP})`);r=i}}}function Yq(n,e,t){let r=[],s=[];for(n=n.slice().reverse();n.length;){let i=Zq(n);if(i)s.length&&(r.push(e(s)),s=[]),r.push(t(i));else{let o=n.pop();if(va.has(o))s.push(o);else{let a=xb.get(o);if(a)s.push(...a);else if(!JL.has(o))throw ZL(o)}}}return s.length&&r.push(e(s)),r}function Xq(n){return n.filter(e=>e!=KL)}function Zq(n,e){let t=Tb,r,s=n.length;for(;s&&(t=t.get(n[--s]),!!t);){let{V:i}=t;i&&(r=i,n.length=s)}return r}const tM=new Uint8Array(32);tM.fill(0);function hP(n){return B(n.length!==0,"invalid ENS name; empty component","comp",n),n}function nM(n){const e=bi(eJ(n)),t=[];if(n.length===0)return t;let r=0;for(let s=0;s<e.length;s++)e[s]===46&&(t.push(hP(e.slice(r,s))),r=s+1);return B(r<e.length,"invalid ENS name; empty component","name",n),t.push(hP(e.slice(r))),t}function eJ(n){try{if(n.length===0)throw new Error("empty label");return Wq(n)}catch(e){B(!1,`invalid ENS name (${e.message})`,"name",n)}}function Sb(n){B(typeof n=="string","invalid ENS name; not a string","name",n),B(n.length,"invalid ENS name (empty label)","name",n);let e=tM;const t=nM(n);for(;t.length;)e=Ct(At([e,Ct(t.pop())]));return ie(e)}function tJ(n,e){const t=e;return B(t<=255,"DNS encoded label cannot exceed 255","length",t),ie(At(nM(n).map(r=>{B(r.length<=t,`label ${JSON.stringify(n)} exceeds ${t} bytes`,"name",n);const s=new Uint8Array(r.length+1);return s.set(r,1),s[0]=s.length-1,s})))+"00"}function pv(n,e){return{address:Qe(n),storageKeys:e.map((t,r)=>(B(Xe(t,32),"invalid slot",`storageKeys[${r}]`,t),t.toLowerCase()))}}function Bl(n){if(Array.isArray(n))return n.map((t,r)=>Array.isArray(t)?(B(t.length===2,"invalid slot set",`value[${r}]`,t),pv(t[0],t[1])):(B(t!=null&&typeof t=="object","invalid address-slot set","value",n),pv(t.address,t.storageKeys)));B(n!=null&&typeof n=="object","invalid access list","value",n);const e=Object.keys(n).map(t=>{const r=n[t].reduce((s,i)=>(s[i]=!0,s),{});return pv(t,Object.keys(r).sort())});return e.sort((t,r)=>t.address.localeCompare(r.address)),e}function nJ(n){let e;return typeof n=="string"?e=_f.computePublicKey(n,!1):e=n.publicKey,Qe(Ct("0x"+e.substring(4)).substring(26))}function rJ(n,e){return nJ(_f.recoverPublicKey(n,e))}const Vt=BigInt(0),sJ=BigInt(2),iJ=BigInt(27),oJ=BigInt(28),aJ=BigInt(35),lJ=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),gv=4096*32;function dP(n,e){let t=n.toString(16);for(;t.length<2;)t="0"+t;return t+=ch(e).substring(4),"0x"+t}function k0(n){return n==="0x"?null:Qe(n)}function fx(n,e){try{return Bl(n)}catch(t){B(!1,t.message,e,n)}}function op(n,e){return n==="0x"?0:Ee(n,e)}function Et(n,e){if(n==="0x")return Vt;const t=oe(n,e);return B(t<=lJ,"value exceeds uint size",e,t),t}function nt(n,e){const t=oe(n,"value"),r=Pn(t);return B(r.length<=32,"value too large",`tx.${e}`,t),r}function px(n){return Bl(n).map(e=>[e.address,e.storageKeys])}function cJ(n,e){B(Array.isArray(n),`invalid ${e}`,"value",n);for(let t=0;t<n.length;t++)B(Xe(n[t],32),"invalid ${ param } hash",`value[${t}]`,n[t]);return n}function uJ(n){const e=T0(n);B(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",n);const t={type:0,nonce:op(e[0],"nonce"),gasPrice:Et(e[1],"gasPrice"),gasLimit:Et(e[2],"gasLimit"),to:k0(e[3]),value:Et(e[4],"value"),data:ie(e[5]),chainId:Vt};if(e.length===6)return t;const r=Et(e[6],"v"),s=Et(e[7],"r"),i=Et(e[8],"s");if(s===Vt&&i===Vt)t.chainId=r;else{let o=(r-aJ)/sJ;o<Vt&&(o=Vt),t.chainId=o,B(o!==Vt||r===iJ||r===oJ,"non-canonical legacy v","v",e[6]),t.signature=ts.from({r:bl(e[7],32),s:bl(e[8],32),v:r})}return t}function hJ(n,e){const t=[nt(n.nonce,"nonce"),nt(n.gasPrice||0,"gasPrice"),nt(n.gasLimit,"gasLimit"),n.to||"0x",nt(n.value,"value"),n.data];let r=Vt;if(n.chainId!=Vt)r=oe(n.chainId,"tx.chainId"),B(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(n.signature){const i=n.signature.legacyChainId;i!=null&&(r=i)}if(!e)return r!==Vt&&(t.push(Pn(r)),t.push("0x"),t.push("0x")),El(t);let s=BigInt(27+e.yParity);return r!==Vt?s=ts.getChainIdV(r,e.v):BigInt(e.v)!==s&&B(!1,"tx.chainId/sig.v mismatch","sig",e),t.push(Pn(s)),t.push(Pn(e.r)),t.push(Pn(e.s)),El(t)}function gx(n,e){let t;try{if(t=op(e[0],"yParity"),t!==0&&t!==1)throw new Error("bad yParity")}catch{B(!1,"invalid yParity","yParity",e[0])}const r=bl(e[1],32),s=bl(e[2],32),i=ts.from({r,s,yParity:t});n.signature=i}function dJ(n){const e=T0(De(n).slice(1));B(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",ie(n));const t={type:2,chainId:Et(e[0],"chainId"),nonce:op(e[1],"nonce"),maxPriorityFeePerGas:Et(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Et(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Et(e[4],"gasLimit"),to:k0(e[5]),value:Et(e[6],"value"),data:ie(e[7]),accessList:fx(e[8],"accessList")};return e.length===9||gx(t,e.slice(9)),t}function fJ(n,e){const t=[nt(n.chainId,"chainId"),nt(n.nonce,"nonce"),nt(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),nt(n.maxFeePerGas||0,"maxFeePerGas"),nt(n.gasLimit,"gasLimit"),n.to||"0x",nt(n.value,"value"),n.data,px(n.accessList||[])];return e&&(t.push(nt(e.yParity,"yParity")),t.push(Pn(e.r)),t.push(Pn(e.s))),At(["0x02",El(t)])}function pJ(n){const e=T0(De(n).slice(1));B(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",ie(n));const t={type:1,chainId:Et(e[0],"chainId"),nonce:op(e[1],"nonce"),gasPrice:Et(e[2],"gasPrice"),gasLimit:Et(e[3],"gasLimit"),to:k0(e[4]),value:Et(e[5],"value"),data:ie(e[6]),accessList:fx(e[7],"accessList")};return e.length===8||gx(t,e.slice(8)),t}function gJ(n,e){const t=[nt(n.chainId,"chainId"),nt(n.nonce,"nonce"),nt(n.gasPrice||0,"gasPrice"),nt(n.gasLimit,"gasLimit"),n.to||"0x",nt(n.value,"value"),n.data,px(n.accessList||[])];return e&&(t.push(nt(e.yParity,"recoveryParam")),t.push(Pn(e.r)),t.push(Pn(e.s))),At(["0x01",El(t)])}function mJ(n){let e=T0(De(n).slice(1)),t="3",r=null;if(e.length===4&&Array.isArray(e[0])){t="3 (network format)";const i=e[1],o=e[2],a=e[3];B(Array.isArray(i),"invalid network format: blobs not an array","fields[1]",i),B(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),B(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),B(i.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),B(i.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let l=0;l<e[1].length;l++)r.push({data:i[l],commitment:o[l],proof:a[l]});e=e[0]}B(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${t}`,"data",ie(n));const s={type:3,chainId:Et(e[0],"chainId"),nonce:op(e[1],"nonce"),maxPriorityFeePerGas:Et(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Et(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Et(e[4],"gasLimit"),to:k0(e[5]),value:Et(e[6],"value"),data:ie(e[7]),accessList:fx(e[8],"accessList"),maxFeePerBlobGas:Et(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(s.blobs=r),B(s.to!=null,`invalid address for transaction type: ${t}`,"data",n),B(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",n);for(let i=0;i<s.blobVersionedHashes.length;i++)B(Xe(s.blobVersionedHashes[i],32),`invalid blobVersionedHash at index ${i}: must be length 32`,"data",n);return e.length===11||gx(s,e.slice(11)),s}function yJ(n,e,t){const r=[nt(n.chainId,"chainId"),nt(n.nonce,"nonce"),nt(n.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),nt(n.maxFeePerGas||0,"maxFeePerGas"),nt(n.gasLimit,"gasLimit"),n.to||vf,nt(n.value,"value"),n.data,px(n.accessList||[]),nt(n.maxFeePerBlobGas||0,"maxFeePerBlobGas"),cJ(n.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(nt(e.yParity,"yParity")),r.push(Pn(e.r)),r.push(Pn(e.s)),t)?At(["0x03",El([r,t.map(s=>s.data),t.map(s=>s.commitment),t.map(s=>s.proof)])]):At(["0x03",El(r)])}var ds,Zc,eu,tu,nu,ru,su,iu,ou,au,lu,cu,Wa,oo,ti,ao,uu,Xg;const Qs=class Qs{constructor(){j(this,uu);j(this,ds);j(this,Zc);j(this,eu);j(this,tu);j(this,nu);j(this,ru);j(this,su);j(this,iu);j(this,ou);j(this,au);j(this,lu);j(this,cu);j(this,Wa);j(this,oo);j(this,ti);j(this,ao);L(this,ds,null),L(this,Zc,null),L(this,tu,0),L(this,nu,Vt),L(this,ru,null),L(this,su,null),L(this,iu,null),L(this,eu,"0x"),L(this,ou,Vt),L(this,au,Vt),L(this,lu,null),L(this,cu,null),L(this,Wa,null),L(this,oo,null),L(this,ao,null),L(this,ti,null)}get type(){return A(this,ds)}set type(e){switch(e){case null:L(this,ds,null);break;case 0:case"legacy":L(this,ds,0);break;case 1:case"berlin":case"eip-2930":L(this,ds,1);break;case 2:case"london":case"eip-1559":L(this,ds,2);break;case 3:case"cancun":case"eip-4844":L(this,ds,3);break;default:B(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=A(this,Zc);return e==null&&this.type===3?vf:e}set to(e){L(this,Zc,e==null?null:Qe(e))}get nonce(){return A(this,tu)}set nonce(e){L(this,tu,Ee(e,"value"))}get gasLimit(){return A(this,nu)}set gasLimit(e){L(this,nu,oe(e))}get gasPrice(){const e=A(this,ru);return e==null&&(this.type===0||this.type===1)?Vt:e}set gasPrice(e){L(this,ru,e==null?null:oe(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=A(this,su);return e??(this.type===2||this.type===3?Vt:null)}set maxPriorityFeePerGas(e){L(this,su,e==null?null:oe(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=A(this,iu);return e??(this.type===2||this.type===3?Vt:null)}set maxFeePerGas(e){L(this,iu,e==null?null:oe(e,"maxFeePerGas"))}get data(){return A(this,eu)}set data(e){L(this,eu,ie(e))}get value(){return A(this,ou)}set value(e){L(this,ou,oe(e,"value"))}get chainId(){return A(this,au)}set chainId(e){L(this,au,oe(e))}get signature(){return A(this,lu)||null}set signature(e){L(this,lu,e==null?null:ts.from(e))}get accessList(){const e=A(this,cu)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){L(this,cu,e==null?null:Bl(e))}get maxFeePerBlobGas(){const e=A(this,Wa);return e==null&&this.type===3?Vt:e}set maxFeePerBlobGas(e){L(this,Wa,e==null?null:oe(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=A(this,oo);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){B(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)B(Xe(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}L(this,oo,e)}get blobs(){return A(this,ao)==null?null:A(this,ao).map(e=>Object.assign({},e))}set blobs(e){if(e==null){L(this,ao,null);return}const t=[],r=[];for(let s=0;s<e.length;s++){const i=e[s];if(ex(i)){Q(A(this,ti),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=De(i);if(B(o.length<=gv,"blob is too large",`blobs[${s}]`,i),o.length!==gv){const c=new Uint8Array(gv);c.set(o),o=c}const a=A(this,ti).blobToKzgCommitment(o),l=ie(A(this,ti).computeBlobKzgProof(o,a));t.push({data:ie(o),commitment:ie(a),proof:l}),r.push(dP(1,a))}else{const o=ie(i.commitment);t.push({data:ie(i.data),commitment:o,proof:ie(i.proof)}),r.push(dP(1,o))}}L(this,ao,t),L(this,oo,r)}get kzg(){return A(this,ti)}set kzg(e){L(this,ti,e)}get hash(){return this.signature==null?null:Ct(J(this,uu,Xg).call(this,!0,!1))}get unsignedHash(){return Ct(this.unsignedSerialized)}get from(){return this.signature==null?null:rJ(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:_f.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return J(this,uu,Xg).call(this,!0,!0)}get unsignedSerialized(){return J(this,uu,Xg).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,t=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,s=A(this,Wa)!=null||A(this,oo);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Q(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Q(!t||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Q(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return this.type!=null?i.push(this.type):t?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(s&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Qs.from(this)}toJSON(){const e=t=>t==null?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Qs;if(typeof e=="string"){const r=De(e);if(r[0]>=127)return Qs.from(uJ(r));switch(r[0]){case 1:return Qs.from(pJ(r));case 2:return Qs.from(dJ(r));case 3:return Qs.from(mJ(r))}Q(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const t=new Qs;return e.type!=null&&(t.type=e.type),e.to!=null&&(t.to=e.to),e.nonce!=null&&(t.nonce=e.nonce),e.gasLimit!=null&&(t.gasLimit=e.gasLimit),e.gasPrice!=null&&(t.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(t.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(t.data=e.data),e.value!=null&&(t.value=e.value),e.chainId!=null&&(t.chainId=e.chainId),e.signature!=null&&(t.signature=ts.from(e.signature)),e.accessList!=null&&(t.accessList=e.accessList),e.blobVersionedHashes!=null&&(t.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(t.kzg=e.kzg),e.blobs!=null&&(t.blobs=e.blobs),e.hash!=null&&(B(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),B(t.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(B(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),B(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}};ds=new WeakMap,Zc=new WeakMap,eu=new WeakMap,tu=new WeakMap,nu=new WeakMap,ru=new WeakMap,su=new WeakMap,iu=new WeakMap,ou=new WeakMap,au=new WeakMap,lu=new WeakMap,cu=new WeakMap,Wa=new WeakMap,oo=new WeakMap,ti=new WeakMap,ao=new WeakMap,uu=new WeakSet,Xg=function(e,t){Q(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return hJ(this,r);case 1:return gJ(this,r);case 2:return fJ(this,r);case 3:return yJ(this,r,t?this.blobs:null)}Q(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let _y=Qs;const rM=new Uint8Array(32);rM.fill(0);const wJ=BigInt(-1),sM=BigInt(0),iM=BigInt(1),vJ=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function _J(n){const e=De(n),t=e.length%32;return t?At([e,rM.slice(t)]):ie(e)}const bJ=Yo(iM,32),EJ=Yo(sM,32),fP={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},mv=["name","version","chainId","verifyingContract","salt"];function pP(n){return function(e){return B(typeof e=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const xJ={name:pP("name"),version:pP("version"),chainId:function(n){const e=oe(n,"domain.chainId");return B(e>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(e)?Number(e):bc(e)},verifyingContract:function(n){try{return Qe(n).toLowerCase()}catch{}B(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const e=De(n,"domain.salt");return B(e.length===32,'invalid domain value "salt"',"domain.salt",n),ie(e)}};function yv(n){{const e=n.match(/^(u?)int(\d+)$/);if(e){const t=e[1]==="",r=parseInt(e[2]);B(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",n);const s=Pa(vJ,t?r-1:r),i=t?(s+iM)*wJ:sM;return function(o){const a=oe(o,"value");return B(a>=i&&a<=s,`value out-of-bounds for ${n}`,"value",a),Yo(t?$D(a,256):a,32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return B(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",n),function(r){const s=De(r);return B(s.length===t,`invalid length for ${n}`,"value",r),_J(r)}}}switch(n){case"address":return function(e){return bl(Qe(e),32)};case"bool":return function(e){return e?bJ:EJ};case"bytes":return function(e){return Ct(e)};case"string":return function(e){return xl(e)}}return null}function gP(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}function _g(n){const e=n.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:n}}var Nf,ni,hu,Cy,oM;const mr=class mr{constructor(e){j(this,Cy);F(this,"primaryType");j(this,Nf);j(this,ni);j(this,hu);L(this,ni,new Map),L(this,hu,new Map);const t=new Map,r=new Map,s=new Map,i={};Object.keys(e).forEach(l=>{i[l]=e[l].map(({name:c,type:u})=>{let{base:d,index:f}=_g(u);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:c,type:d+(f||"")}}),t.set(l,new Set),r.set(l,[]),s.set(l,new Set)}),L(this,Nf,JSON.stringify(i));for(const l in i){const c=new Set;for(const u of i[l]){B(!c.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(l)}`,"types",e),c.add(u.name);const d=_g(u.type).base;B(d!==l,`circular type reference to ${JSON.stringify(d)}`,"types",e),!yv(d)&&(B(r.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),r.get(d).push(l),t.get(l).add(d))}}const o=Array.from(r.keys()).filter(l=>r.get(l).length===0);B(o.length!==0,"missing primary type","types",e),B(o.length===1,`ambiguous primary types or unused types: ${o.map(l=>JSON.stringify(l)).join(", ")}`,"types",e),de(this,{primaryType:o[0]});function a(l,c){B(!c.has(l),`circular type reference to ${JSON.stringify(l)}`,"types",e),c.add(l);for(const u of t.get(l))if(r.has(u)){a(u,c);for(const d of c)s.get(d).add(u)}c.delete(l)}a(this.primaryType,new Set);for(const[l,c]of s){const u=Array.from(c);u.sort(),A(this,ni).set(l,gP(l,i[l])+u.map(d=>gP(d,i[d])).join(""))}}get types(){return JSON.parse(A(this,Nf))}getEncoder(e){let t=A(this,hu).get(e);return t||(t=J(this,Cy,oM).call(this,e),A(this,hu).set(e,t)),t}encodeType(e){const t=A(this,ni).get(e);return B(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Ct(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(yv(e))return r(e,t);const s=_g(e).array;if(s)return B(s.count===-1||s.count===t.length,`array length mismatch; expected length ${s.count}`,"value",t),t.map(o=>this._visit(s.prefix,o,r));const i=this.types[e];if(i)return i.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,t[a],r),o),{});B(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new mr(e)}static getPrimaryType(e){return mr.from(e).primaryType}static hashStruct(e,t,r){return mr.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(e[r]==null)continue;const s=fP[r];B(s,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:s})}return t.sort((r,s)=>mv.indexOf(r.name)-mv.indexOf(s.name)),mr.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return At(["0x1901",mr.hashDomain(e),mr.from(t).hash(r)])}static hash(e,t,r){return Ct(mr.encode(e,t,r))}static async resolveNames(e,t,r,s){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const i={};e.verifyingContract&&!Xe(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");const o=mr.from(t);o.visit(r,(a,l)=>(a==="address"&&!Xe(l,20)&&(i[l]="0x"),l));for(const a in i)i[a]=await s(a);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=o.visit(r,(a,l)=>a==="address"&&i[l]?i[l]:l),{domain:e,value:r}}static getPayload(e,t,r){mr.hashDomain(e);const s={},i=[];mv.forEach(l=>{const c=e[l];c!=null&&(s[l]=xJ[l](c),i.push({name:l,type:fP[l]}))});const o=mr.from(t);t=o.types;const a=Object.assign({},t);return B(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=i,o.encode(r),{types:a,domain:s,primaryType:o.primaryType,message:o.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return ie(De(c));if(l.match(/^u?int/))return oe(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return B(typeof c=="string","invalid string","value",c),c}B(!1,"unsupported type","type",l)})}}};Nf=new WeakMap,ni=new WeakMap,hu=new WeakMap,Cy=new WeakSet,oM=function(e){{const s=yv(e);if(s)return s}const t=_g(e).array;if(t){const s=t.prefix,i=this.getEncoder(s);return o=>{B(t.count===-1||t.count===o.length,`array length mismatch; expected length ${t.count}`,"value",o);let a=o.map(i);return A(this,ni).has(s)&&(a=a.map(Ct)),Ct(At(a))}}const r=this.types[e];if(r){const s=xl(A(this,ni).get(e));return i=>{const o=r.map(({name:a,type:l})=>{const c=this.getEncoder(l)(i[a]);return A(this,ni).has(l)?Ct(c):c});return o.unshift(s),At(o)}}B(!1,`unknown type: ${e}`,"type",e)};let by=mr;function Nn(n){const e=new Set;return n.forEach(t=>e.add(t)),Object.freeze(e)}const AJ="external public payable override",TJ=Nn(AJ.split(" ")),aM="constant external internal payable private public pure view override",SJ=Nn(aM.split(" ")),lM="constructor error event fallback function receive struct",cM=Nn(lM.split(" ")),uM="calldata memory storage payable indexed",IJ=Nn(uM.split(" ")),CJ="tuple returns",PJ=[lM,uM,CJ,aM].join(" "),kJ=Nn(PJ.split(" ")),RJ={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},NJ=new RegExp("^(\\s*)"),OJ=new RegExp("^([0-9]+)"),DJ=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),hM=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),dM=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var $t,Hr,Of,Ib;const Py=class Py{constructor(e){j(this,Of);j(this,$t);j(this,Hr);L(this,$t,0),L(this,Hr,e.slice())}get offset(){return A(this,$t)}get length(){return A(this,Hr).length-A(this,$t)}clone(){return new Py(A(this,Hr))}reset(){L(this,$t,0)}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const t=this.peek();throw new Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=J(this,Of,Ib).call(this,A(this,$t)+1,e.match+1);return L(this,$t,e.match+1),t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;A(this,$t)<e.match-1;){const r=this.peek().linkNext;t.push(J(this,Of,Ib).call(this,A(this,$t)+1,r)),L(this,$t,r)}return L(this,$t,e.match+1),t}peek(){if(A(this,$t)>=A(this,Hr).length)throw new Error("out-of-bounds");return A(this,Hr)[A(this,$t)]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return Sh(this,$t)._++,e}toString(){const e=[];for(let t=A(this,$t);t<A(this,Hr).length;t++){const r=A(this,Hr)[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};$t=new WeakMap,Hr=new WeakMap,Of=new WeakSet,Ib=function(e=0,t=0){return new Py(A(this,Hr).slice(e,t).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let ns=Py;function sa(n){const e=[],t=o=>{const a=i<n.length?JSON.stringify(n[i]):"$EOI";throw new Error(`invalid token ${a} at ${i}: ${o}`)};let r=[],s=[],i=0;for(;i<n.length;){let o=n.substring(i),a=o.match(NJ);a&&(i+=a[1].length,o=n.substring(i));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(l);let c=RJ[o[0]]||"";if(c){if(l.type=c,l.text=o[0],i++,c==="OPEN_PAREN")r.push(e.length-1),s.push(e.length-1);else if(c=="CLOSE_PAREN")r.length===0&&t("no matching open bracket"),l.match=r.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=s.pop(),e[l.linkBack].linkNext=e.length-1;else if(c==="COMMA")l.linkBack=s.pop(),e[l.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(c==="OPEN_BRACKET")l.type="BRACKET";else if(c==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;u=d+u,e[e.length-1].value=Ee(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=o.match(DJ),a){if(l.text=a[1],i+=l.text.length,kJ.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(dM)){l.type="TYPE";continue}l.type="ID";continue}if(a=o.match(OJ),a){l.text=a[1],l.type="NUMBER",i+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${i}`)}return new ns(e.map(o=>Object.freeze(o)))}function mP(n,e){let t=[];for(const r in e.keys())n.has(r)&&t.push(r);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function R0(n,e){if(e.peekKeyword(cM)){const t=e.pop().text;if(t!==n)throw new Error(`expected ${n}, got ${t}`)}return e.popType("ID")}function Ri(n,e){const t=new Set;for(;;){const r=n.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(n.pop(),t.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);t.add(r)}return Object.freeze(t)}function fM(n){let e=Ri(n,SJ);return mP(e,Nn("constant payable nonpayable".split(" "))),mP(e,Nn("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Ei(n,e){return n.popParams().map(t=>Zt.from(t,e))}function pM(n){if(n.peekType("AT")){if(n.pop(),n.peekType("NUMBER"))return oe(n.pop().text);throw new Error("invalid gas")}return null}function Al(n){if(n.length)throw new Error(`unexpected tokens at offset ${n.offset}: ${n.toString()}`)}const LJ=new RegExp(/^(.*)\[([0-9]*)\]$/);function yP(n){const e=n.match(dM);if(B(e,"invalid type","type",n),n==="uint")return"uint256";if(n==="int")return"int256";if(e[2]){const t=parseInt(e[2]);B(t!==0&&t<=32,"invalid bytes length","type",n)}else if(e[3]){const t=parseInt(e[3]);B(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",n)}return n}const at={},Xn=Symbol.for("_ethers_internal"),wP="_ParamTypeInternal",vP="_ErrorInternal",_P="_EventInternal",bP="_ConstructorInternal",EP="_FallbackInternal",xP="_FunctionInternal",AP="_StructInternal";var du,Zg;const yr=class yr{constructor(e,t,r,s,i,o,a,l){j(this,du);F(this,"name");F(this,"type");F(this,"baseType");F(this,"indexed");F(this,"components");F(this,"arrayLength");F(this,"arrayChildren");if(sp(e,at,"ParamType"),Object.defineProperty(this,Xn,{value:wP}),o&&(o=Object.freeze(o.slice())),s==="array"){if(a==null||l==null)throw new Error("")}else if(a!=null||l!=null)throw new Error("");if(s==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");de(this,{name:t,type:r,baseType:s,indexed:i,components:o,arrayLength:a,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=r,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(s=>r.arrayChildren.walk(s,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((s,i)=>r.components[i].walk(s,t))}return t(this.type,e)}async walkAsync(e,t){const r=[],s=[e];return J(this,du,Zg).call(this,r,e,t,i=>{s[0]=i}),r.length&&await Promise.all(r),s[0]}static from(e,t){if(yr.isParamType(e))return e;if(typeof e=="string")try{return yr.from(sa(e),t)}catch{B(!1,"invalid param type","obj",e)}else if(e instanceof ns){let a="",l="",c=null;Ri(e,Nn(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",c=e.popParams().map(y=>yr.from(y)),a=`tuple(${c.map(y=>y.format()).join(",")})`):(a=yP(e.popType("TYPE")),l=a);let u=null,d=null;for(;e.length&&e.peekType("BRACKET");){const y=e.pop();u=new yr(at,"",a,l,null,c,d,u),d=y.value,a+=y.text,l="array",c=null}let f=null;if(Ri(e,IJ).has("indexed")){if(!t)throw new Error("");f=!0}const g=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new yr(at,g,a,l,f,c,d,u)}const r=e.name;B(!r||typeof r=="string"&&r.match(hM),"invalid name","obj.name",r);let s=e.indexed;s!=null&&(B(t,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,o=i.match(LJ);if(o){const a=parseInt(o[2]||"-1"),l=yr.from({type:o[1],components:e.components});return new yr(at,r||"",i,"array",s,null,a,l)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const a=e.components!=null?e.components.map(c=>yr.from(c)):null;return new yr(at,r||"",i,"tuple",s,a,null,null)}return i=yP(e.type),new yr(at,r||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[Xn]===wP}};du=new WeakSet,Zg=function(e,t,r,s){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=t.slice();a.forEach((l,c)=>{var u;J(u=o,du,Zg).call(u,e,l,r,d=>{a[c]=d})}),s(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(t))a=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");a=o.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in t))throw new Error(`missing value for component ${l.name}`);return t[l.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((l,c)=>{var u;J(u=o[c],du,Zg).call(u,e,l,r,d=>{a[c]=d})}),s(a);return}const i=r(this.type,t);i.then?e.push(async function(){s(await i)}()):s(i)};let Zt=yr;class Tl{constructor(e,t,r){F(this,"type");F(this,"inputs");sp(e,at,"Fragment"),r=Object.freeze(r.slice()),de(this,{type:t,inputs:r})}static from(e){if(typeof e=="string"){try{Tl.from(JSON.parse(e))}catch{}return Tl.from(sa(e))}if(e instanceof ns)switch(e.peekKeyword(cM)){case"constructor":return yi.from(e);case"error":return Gn.from(e);case"event":return _s.from(e);case"fallback":case"receive":return Js.from(e);case"function":return bs.from(e);case"struct":return ll.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return yi.from(e);case"error":return Gn.from(e);case"event":return _s.from(e);case"fallback":case"receive":return Js.from(e);case"function":return bs.from(e);case"struct":return ll.from(e)}Q(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}B(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return yi.isFragment(e)}static isError(e){return Gn.isFragment(e)}static isEvent(e){return _s.isFragment(e)}static isFunction(e){return bs.isFragment(e)}static isStruct(e){return ll.isFragment(e)}}class N0 extends Tl{constructor(t,r,s,i){super(t,r,i);F(this,"name");B(typeof s=="string"&&s.match(hM),"invalid identifier","name",s),i=Object.freeze(i.slice()),de(this,{name:s})}}function Tf(n,e){return"("+e.map(t=>t.format(n)).join(n==="full"?", ":",")+")"}class Gn extends N0{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,Xn,{value:vP})}get selector(){return xl(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+Tf(e,this.inputs)),t.join(" ")}static from(e){if(Gn.isFragment(e))return e;if(typeof e=="string")return Gn.from(sa(e));if(e instanceof ns){const t=R0("error",e),r=Ei(e);return Al(e),new Gn(at,t,r)}return new Gn(at,e.name,e.inputs?e.inputs.map(Zt.from):[])}static isFragment(e){return e&&e[Xn]===vP}}class _s extends N0{constructor(t,r,s,i){super(t,"event",r,s);F(this,"anonymous");Object.defineProperty(this,Xn,{value:_P}),de(this,{anonymous:i})}get topicHash(){return xl(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});const r=[];return t!=="sighash"&&r.push("event"),r.push(this.name+Tf(t,this.inputs)),t!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(t,r){return r=(r||[]).map(i=>Zt.from(i)),new _s(at,t,r,!1).topicHash}static from(t){if(_s.isFragment(t))return t;if(typeof t=="string")try{return _s.from(sa(t))}catch{B(!1,"invalid event fragment","obj",t)}else if(t instanceof ns){const r=R0("event",t),s=Ei(t,!0),i=!!Ri(t,Nn(["anonymous"])).has("anonymous");return Al(t),new _s(at,r,s,i)}return new _s(at,t.name,t.inputs?t.inputs.map(r=>Zt.from(r,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[Xn]===_P}}class yi extends Tl{constructor(t,r,s,i,o){super(t,r,s);F(this,"payable");F(this,"gas");Object.defineProperty(this,Xn,{value:bP}),de(this,{payable:i,gas:o})}format(t){if(Q(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t)))});const r=[`constructor${Tf(t,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(t){if(yi.isFragment(t))return t;if(typeof t=="string")try{return yi.from(sa(t))}catch{B(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof ns){Ri(t,Nn(["constructor"]));const r=Ei(t),s=!!Ri(t,TJ).has("payable"),i=pM(t);return Al(t),new yi(at,"constructor",r,s,i)}return new yi(at,"constructor",t.inputs?t.inputs.map(Zt.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Xn]===bP}}class Js extends Tl{constructor(t,r,s){super(t,"fallback",r);F(this,"payable");Object.defineProperty(this,Xn,{value:EP}),de(this,{payable:s})}format(t){const r=this.inputs.length===0?"receive":"fallback";if(t==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:s})}return`${r}()${this.payable?" payable":""}`}static from(t){if(Js.isFragment(t))return t;if(typeof t=="string")try{return Js.from(sa(t))}catch{B(!1,"invalid fallback fragment","obj",t)}else if(t instanceof ns){const r=t.toString(),s=t.peekKeyword(Nn(["fallback","receive"]));if(B(s,"type must be fallback or receive","obj",r),t.popKeyword(Nn(["fallback","receive"]))==="receive"){const l=Ei(t);return B(l.length===0,"receive cannot have arguments","obj.inputs",l),Ri(t,Nn(["payable"])),Al(t),new Js(at,[],!0)}let o=Ei(t);o.length?B(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(l=>l.format("minimal")).join(", ")):o=[Zt.from("bytes")];const a=fM(t);if(B(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),Ri(t,Nn(["returns"])).has("returns")){const l=Ei(t);B(l.length===1&&l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(c=>c.format("minimal")).join(", "))}return Al(t),new Js(at,o,a==="payable")}if(t.type==="receive")return new Js(at,[],!0);if(t.type==="fallback"){const r=[Zt.from("bytes")],s=t.stateMutability==="payable";return new Js(at,r,s)}B(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[Xn]===EP}}class bs extends N0{constructor(t,r,s,i,o,a){super(t,"function",r,i);F(this,"constant");F(this,"outputs");F(this,"stateMutability");F(this,"payable");F(this,"gas");Object.defineProperty(this,Xn,{value:xP}),o=Object.freeze(o.slice()),de(this,{constant:s==="view"||s==="pure",gas:a,outputs:o,payable:s==="payable",stateMutability:s})}get selector(){return xl(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(t))),outputs:this.outputs.map(s=>JSON.parse(s.format(t)))});const r=[];return t!=="sighash"&&r.push("function"),r.push(this.name+Tf(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(Tf(t,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(t,r){return r=(r||[]).map(i=>Zt.from(i)),new bs(at,t,"view",r,[],null).selector}static from(t){if(bs.isFragment(t))return t;if(typeof t=="string")try{return bs.from(sa(t))}catch{B(!1,"invalid function fragment","obj",t)}else if(t instanceof ns){const s=R0("function",t),i=Ei(t),o=fM(t);let a=[];Ri(t,Nn(["returns"])).has("returns")&&(a=Ei(t));const l=pM(t);return Al(t),new bs(at,s,o,i,a,l)}let r=t.stateMutability;return r==null&&(r="payable",typeof t.constant=="boolean"?(r="view",t.constant||(r="payable",typeof t.payable=="boolean"&&!t.payable&&(r="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(r="nonpayable")),new bs(at,t.name,r,t.inputs?t.inputs.map(Zt.from):[],t.outputs?t.outputs.map(Zt.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Xn]===xP}}class ll extends N0{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,Xn,{value:AP})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return ll.from(sa(e))}catch{B(!1,"invalid struct fragment","obj",e)}else if(e instanceof ns){const t=R0("struct",e),r=Ei(e);return Al(e),new ll(at,t,r)}return new ll(at,e.name,e.inputs?e.inputs.map(Zt.from):[])}static isFragment(e){return e&&e[Xn]===AP}}const rs=new Map;rs.set(0,"GENERIC_PANIC");rs.set(1,"ASSERT_FALSE");rs.set(17,"OVERFLOW");rs.set(18,"DIVIDE_BY_ZERO");rs.set(33,"ENUM_RANGE_ERROR");rs.set(34,"BAD_STORAGE_DATA");rs.set(49,"STACK_UNDERFLOW");rs.set(50,"ARRAY_RANGE_ERROR");rs.set(65,"OUT_OF_MEMORY");rs.set(81,"UNINITIALIZED_FUNCTION_CALL");const MJ=new RegExp(/^bytes([0-9]*)$/),FJ=new RegExp(/^(u?int)([0-9]*)$/);let wv=null,TP=1024;function BJ(n,e,t,r){let s="missing revert data",i=null;const o=null;let a=null;if(t){s="execution reverted";const c=De(t);if(t=ie(t),c.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(c.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(ie(c.slice(0,4))==="0x08c379a0")try{i=r.decode(["string"],c.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(ie(c.slice(0,4))==="0x4e487b71")try{const u=Number(r.decode(["uint256"],c.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},i=`Panic due to ${rs.get(u)||"UNKNOWN"}(${u})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const l={to:e.to?Qe(e.to):null,data:e.data||"0x"};return e.from&&(l.from=Qe(e.from)),dt(s,"CALL_EXCEPTION",{action:n,data:t,reason:i,transaction:l,invocation:o,revert:a})}var lo,rc;const ky=class ky{constructor(){j(this,lo)}getDefaultValue(e){const t=e.map(s=>J(this,lo,rc).call(this,Zt.from(s)));return new vg(t,"_").defaultValue()}encode(e,t){HD(t.length,e.length,"types/values length mismatch");const r=e.map(o=>J(this,lo,rc).call(this,Zt.from(o))),s=new vg(r,"_"),i=new fb;return s.encode(i,t),i.data}decode(e,t,r){const s=e.map(o=>J(this,lo,rc).call(this,Zt.from(o)));return new vg(s,"_").decode(new pb(t,r,TP))}static _setDefaultMaxInflation(e){B(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),TP=e}static defaultAbiCoder(){return wv==null&&(wv=new ky),wv}static getBuiltinCallException(e,t,r){return BJ(e,t,r,ky.defaultAbiCoder())}};lo=new WeakSet,rc=function(e){if(e.isArray())return new aq(J(this,lo,rc).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new vg(e.components.map(r=>J(this,lo,rc).call(this,r)),e.name);switch(e.baseType){case"address":return new iq(e.name);case"bool":return new lq(e.name);case"string":return new yq(e.name);case"bytes":return new cq(e.name);case"":return new dq(e.name)}let t=e.type.match(FJ);if(t){let r=parseInt(t[2]||"256");return B(r!==0&&r<=256&&r%8===0,"invalid "+t[1]+" bit length","param",e),new mq(r/8,t[1]==="int",e.name)}if(t=e.type.match(MJ),t){let r=parseInt(t[1]);return B(r!==0&&r<=32,"invalid bytes length","param",e),new uq(r,e.name)}B(!1,"invalid type","type",e.type)};let Sf=ky;class UJ{constructor(e,t,r){F(this,"fragment");F(this,"name");F(this,"signature");F(this,"topic");F(this,"args");const s=e.name,i=e.format();de(this,{fragment:e,name:s,signature:i,topic:t,args:r})}}class VJ{constructor(e,t,r,s){F(this,"fragment");F(this,"name");F(this,"args");F(this,"signature");F(this,"selector");F(this,"value");const i=e.name,o=e.format();de(this,{fragment:e,name:i,args:r,signature:o,selector:t,value:s})}}class jJ{constructor(e,t,r){F(this,"fragment");F(this,"name");F(this,"args");F(this,"signature");F(this,"selector");const s=e.name,i=e.format();de(this,{fragment:e,name:s,args:r,signature:i,selector:t})}}class SP{constructor(e){F(this,"hash");F(this,"_isIndexed");de(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const IP={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},CP={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:n=>`reverted with reason string ${JSON.stringify(n)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:n=>{let e="unknown panic code";return n>=0&&n<=255&&IP[n.toString()]&&(e=IP[n.toString()]),`reverted with panic code 0x${n.toString(16)} (${e})`}}};var fs,ps,gs,cn,Ns,em,tm;const xa=class xa{constructor(e){j(this,Ns);F(this,"fragments");F(this,"deploy");F(this,"fallback");F(this,"receive");j(this,fs);j(this,ps);j(this,gs);j(this,cn);let t=[];typeof e=="string"?t=JSON.parse(e):t=e,L(this,gs,new Map),L(this,fs,new Map),L(this,ps,new Map);const r=[];for(const o of t)try{r.push(Tl.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}de(this,{fragments:Object.freeze(r)});let s=null,i=!1;L(this,cn,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let l;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}de(this,{deploy:o});return;case"fallback":o.inputs.length===0?i=!0:(B(!s||o.payable!==s.payable,"conflicting fallback fragments",`fragments[${a}]`,o),s=o,i=s.payable);return;case"function":l=A(this,gs);break;case"event":l=A(this,ps);break;case"error":l=A(this,fs);break;default:return}const c=o.format();l.has(c)||l.set(c,o)}),this.deploy||de(this,{deploy:yi.from("constructor()")}),de(this,{fallback:s,receive:i})}format(e){const t=e?"minimal":"full";return this.fragments.map(s=>s.format(t))}formatJson(){const e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return Sf.defaultAbiCoder()}getFunctionName(e){const t=J(this,Ns,em).call(this,e,null,!1);return B(t,"no matching function","key",e),t.name}hasFunction(e){return!!J(this,Ns,em).call(this,e,null,!1)}getFunction(e,t){return J(this,Ns,em).call(this,e,t||null,!0)}forEachFunction(e){const t=Array.from(A(this,gs).keys());t.sort((r,s)=>r.localeCompare(s));for(let r=0;r<t.length;r++){const s=t[r];e(A(this,gs).get(s),r)}}getEventName(e){const t=J(this,Ns,tm).call(this,e,null,!1);return B(t,"no matching event","key",e),t.name}hasEvent(e){return!!J(this,Ns,tm).call(this,e,null,!1)}getEvent(e,t){return J(this,Ns,tm).call(this,e,t||null,!0)}forEachEvent(e){const t=Array.from(A(this,ps).keys());t.sort((r,s)=>r.localeCompare(s));for(let r=0;r<t.length;r++){const s=t[r];e(A(this,ps).get(s),r)}}getError(e,t){if(Xe(e)){const s=e.toLowerCase();if(CP[s])return Gn.from(CP[s].signature);for(const i of A(this,fs).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,o]of A(this,fs))i.split("(")[0]===e&&s.push(o);if(s.length===0)return e==="Error"?Gn.from("error Error(string)"):e==="Panic"?Gn.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(o=>JSON.stringify(o.format())).join(", ");B(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=Gn.from(e).format(),e==="Error(string)")return Gn.from("error Error(string)");if(e==="Panic(uint256)")return Gn.from("error Panic(uint256)");const r=A(this,fs).get(e);return r||null}forEachError(e){const t=Array.from(A(this,fs).keys());t.sort((r,s)=>r.localeCompare(s));for(let r=0;r<t.length;r++){const s=t[r];e(A(this,fs).get(s),r)}}_decodeParams(e,t){return A(this,cn).decode(e,t)}_encodeParams(e,t){return A(this,cn).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){const r=this.getError(e);B(r,"unknown error","fragment",e),e=r}return B(ft(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,ft(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){const r=this.getError(e);B(r,"unknown error","fragment",e),e=r}return At([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){const r=this.getFunction(e);B(r,"unknown function","fragment",e),e=r}return B(ft(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,ft(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){const r=this.getFunction(e);B(r,"unknown function","fragment",e),e=r}return At([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){const i=this.getFunction(e);B(i,"unknown function","fragment",e),e=i}let r="invalid length for result data";const s=Cn(t);if(s.length%32===0)try{return A(this,cn).decode(e.outputs,s)}catch{r="could not decode result data"}Q(!1,r,"BAD_DATA",{value:ie(s),info:{method:e.name,signature:e.format()}})}makeError(e,t){const r=De(e,"data"),s=Sf.getBuiltinCallException("call",t,r);if(s.message.startsWith("execution reverted (unknown custom error)")){const a=ie(r.slice(0,4)),l=this.getError(a);if(l)try{const c=A(this,cn).decode(l.inputs,r.slice(4));s.revert={name:l.name,signature:l.format(),args:c},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(t);return o&&(s.invocation={method:o.name,signature:o.signature,args:o.args}),s}encodeFunctionResult(e,t){if(typeof e=="string"){const r=this.getFunction(e);B(r,"unknown function","fragment",e),e=r}return ie(A(this,cn).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){const i=this.getEvent(e);B(i,"unknown event","eventFragment",e),e=i}Q(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const s=(i,o)=>i.type==="string"?xl(o):i.type==="bytes"?Ct(ie(o)):(i.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":i.type.match(/^u?int/)?o=Yo(o):i.type.match(/^bytes/)?o=lQ(o,32):i.type==="address"&&A(this,cn).encode(["address"],[o]),bl(ie(o),32));for(t.forEach((i,o)=>{const a=e.inputs[o];if(!a.indexed){B(i==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,i);return}i==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?B(!1,"filtering with tuples or arrays not supported","contract."+a.name,i):Array.isArray(i)?r.push(i.map(l=>s(a,l))):r.push(s(a,i))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,t){if(typeof e=="string"){const o=this.getEvent(e);B(o,"unknown event","eventFragment",e),e=o}const r=[],s=[],i=[];return e.anonymous||r.push(e.topicHash),B(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((o,a)=>{const l=t[a];if(o.indexed)if(o.type==="string")r.push(xl(l));else if(o.type==="bytes")r.push(Ct(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(A(this,cn).encode([o.type],[l]))}else s.push(o),i.push(l)}),{data:A(this,cn).encode(s,i),topics:r}}decodeEventLog(e,t,r){if(typeof e=="string"){const p=this.getEvent(e);B(p,"unknown event","eventFragment",e),e=p}if(r!=null&&!e.anonymous){const p=e.topicHash;B(Xe(r[0],32)&&r[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],i=[],o=[];e.inputs.forEach((p,g)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(s.push(Zt.from({type:"bytes32",name:p.name})),o.push(!0)):(s.push(p),o.push(!1)):(i.push(p),o.push(!1))});const a=r!=null?A(this,cn).decode(s,At(r)):null,l=A(this,cn).decode(i,t,!0),c=[],u=[];let d=0,f=0;return e.inputs.forEach((p,g)=>{let y=null;if(p.indexed)if(a==null)y=new SP(null);else if(o[g])y=new SP(a[f++]);else try{y=a[f++]}catch(v){y=v}else try{y=l[d++]}catch(v){y=v}c.push(y),u.push(p.name||null)}),Gu.fromItems(c,u)}parseTransaction(e){const t=De(e.data,"tx.data"),r=oe(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(ie(t.slice(0,4)));if(!s)return null;const i=A(this,cn).decode(s.inputs,t.slice(4));return new VJ(s,s.selector,i,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new UJ(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=ie(e),r=this.getError(ft(t,0,4));if(!r)return null;const s=A(this,cn).decode(r.inputs,ft(t,4));return new jJ(r,r.selector,s)}static from(e){return e instanceof xa?e:typeof e=="string"?new xa(JSON.parse(e)):typeof e.formatJson=="function"?new xa(e.formatJson()):typeof e.format=="function"?new xa(e.format("json")):new xa(e)}};fs=new WeakMap,ps=new WeakMap,gs=new WeakMap,cn=new WeakMap,Ns=new WeakSet,em=function(e,t,r){if(Xe(e)){const i=e.toLowerCase();for(const o of A(this,gs).values())if(i===o.selector)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of A(this,gs))o.split("(")[0]===e&&i.push(a);if(t){const o=t.length>0?t[t.length-1]:null;let a=t.length,l=!0;wn.isTyped(o)&&o.type==="overrides"&&(l=!1,a--);for(let c=i.length-1;c>=0;c--){const u=i[c].inputs.length;u!==a&&(!l||u!==a-1)&&i.splice(c,1)}for(let c=i.length-1;c>=0;c--){const u=i[c].inputs;for(let d=0;d<t.length;d++)if(wn.isTyped(t[d])){if(d>=u.length){if(t[d].type==="overrides")continue;i.splice(c,1);break}if(t[d].type!==u[d].baseType){i.splice(c,1);break}}}}if(i.length===1&&t&&t.length!==i[0].inputs.length){const o=t[t.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(a=>JSON.stringify(a.format())).join(", ");B(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return i[0]}const s=A(this,gs).get(bs.from(e).format());return s||null},tm=function(e,t,r){if(Xe(e)){const i=e.toLowerCase();for(const o of A(this,ps).values())if(i===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const i=[];for(const[o,a]of A(this,ps))o.split("(")[0]===e&&i.push(a);if(t){for(let o=i.length-1;o>=0;o--)i[o].inputs.length<t.length&&i.splice(o,1);for(let o=i.length-1;o>=0;o--){const a=i[o].inputs;for(let l=0;l<t.length;l++)if(wn.isTyped(t[l])&&t[l].type!==a[l].baseType){i.splice(o,1);break}}}if(i.length===0)return null;if(i.length>1&&r){const o=i.map(a=>JSON.stringify(a.format())).join(", ");B(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return i[0]}const s=A(this,ps).get(_s.from(e).format());return s||null};let Cb=xa;const gM=BigInt(0);function jc(n){return n??null}function vt(n){return n==null?null:n.toString()}class PP{constructor(e,t,r){F(this,"gasPrice");F(this,"maxFeePerGas");F(this,"maxPriorityFeePerGas");de(this,{gasPrice:jc(e),maxFeePerGas:jc(t),maxPriorityFeePerGas:jc(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:vt(e),maxFeePerGas:vt(t),maxPriorityFeePerGas:vt(r)}}}function Ey(n){const e={};n.to&&(e.to=n.to),n.from&&(e.from=n.from),n.data&&(e.data=ie(n.data));const t="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of t)!(s in n)||n[s]==null||(e[s]=oe(n[s],`request.${s}`));const r="type,nonce".split(/,/);for(const s of r)!(s in n)||n[s]==null||(e[s]=Ee(n[s],`request.${s}`));return n.accessList&&(e.accessList=Bl(n.accessList)),"blockTag"in n&&(e.blockTag=n.blockTag),"enableCcipRead"in n&&(e.enableCcipRead=!!n.enableCcipRead),"customData"in n&&(e.customData=n.customData),"blobVersionedHashes"in n&&n.blobVersionedHashes&&(e.blobVersionedHashes=n.blobVersionedHashes.slice()),"kzg"in n&&(e.kzg=n.kzg),"blobs"in n&&n.blobs&&(e.blobs=n.blobs.map(s=>ex(s)?ie(s):Object.assign({},s))),e}var ri;class zJ{constructor(e,t){F(this,"provider");F(this,"number");F(this,"hash");F(this,"timestamp");F(this,"parentHash");F(this,"parentBeaconBlockRoot");F(this,"nonce");F(this,"difficulty");F(this,"gasLimit");F(this,"gasUsed");F(this,"stateRoot");F(this,"receiptsRoot");F(this,"blobGasUsed");F(this,"excessBlobGas");F(this,"miner");F(this,"prevRandao");F(this,"extraData");F(this,"baseFeePerGas");j(this,ri);L(this,ri,e.transactions.map(r=>typeof r!="string"?new If(r,t):r)),de(this,{provider:t,hash:jc(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:jc(e.prevRandao),extraData:e.extraData,baseFeePerGas:jc(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return A(this,ri).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=A(this,ri).slice();return e.length===0?[]:(Q(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:s,gasUsed:i,hash:o,miner:a,prevRandao:l,nonce:c,number:u,parentHash:d,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:g,timestamp:y,transactions:v}=this;return{_type:"Block",baseFeePerGas:vt(e),difficulty:vt(t),extraData:r,gasLimit:vt(s),gasUsed:vt(i),blobGasUsed:vt(this.blobGasUsed),excessBlobGas:vt(this.excessBlobGas),hash:o,miner:a,prevRandao:l,nonce:c,number:u,parentHash:d,timestamp:y,parentBeaconBlockRoot:f,stateRoot:p,receiptsRoot:g,transactions:v}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return A(this,ri).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=A(this,ri)[e];else{const r=e.toLowerCase();for(const s of A(this,ri))if(typeof s=="string"){if(s!==r)continue;t=s;break}else{if(s.hash===r)continue;t=s;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(const r of t)if(r.hash===e)return r;B(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return HJ(this)}}ri=new WeakMap;class ap{constructor(e,t){F(this,"provider");F(this,"transactionHash");F(this,"blockHash");F(this,"blockNumber");F(this,"removed");F(this,"address");F(this,"data");F(this,"topics");F(this,"index");F(this,"transactionIndex");this.provider=t;const r=Object.freeze(e.topics.slice());de(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:l,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:s,index:i,removed:o,topics:a,transactionHash:l,transactionIndex:c}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Q(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Q(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Q(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return GJ(this)}}var Df;class mM{constructor(e,t){F(this,"provider");F(this,"to");F(this,"from");F(this,"contractAddress");F(this,"hash");F(this,"index");F(this,"blockHash");F(this,"blockNumber");F(this,"logsBloom");F(this,"gasUsed");F(this,"blobGasUsed");F(this,"cumulativeGasUsed");F(this,"gasPrice");F(this,"blobGasPrice");F(this,"type");F(this,"status");F(this,"root");j(this,Df);L(this,Df,Object.freeze(e.logs.map(s=>new ap(s,t))));let r=gM;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),de(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return A(this,Df)}toJSON(){const{to:e,from:t,contractAddress:r,hash:s,index:i,blockHash:o,blockNumber:a,logsBloom:l,logs:c,status:u,root:d}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:vt(this.cumulativeGasUsed),from:t,gasPrice:vt(this.gasPrice),blobGasUsed:vt(this.blobGasUsed),blobGasPrice:vt(this.blobGasPrice),gasUsed:vt(this.gasUsed),hash:s,index:i,logs:c,logsBloom:l,root:d,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return wM(this)}reorderedEvent(e){return Q(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),yM(this,e)}}Df=new WeakMap;var co;const Cx=class Cx{constructor(e,t){F(this,"provider");F(this,"blockNumber");F(this,"blockHash");F(this,"index");F(this,"hash");F(this,"type");F(this,"to");F(this,"from");F(this,"nonce");F(this,"gasLimit");F(this,"gasPrice");F(this,"maxPriorityFeePerGas");F(this,"maxFeePerGas");F(this,"maxFeePerBlobGas");F(this,"data");F(this,"value");F(this,"chainId");F(this,"signature");F(this,"accessList");F(this,"blobVersionedHashes");j(this,co);this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,L(this,co,-1)}toJSON(){const{blockNumber:e,blockHash:t,index:r,hash:s,type:i,to:o,from:a,nonce:l,data:c,signature:u,accessList:d,blobVersionedHashes:f}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:t,blobVersionedHashes:f,chainId:vt(this.chainId),data:c,from:a,gasLimit:vt(this.gasLimit),gasPrice:vt(this.gasPrice),hash:s,maxFeePerGas:vt(this.maxFeePerGas),maxPriorityFeePerGas:vt(this.maxPriorityFeePerGas),maxFeePerBlobGas:vt(this.maxFeePerBlobGas),nonce:l,signature:u,to:o,index:r,type:i,value:vt(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const t=this.provider.getBlock(e);if(t==null)throw new Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:t,blockNumber:r}=await Sn({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return t==null||t.blockNumber==null?0:r-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){const r=e??1,s=t??0;let i=A(this,co),o=-1,a=i===-1;const l=async()=>{if(a)return null;const{blockNumber:f,nonce:p}=await Sn({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){i=f;return}if(a)return null;const g=await this.getTransaction();if(!(g&&g.blockNumber!=null))for(o===-1&&(o=i-3,o<A(this,co)&&(o=A(this,co)));o<=f;){if(a)return null;const y=await this.provider.getBlock(o,!0);if(y==null)return;for(const v of y)if(v===this.hash)return;for(let v=0;v<y.length;v++){const w=await y.getTransaction(v);if(w.from===this.from&&w.nonce===this.nonce){if(a)return null;const _=await this.provider.getTransactionReceipt(w.hash);if(_==null||f-_.blockNumber+1<r)return;let E="replaced";w.data===this.data&&w.to===this.to&&w.value===this.value?E="repriced":w.data==="0x"&&w.from===w.to&&w.value===gM&&(E="cancelled"),Q(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:E==="replaced"||E==="cancelled",reason:E,replacement:w.replaceableTransaction(i),hash:w.hash,receipt:_})}}o++}},c=f=>{if(f==null||f.status!==0)return f;Q(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:f.to,from:f.from,data:""},receipt:f})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return c(u);if(u){if(await u.confirmations()>=r)return c(u)}else if(await l(),r===0)return null;return await new Promise((f,p)=>{const g=[],y=()=>{g.forEach(w=>w())};if(g.push(()=>{a=!0}),s>0){const w=setTimeout(()=>{y(),p(dt("wait for transaction timeout","TIMEOUT"))},s);g.push(()=>{clearTimeout(w)})}const v=async w=>{if(await w.confirmations()>=r){y();try{f(c(w))}catch(_){p(_)}}};if(g.push(()=>{this.provider.off(this.hash,v)}),this.provider.on(this.hash,v),i>=0){const w=async()=>{try{await l()}catch(_){if(Yt(_,"TRANSACTION_REPLACED")){y(),p(_);return}}a||this.provider.once("block",w)};g.push(()=>{this.provider.off("block",w)}),this.provider.once("block",w)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Q(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),wM(this)}reorderedEvent(e){return Q(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Q(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),yM(this,e)}replaceableTransaction(e){B(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new Cx(this,this.provider);return L(t,co,e),t}};co=new WeakMap;let If=Cx;function HJ(n){return{orphan:"drop-block",hash:n.hash,number:n.number}}function yM(n,e){return{orphan:"reorder-transaction",tx:n,other:e}}function wM(n){return{orphan:"drop-transaction",tx:n}}function GJ(n){return{orphan:"drop-log",log:{transactionHash:n.transactionHash,blockHash:n.blockHash,blockNumber:n.blockNumber,address:n.address,data:n.data,topics:Object.freeze(n.topics.slice()),index:n.index}}}class mx extends ap{constructor(t,r,s){super(t,t.provider);F(this,"interface");F(this,"fragment");F(this,"args");const i=r.decodeEventLog(s,t.data,t.topics);de(this,{args:i,fragment:s,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class vM extends ap{constructor(t,r){super(t,t.provider);F(this,"error");de(this,{error:r})}}var fu;class WJ extends mM{constructor(t,r,s){super(s,r);j(this,fu);L(this,fu,t)}get logs(){return super.logs.map(t=>{const r=t.topics.length?A(this,fu).getEvent(t.topics[0]):null;if(r)try{return new mx(t,A(this,fu),r)}catch(s){return new vM(t,s)}return t})}}fu=new WeakMap;var Lf;class yx extends If{constructor(t,r,s){super(s,r);j(this,Lf);L(this,Lf,t)}async wait(t,r){const s=await super.wait(t,r);return s==null?null:new WJ(A(this,Lf),this.provider,s)}}Lf=new WeakMap;class _M extends QD{constructor(t,r,s,i){super(t,r,s);F(this,"log");de(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class $J extends _M{constructor(e,t,r,s,i){super(e,t,r,new mx(i,e.interface,s));const o=e.interface.decodeEventLog(s,this.log.data,this.log.topics);de(this,{args:o,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const kP=BigInt(0);function bM(n){return n&&typeof n.call=="function"}function EM(n){return n&&typeof n.estimateGas=="function"}function O0(n){return n&&typeof n.resolveName=="function"}function xM(n){return n&&typeof n.sendTransaction=="function"}function AM(n){if(n!=null){if(O0(n))return n;if(n.provider)return n.provider}}var Mf;class QJ{constructor(e,t,r){j(this,Mf);F(this,"fragment");if(de(this,{fragment:t}),t.inputs.length<r.length)throw new Error("too many arguments");const s=Sl(e.runner,"resolveName"),i=O0(s)?s:null;L(this,Mf,async function(){const o=await Promise.all(t.inputs.map((a,l)=>r[l]==null?null:a.walkAsync(r[l],(u,d)=>u==="address"?Array.isArray(d)?Promise.all(d.map(f=>Rn(f,i))):Rn(d,i):d)));return e.interface.encodeFilterTopics(t,o)}())}getTopicFilter(){return A(this,Mf)}}Mf=new WeakMap;function Sl(n,e){return n==null?null:typeof n[e]=="function"?n:n.provider&&typeof n.provider[e]=="function"?n.provider:null}function Na(n){return n==null?null:n.provider||null}async function TM(n,e){const t=wn.dereference(n,"overrides");B(typeof t=="object","invalid overrides parameter","overrides",n);const r=Ey(t);return B(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),B(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function KJ(n,e,t){const r=Sl(n,"resolveName"),s=O0(r)?r:null;return await Promise.all(e.map((i,o)=>i.walkAsync(t[o],(a,l)=>(l=wn.dereference(l,a),a==="address"?Rn(l,s):l))))}function qJ(n){const e=async function(o){const a=await TM(o,["data"]);a.to=await n.getAddress(),a.from&&(a.from=await Rn(a.from,AM(n.runner)));const l=n.interface,c=oe(a.value||kP,"overrides.value")===kP,u=(a.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!u&&!c&&B(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),B(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const d=l.receive||l.fallback&&l.fallback.payable;return B(d||c,"cannot send value to non-payable fallback","overrides.value",a.value),B(l.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},t=async function(o){const a=Sl(n.runner,"call");Q(bM(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(o);try{return await a.call(l)}catch(c){throw Z1(c)&&c.data?n.interface.makeError(c.data,l):c}},r=async function(o){const a=n.runner;Q(xM(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await a.sendTransaction(await e(o)),c=Na(n.runner);return new yx(n.interface,c,l)},s=async function(o){const a=Sl(n.runner,"estimateGas");return Q(EM(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},i=async o=>await r(o);return de(i,{_contract:n,estimateGas:s,populateTransaction:e,send:r,staticCall:t}),i}function JJ(n,e){const t=function(...c){const u=n.interface.getFunction(e,c);return Q(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),u},r=async function(...c){const u=t(...c);let d={};if(u.inputs.length+1===c.length&&(d=await TM(c.pop()),d.from&&(d.from=await Rn(d.from,AM(n.runner)))),u.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const f=await KJ(n.runner,u.inputs,c);return Object.assign({},d,await Sn({to:n.getAddress(),data:n.interface.encodeFunctionData(u,f)}))},s=async function(...c){const u=await a(...c);return u.length===1?u[0]:u},i=async function(...c){const u=n.runner;Q(xM(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await u.sendTransaction(await r(...c)),f=Na(n.runner);return new yx(n.interface,f,d)},o=async function(...c){const u=Sl(n.runner,"estimateGas");return Q(EM(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...c))},a=async function(...c){const u=Sl(n.runner,"call");Q(bM(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await r(...c);let f="0x";try{f=await u.call(d)}catch(g){throw Z1(g)&&g.data?n.interface.makeError(g.data,d):g}const p=t(...c);return n.interface.decodeFunctionResult(p,f)},l=async(...c)=>t(...c).constant?await s(...c):await i(...c);return de(l,{name:n.interface.getFunctionName(e),_contract:n,_key:e,getFragment:t,estimateGas:o,populateTransaction:r,send:i,staticCall:s,staticCallResult:a}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=n.interface.getFunction(e);return Q(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),l}function YJ(n,e){const t=function(...s){const i=n.interface.getEvent(e,s);return Q(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},r=function(...s){return new QJ(n,t(...s),s)};return de(r,{name:n.interface.getEventName(e),_contract:n,_key:e,getFragment:t}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=n.interface.getEvent(e);return Q(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),r}const xy=Symbol.for("_ethersInternal_contract"),SM=new WeakMap;function XJ(n,e){SM.set(n[xy],e)}function tr(n){return SM.get(n[xy])}function ZJ(n){return n&&typeof n=="object"&&"getTopicFilter"in n&&typeof n.getTopicFilter=="function"&&n.fragment}async function wx(n,e){let t,r=null;if(Array.isArray(e)){const i=function(o){if(Xe(o,32))return o;const a=n.interface.getEvent(o);return B(a,"unknown fragment","name",o),a.topicHash};t=e.map(o=>o==null?null:Array.isArray(o)?o.map(i):i(o))}else e==="*"?t=[null]:typeof e=="string"?Xe(e,32)?t=[e]:(r=n.interface.getEvent(e),B(r,"unknown fragment","event",e),t=[r.topicHash]):ZJ(e)?t=await e.getTopicFilter():"fragment"in e?(r=e.fragment,t=[r.topicHash]):B(!1,"unknown event name","event",e);t=t.map(i=>{if(i==null)return null;if(Array.isArray(i)){const o=Array.from(new Set(i.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return i.toLowerCase()});const s=t.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:r,tag:s,topics:t}}async function od(n,e){const{subs:t}=tr(n);return t.get((await wx(n,e)).tag)||null}async function RP(n,e,t){const r=Na(n.runner);Q(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:o}=await wx(n,t),{addr:a,subs:l}=tr(n);let c=l.get(i);if(!c){const d={address:a||n,topics:o},f=v=>{let w=s;if(w==null)try{w=n.interface.getEvent(v.topics[0])}catch{}if(w){const _=w,E=s?n.interface.decodeEventLog(s,v.data,v.topics):[];kb(n,t,E,C=>new $J(n,C,t,_,v))}else kb(n,t,[],_=>new _M(n,_,t,v))};let p=[];c={tag:i,listeners:[],start:()=>{p.length||p.push(r.on(d,f))},stop:async()=>{if(p.length==0)return;let v=p;p=[],await Promise.all(v),r.off(d,f)}},l.set(i,c)}return c}let Pb=Promise.resolve();async function eY(n,e,t,r){await Pb;const s=await od(n,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:o,once:a})=>{const l=Array.from(t);r&&l.push(r(a?null:o));try{o.call(n,...l)}catch{}return!a}),s.listeners.length===0&&(s.stop(),tr(n).subs.delete(s.tag)),i>0}async function kb(n,e,t,r){try{await Pb}catch{}const s=eY(n,e,t,r);return Pb=s,await s}const bg=["then"];var tk;tk=xy;const Rd=class Rd{constructor(e,t,r,s){F(this,"target");F(this,"interface");F(this,"runner");F(this,"filters");F(this,tk);F(this,"fallback");B(typeof e=="string"||NL(e),"invalid value for Contract target","target",e),r==null&&(r=null);const i=Cb.from(t);de(this,{target:e,runner:r,interface:i}),Object.defineProperty(this,xy,{value:{}});let o,a=null,l=null;if(s){const d=Na(r);l=new yx(this.interface,d,s)}let c=new Map;if(typeof e=="string")if(Xe(e))a=e,o=Promise.resolve(e);else{const d=Sl(r,"resolveName");if(!O0(d))throw dt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=d.resolveName(e).then(f=>{if(f==null)throw dt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return tr(this).addr=f,f})}else o=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return tr(this).addr=d,d});XJ(this,{addrPromise:o,addr:a,deployTx:l,subs:c});const u=new Proxy({},{get:(d,f,p)=>{if(typeof f=="symbol"||bg.indexOf(f)>=0)return Reflect.get(d,f,p);try{return this.getEvent(f)}catch(g){if(!Yt(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(d,f)=>bg.indexOf(f)>=0?Reflect.has(d,f):Reflect.has(d,f)||this.interface.hasEvent(String(f))});return de(this,{filters:u}),de(this,{fallback:i.receive||i.fallback?qJ(this):null}),new Proxy(this,{get:(d,f,p)=>{if(typeof f=="symbol"||f in d||bg.indexOf(f)>=0)return Reflect.get(d,f,p);try{return d.getFunction(f)}catch(g){if(!Yt(g,"INVALID_ARGUMENT")||g.argument!=="key")throw g}},has:(d,f)=>typeof f=="symbol"||f in d||bg.indexOf(f)>=0?Reflect.has(d,f):d.interface.hasFunction(f)})}connect(e){return new Rd(this.target,this.interface,e)}attach(e){return new Rd(e,this.interface,this.runner)}async getAddress(){return await tr(this).addrPromise}async getDeployedCode(){const e=Na(this.runner);Q(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=Na(this.runner);return Q(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);r.once("block",o)}catch(a){i(a)}};o()})}deploymentTransaction(){return tr(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),JJ(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),YJ(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,r){t==null&&(t=0),r==null&&(r="latest");const{addr:s,addrPromise:i}=tr(this),o=s||await i,{fragment:a,topics:l}=await wx(this,e),c={address:o,topics:l,fromBlock:t,toBlock:r},u=Na(this.runner);return Q(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(c)).map(d=>{let f=a;if(f==null)try{f=this.interface.getEvent(d.topics[0])}catch{}if(f)try{return new mx(d,this.interface,f)}catch(p){return new vM(d,p)}return new ap(d,u)})}async on(e,t){const r=await RP(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){const r=await RP(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await kb(this,e,t,null)}async listenerCount(e){if(e){const s=await od(this,e);return s?s.listeners.length:0}const{subs:t}=tr(this);let r=0;for(const{listeners:s}of t.values())r+=s.length;return r}async listeners(e){if(e){const s=await od(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:t}=tr(this);let r=[];for(const{listeners:s}of t.values())r=r.concat(s.map(({listener:i})=>i));return r}async off(e,t){const r=await od(this,e);if(!r)return this;if(t){const s=r.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&r.listeners.splice(s,1)}return(t==null||r.listeners.length===0)&&(r.stop(),tr(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const t=await od(this,e);if(!t)return this;t.stop(),tr(this).subs.delete(t.tag)}else{const{subs:t}=tr(this);for(const{tag:r,stop:s}of t.values())s(),t.delete(r)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends Rd{constructor(s,i=null){super(s,e,i)}}return t}static from(e,t,r){return r==null&&(r=null),new this(e,t,r)}};let Rb=Rd;function tY(){return Rb}class kd extends tY(){}function vv(n){return n.match(/^ipfs:\/\/ipfs\//i)?n=n.substring(12):n.match(/^ipfs:\/\//i)?n=n.substring(7):B(!1,"unsupported IPFS format","link",n),`https://gateway.ipfs.io/ipfs/${n}`}class nY{constructor(e){F(this,"name");de(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw new Error("unsupported coin")}async decodeAddress(e,t){throw new Error("unsupported coin")}}const IM=new RegExp("^(ipfs)://(.*)$","i"),NP=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),IM,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var uo,$a,ho,sc,Ry,CM;const Ac=class Ac{constructor(e,t,r){j(this,ho);F(this,"provider");F(this,"address");F(this,"name");j(this,uo);j(this,$a);de(this,{provider:e,address:t,name:r}),L(this,uo,null),L(this,$a,new kd(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return A(this,uo)==null&&L(this,uo,(async()=>{try{return await A(this,$a).supportsInterface("0x9061b923")}catch(e){if(Yt(e,"CALL_EXCEPTION"))return!1;throw L(this,uo,null),e}})()),await A(this,uo)}async getAddress(e){if(e==null&&(e=60),e===60)try{const i=await J(this,ho,sc).call(this,"addr(bytes32)");return i==null||i===vf?null:i}catch(i){if(Yt(i,"CALL_EXCEPTION"))return null;throw i}if(e>=0&&e<2147483648){let i=e+2147483648;const o=await J(this,ho,sc).call(this,"addr(bytes32,uint)",[i]);if(Xe(o,20))return Qe(o)}let t=null;for(const i of this.provider.plugins)if(i instanceof nY&&i.supportsCoinType(e)){t=i;break}if(t==null)return null;const r=await J(this,ho,sc).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const s=await t.decodeAddress(e,r);if(s!=null)return s;Q(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const t=await J(this,ho,sc).call(this,"text(bytes32,string)",[e]);return t==null||t==="0x"?null:t}async getContentHash(){const e=await J(this,ho,sc).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const s=t[1]==="e3010170"?"ipfs":"ipns",i=parseInt(t[4],16);if(t[5].length===i*2)return`${s}://${uQ("0x"+t[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;Q(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const t=await this.getText("avatar");if(t==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<NP.length;r++){const s=t.match(NP[r]);if(s==null)continue;const i=s[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{const o=vv(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=i==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:t});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const l=(s[2]||"").split("/");if(l.length!==2)return e.push({type:`!${i}caip`,value:s[2]||""}),{url:null,linkage:e};const c=l[1],u=new kd(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(i==="erc721"){const y=await u.ownerOf(c);if(a!==y)return e.push({type:"!owner",value:y}),{url:null,linkage:e};e.push({type:"owner",value:y})}else if(i==="erc1155"){const y=await u.balanceOf(a,c);if(!y)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:y.toString()})}let d=await u[o](c);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),i==="erc1155"&&(d=d.replace("{id}",Yo(c,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=vv(d)),e.push({type:"metadata-url",value:d});let f={};const p=await new Xo(d).send();p.assertOk();try{f=p.bodyJson}catch{try{e.push({type:"!metadata",value:p.bodyText})}catch{const w=p.body;return w&&e.push({type:"!metadata",value:ie(w)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!f)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(f)});let g=f.image;if(typeof g!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!g.match(/^(https:\/\/|data:)/i)){if(g.match(IM)==null)return e.push({type:"!imageUrl-ipfs",value:g}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:g}),g=vv(g)}return e.push({type:"url",value:g}),{linkage:e,url:g}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return Q(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async fromName(e,t){var s;let r=t;for(;;){if(r===""||r==="."||t!=="eth"&&r==="eth")return null;const i=await J(s=Ac,Ry,CM).call(s,e,r);if(i!=null){const o=new Ac(e,i,t);return r!==t&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}};uo=new WeakMap,$a=new WeakMap,ho=new WeakSet,sc=async function(e,t){t=(t||[]).slice();const r=A(this,$a).interface;t.unshift(Sb(this.name));let s=null;await this.supportsWildcard()&&(s=r.getFunction(e),Q(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[tJ(this.name,255),r.encodeFunctionData(s,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{const i=await A(this,$a)[e](...t);return s?r.decodeFunctionResult(s,i)[0]:i}catch(i){if(!Yt(i,"CALL_EXCEPTION"))throw i}return null},Ry=new WeakSet,CM=async function(e,t){const r=await Ac.getEnsAddress(e);try{const i=await new kd(r,["function resolver(bytes32) view returns (address)"],e).resolver(Sb(t),{enableCcipRead:!0});return i===vf?null:i}catch(s){throw s}return null},j(Ac,Ry);let Ay=Ac;const OP=BigInt(0);function Ne(n,e){return function(t){return t==null?e:n(t)}}function D0(n,e){return t=>{if(e&&t==null)return null;if(!Array.isArray(t))throw new Error("not an array");return t.map(r=>n(r))}}function lp(n,e){return t=>{const r={};for(const s in n){let i=s;if(e&&s in e&&!(i in t)){for(const o of e[s])if(o in t){i=o;break}}try{const o=n[s](t[i]);o!==void 0&&(r[s]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";Q(!1,`invalid value for value.${s} (${a})`,"BAD_DATA",{value:t})}}return r}}function rY(n){switch(n){case!0:case"true":return!0;case!1:case"false":return!1}B(!1,`invalid boolean; ${JSON.stringify(n)}`,"value",n)}function Yu(n){return B(Xe(n,!0),"invalid data","value",n),n}function qt(n){return B(Xe(n,32),"invalid hash","value",n),n}const sY=lp({address:Qe,blockHash:qt,blockNumber:Ee,data:Yu,index:Ee,removed:Ne(rY,!1),topics:D0(qt),transactionHash:qt,transactionIndex:Ee},{index:["logIndex"]});function iY(n){return sY(n)}const oY=lp({hash:Ne(qt),parentHash:qt,parentBeaconBlockRoot:Ne(qt,null),number:Ee,timestamp:Ee,nonce:Ne(Yu),difficulty:oe,gasLimit:oe,gasUsed:oe,stateRoot:Ne(qt,null),receiptsRoot:Ne(qt,null),blobGasUsed:Ne(oe,null),excessBlobGas:Ne(oe,null),miner:Ne(Qe),prevRandao:Ne(qt,null),extraData:Yu,baseFeePerGas:Ne(oe)},{prevRandao:["mixHash"]});function aY(n){const e=oY(n);return e.transactions=n.transactions.map(t=>typeof t=="string"?t:PM(t)),e}const lY=lp({transactionIndex:Ee,blockNumber:Ee,transactionHash:qt,address:Qe,topics:D0(qt),data:Yu,index:Ee,blockHash:qt},{index:["logIndex"]});function cY(n){return lY(n)}const uY=lp({to:Ne(Qe,null),from:Ne(Qe,null),contractAddress:Ne(Qe,null),index:Ee,root:Ne(ie),gasUsed:oe,blobGasUsed:Ne(oe,null),logsBloom:Ne(Yu),blockHash:qt,hash:qt,logs:D0(cY),blockNumber:Ee,cumulativeGasUsed:oe,effectiveGasPrice:Ne(oe),blobGasPrice:Ne(oe,null),status:Ne(Ee),type:Ne(Ee,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function hY(n){return uY(n)}function PM(n){n.to&&oe(n.to)===OP&&(n.to="0x0000000000000000000000000000000000000000");const e=lp({hash:qt,index:Ne(Ee,void 0),type:t=>t==="0x"||t==null?0:Ee(t),accessList:Ne(Bl,null),blobVersionedHashes:Ne(D0(qt,!0),null),blockHash:Ne(qt,null),blockNumber:Ne(Ee,null),transactionIndex:Ne(Ee,null),from:Qe,gasPrice:Ne(oe),maxPriorityFeePerGas:Ne(oe),maxFeePerGas:Ne(oe),maxFeePerBlobGas:Ne(oe,null),gasLimit:oe,to:Ne(Qe,null),value:oe,nonce:Ee,data:Yu,creates:Ne(Qe,null),chainId:Ne(oe,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(n);if(e.to==null&&e.creates==null&&(e.creates=sq(e)),(n.type===1||n.type===2)&&n.accessList==null&&(e.accessList=[]),n.signature?e.signature=ts.from(n.signature):e.signature=ts.from(n),e.chainId==null){const t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&oe(e.blockHash)===OP&&(e.blockHash=null),e}const dY="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class cp{constructor(e){F(this,"name");de(this,{name:e})}clone(){return new cp(this.name)}}class L0 extends cp{constructor(t,r){t==null&&(t=0);super(`org.ethers.network.plugins.GasCost#${t||0}`);F(this,"effectiveBlock");F(this,"txBase");F(this,"txCreate");F(this,"txDataZero");F(this,"txDataNonzero");F(this,"txAccessListStorageKey");F(this,"txAccessListAddress");const s={effectiveBlock:t};function i(o,a){let l=(r||{})[o];l==null&&(l=a),B(typeof l=="number",`invalud value for ${o}`,"costs",r),s[o]=l}i("txBase",21e3),i("txCreate",32e3),i("txDataZero",4),i("txDataNonzero",16),i("txAccessListStorageKey",1900),i("txAccessListAddress",2400),de(this,s)}clone(){return new L0(this.effectiveBlock,this)}}class M0 extends cp{constructor(t,r){super("org.ethers.plugins.network.Ens");F(this,"address");F(this,"targetNetwork");de(this,{address:t||dY,targetNetwork:r??1})}clone(){return new M0(this.address,this.targetNetwork)}}var Ff,Bf;class fY extends cp{constructor(t,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");j(this,Ff);j(this,Bf);L(this,Ff,t),L(this,Bf,r)}get url(){return A(this,Ff)}get processFunc(){return A(this,Bf)}clone(){return this}}Ff=new WeakMap,Bf=new WeakMap;const _v=new Map;var pu,gu,fo;const Tc=class Tc{constructor(e,t){j(this,pu);j(this,gu);j(this,fo);L(this,pu,e),L(this,gu,oe(t)),L(this,fo,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return A(this,pu)}set name(e){L(this,pu,e)}get chainId(){return A(this,gu)}set chainId(e){L(this,gu,oe(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===oe(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===oe(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===oe(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(A(this,fo).values())}attachPlugin(e){if(A(this,fo).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return A(this,fo).set(e.name,e.clone()),this}getPlugin(e){return A(this,fo).get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){const e=new Tc(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){const t=this.getPlugin("org.ethers.plugins.network.GasCost")||new L0;let r=t.txBase;if(e.to==null&&(r+=t.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){const s=Bl(e.accessList);for(const i in s)r+=t.txAccessListAddress+t.txAccessListStorageKey*s[i].storageKeys.length}return r}static from(e){if(pY(),e==null)return Tc.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const t=_v.get(e);if(t)return t();if(typeof e=="bigint")return new Tc("unknown",e);B(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){B(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const t=new Tc(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&t.attachPlugin(new M0(e.ensAddress,e.ensNetwork)),t}B(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));const r=_v.get(e);r&&B(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),_v.set(e,t)}};pu=new WeakMap,gu=new WeakMap,fo=new WeakMap;let xs=Tc;function DP(n,e){const t=String(n);if(!t.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${n}`);const r=t.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${n}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let s=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||s++,r[1]=s.toString()}return BigInt(r[0]+r[1])}function LP(n){return new fY(n,async(e,t,r)=>{r.setHeader("User-Agent","ethers");let s;try{const[i,o]=await Promise.all([r.send(),e()]);s=i;const a=s.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:DP(a.maxFee,9),maxPriorityFeePerGas:DP(a.maxPriorityFee,9)}}catch(i){Q(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:s,error:i})}})}let MP=!1;function pY(){if(MP)return;MP=!0;function n(e,t,r){const s=function(){const i=new xs(e,t);return r.ensNetwork!=null&&i.attachPlugin(new M0(null,r.ensNetwork)),i.attachPlugin(new L0),(r.plugins||[]).forEach(o=>{i.attachPlugin(o)}),i};xs.register(e,s),xs.register(t,s),r.altNames&&r.altNames.forEach(i=>{xs.register(i,s)})}n("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),n("ropsten",3,{ensNetwork:3}),n("rinkeby",4,{ensNetwork:4}),n("goerli",5,{ensNetwork:5}),n("kovan",42,{ensNetwork:42}),n("sepolia",11155111,{ensNetwork:11155111}),n("holesky",17e3,{ensNetwork:17e3}),n("classic",61,{}),n("classicKotti",6,{}),n("arbitrum",42161,{ensNetwork:1}),n("arbitrum-goerli",421613,{}),n("arbitrum-sepolia",421614,{}),n("base",8453,{ensNetwork:1}),n("base-goerli",84531,{}),n("base-sepolia",84532,{}),n("bnb",56,{ensNetwork:1}),n("bnbt",97,{}),n("linea",59144,{ensNetwork:1}),n("linea-goerli",59140,{}),n("linea-sepolia",59141,{}),n("matic",137,{ensNetwork:1,plugins:[LP("https://gasstation.polygon.technology/v2")]}),n("matic-amoy",80002,{}),n("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[LP("https://gasstation-testnet.polygon.technology/v2")]}),n("optimism",10,{ensNetwork:1,plugins:[]}),n("optimism-goerli",420,{}),n("optimism-sepolia",11155420,{}),n("xdai",100,{ensNetwork:1})}function Nb(n){return JSON.parse(JSON.stringify(n))}var si,wr,po,ms,mu,nm;class gY{constructor(e){j(this,mu);j(this,si);j(this,wr);j(this,po);j(this,ms);L(this,si,e),L(this,wr,null),L(this,po,4e3),L(this,ms,-2)}get pollingInterval(){return A(this,po)}set pollingInterval(e){L(this,po,e)}start(){A(this,wr)||(L(this,wr,A(this,si)._setTimeout(J(this,mu,nm).bind(this),A(this,po))),J(this,mu,nm).call(this))}stop(){A(this,wr)&&(A(this,si)._clearTimeout(A(this,wr)),L(this,wr,null))}pause(e){this.stop(),e&&L(this,ms,-2)}resume(){this.start()}}si=new WeakMap,wr=new WeakMap,po=new WeakMap,ms=new WeakMap,mu=new WeakSet,nm=async function(){try{const e=await A(this,si).getBlockNumber();if(A(this,ms)===-2){L(this,ms,e);return}if(e!==A(this,ms)){for(let t=A(this,ms)+1;t<=e;t++){if(A(this,wr)==null)return;await A(this,si).emit("block",t)}L(this,ms,e)}}catch{}A(this,wr)!=null&&L(this,wr,A(this,si)._setTimeout(J(this,mu,nm).bind(this),A(this,po)))};var Qa,Ka,go;class vx{constructor(e){j(this,Qa);j(this,Ka);j(this,go);L(this,Qa,e),L(this,go,!1),L(this,Ka,t=>{this._poll(t,A(this,Qa))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){A(this,go)||(L(this,go,!0),A(this,Ka).call(this,-2),A(this,Qa).on("block",A(this,Ka)))}stop(){A(this,go)&&(L(this,go,!1),A(this,Qa).off("block",A(this,Ka)))}pause(e){this.stop()}resume(){this.start()}}Qa=new WeakMap,Ka=new WeakMap,go=new WeakMap;var yu,ii;class mY extends vx{constructor(t,r){super(t);j(this,yu);j(this,ii);L(this,yu,r),L(this,ii,-2)}pause(t){t&&L(this,ii,-2),super.pause(t)}async _poll(t,r){const s=await r.getBlock(A(this,yu));s!=null&&(A(this,ii)===-2?L(this,ii,s.number):s.number>A(this,ii)&&(r.emit(A(this,yu),s.number),L(this,ii,s.number)))}}yu=new WeakMap,ii=new WeakMap;var Ny;class yY extends vx{constructor(t,r){super(t);j(this,Ny);L(this,Ny,Nb(r))}async _poll(t,r){throw new Error("@TODO")}}Ny=new WeakMap;var wu;class wY extends vx{constructor(t,r){super(t);j(this,wu);L(this,wu,r)}async _poll(t,r){const s=await r.getTransactionReceipt(A(this,wu));s&&r.emit(A(this,wu),s)}}wu=new WeakMap;var oi,vu,_u,mo,vr,Oy,kM;class _x{constructor(e,t){j(this,Oy);j(this,oi);j(this,vu);j(this,_u);j(this,mo);j(this,vr);L(this,oi,e),L(this,vu,Nb(t)),L(this,_u,J(this,Oy,kM).bind(this)),L(this,mo,!1),L(this,vr,-2)}start(){A(this,mo)||(L(this,mo,!0),A(this,vr)===-2&&A(this,oi).getBlockNumber().then(e=>{L(this,vr,e)}),A(this,oi).on("block",A(this,_u)))}stop(){A(this,mo)&&(L(this,mo,!1),A(this,oi).off("block",A(this,_u)))}pause(e){this.stop(),e&&L(this,vr,-2)}resume(){this.start()}}oi=new WeakMap,vu=new WeakMap,_u=new WeakMap,mo=new WeakMap,vr=new WeakMap,Oy=new WeakSet,kM=async function(e){if(A(this,vr)===-2)return;const t=Nb(A(this,vu));t.fromBlock=A(this,vr)+1,t.toBlock=e;const r=await A(this,oi).getLogs(t);if(r.length===0){A(this,vr)<e-60&&L(this,vr,e-60);return}for(const s of r)A(this,oi).emit(A(this,vu),s),L(this,vr,s.blockNumber)};const vY=BigInt(2),_Y=10;function Eg(n){return n&&typeof n.then=="function"}function rm(n,e){return n+":"+JSON.stringify(e,(t,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const s=Object.keys(r);return s.sort(),s.reduce((i,o)=>(i[o]=r[o],i),{})}return r})}class RM{constructor(e){F(this,"name");de(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function bY(n){return JSON.parse(JSON.stringify(n))}function Ob(n){return n=Array.from(new Set(n).values()),n.sort(),n}async function bv(n,e){if(n==null)throw new Error("invalid event");if(Array.isArray(n)&&(n={topics:n}),typeof n=="string")switch(n){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:n,tag:n}}if(Xe(n,32)){const t=n.toLowerCase();return{type:"transaction",tag:rm("tx",{hash:t}),hash:t}}if(n.orphan){const t=n;return{type:"orphan",tag:rm("orphan",t),filter:bY(t)}}if(n.address||n.topics){const t=n,r={topics:(t.topics||[]).map(s=>s==null?null:Array.isArray(s)?Ob(s.map(i=>i.toLowerCase())):s.toLowerCase())};if(t.address){const s=[],i=[],o=a=>{Xe(a)?s.push(a):i.push((async()=>{s.push(await Rn(a,e))})())};Array.isArray(t.address)?t.address.forEach(o):o(t.address),i.length&&await Promise.all(i),r.address=Ob(s.map(a=>a.toLowerCase()))}return{filter:r,tag:rm("event",r),type:"event"}}B(!1,"unknown ProviderEvent","event",n)}function Ev(){return new Date().getTime()}const EY={cacheTimeout:250,pollingInterval:4e3};var un,yo,hn,bu,ir,qa,wo,ai,Uf,_r,Eu,xu,xe,er,Db,Lb,ad,Mb,ld,sm;class xY{constructor(e,t){j(this,xe);j(this,un);j(this,yo);j(this,hn);j(this,bu);j(this,ir);j(this,qa);j(this,wo);j(this,ai);j(this,Uf);j(this,_r);j(this,Eu);j(this,xu);if(L(this,xu,Object.assign({},EY,t||{})),e==="any")L(this,qa,!0),L(this,ir,null);else if(e){const r=xs.from(e);L(this,qa,!1),L(this,ir,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else L(this,qa,!1),L(this,ir,null);L(this,ai,-1),L(this,wo,new Map),L(this,un,new Map),L(this,yo,new Map),L(this,hn,null),L(this,bu,!1),L(this,Uf,1),L(this,_r,new Map),L(this,Eu,!1)}get pollingInterval(){return A(this,xu).pollingInterval}get provider(){return this}get plugins(){return Array.from(A(this,yo).values())}attachPlugin(e){if(A(this,yo).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return A(this,yo).set(e.name,e.connect(this)),this}getPlugin(e){return A(this,yo).get(e)||null}get disableCcipRead(){return A(this,Eu)}set disableCcipRead(e){L(this,Eu,!!e)}async ccipReadFetch(e,t,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const s=e.to.toLowerCase(),i=t.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const l=r[a],c=l.replace("{sender}",s).replace("{data}",i),u=new Xo(c);l.indexOf("{data}")===-1&&(u.body={data:i,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let d="unknown error",f;try{f=await u.send()}catch(p){o.push(p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:p}});continue}try{const p=f.bodyJson;if(p.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:p}),p.data;p.message&&(d=p.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:p})}catch{}Q(f.statusCode<400||f.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:l,errorMessage:d}}),o.push(d)}Q(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,t){return new zJ(aY(e),this)}_wrapLog(e,t){return new ap(iY(e),this)}_wrapTransactionReceipt(e,t){return new mM(hY(e),this)}_wrapTransactionResponse(e,t){return new If(PM(e),this)}_detectNetwork(){Q(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Q(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=Ee(await J(this,xe,er).call(this,{method:"getBlockNumber"}),"%response");return A(this,ai)>=0&&L(this,ai,e),e}_getAddress(e){return Rn(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Xe(e))return Xe(e,32)?e:bc(e);if(typeof e=="bigint"&&(e=Ee(e,"blockTag")),typeof e=="number")return e>=0?bc(e):A(this,ai)>=0?bc(A(this,ai)+e):this.getBlockNumber().then(t=>bc(t+e));B(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const t=(e.topics||[]).map(l=>l==null?null:Array.isArray(l)?Ob(l.map(c=>c.toLowerCase())):l.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,s=(l,c,u)=>{let d;switch(l.length){case 0:break;case 1:d=l[0];break;default:l.sort(),d=l}if(r&&(c!=null||u!=null))throw new Error("invalid filter");const f={};return d&&(f.address=d),t.length&&(f.topics=t),c&&(f.fromBlock=c),u&&(f.toBlock=u),r&&(f.blockHash=r),f};let i=[];if(e.address)if(Array.isArray(e.address))for(const l of e.address)i.push(this._getAddress(l));else i.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),i.filter(l=>typeof l!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(i),o,a]).then(l=>s(l[0],l[1],l[2])):s(i,o,a)}_getTransactionRequest(e){const t=Ey(e),r=[];if(["to","from"].forEach(s=>{if(t[s]==null)return;const i=Rn(t[s],this);Eg(i)?r.push(async function(){t[s]=await i}()):t[s]=i}),t.blockTag!=null){const s=this._getBlockTag(t.blockTag);Eg(s)?r.push(async function(){t.blockTag=await s}()):t.blockTag=s}return r.length?async function(){return await Promise.all(r),t}():t}async getNetwork(){if(A(this,ir)==null){const s=(async()=>{try{const i=await this._detectNetwork();return this.emit("network",i,null),i}catch(i){throw A(this,ir)===s&&L(this,ir,null),i}})();return L(this,ir,s),(await s).clone()}const e=A(this,ir),[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(A(this,qa)?(this.emit("network",r,t),A(this,ir)===e&&L(this,ir,Promise.resolve(r))):Q(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){const e=await this.getNetwork(),t=async()=>{const{_block:s,gasPrice:i,priorityFee:o}=await Sn({_block:J(this,xe,Mb).call(this,"latest",!1),gasPrice:(async()=>{try{const u=await J(this,xe,er).call(this,{method:"getGasPrice"});return oe(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await J(this,xe,er).call(this,{method:"getPriorityFee"});return oe(u,"%response")}catch{}return null})()});let a=null,l=null;const c=this._wrapBlock(s,e);return c&&c.baseFeePerGas&&(l=o??BigInt("1000000000"),a=c.baseFeePerGas*vY+l),new PP(i,a,l)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const s=new Xo(r.url),i=await r.processFunc(t,this,s);return new PP(i.gasPrice,i.maxFeePerGas,i.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return Eg(t)&&(t=await t),oe(await J(this,xe,er).call(this,{method:"estimateGas",transaction:t}),"%response")}async call(e){const{tx:t,blockTag:r}=await Sn({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await J(this,xe,Lb).call(this,J(this,xe,Db).call(this,t,r,e.enableCcipRead?0:-1))}async getBalance(e,t){return oe(await J(this,xe,ad).call(this,{method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return Ee(await J(this,xe,ad).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return ie(await J(this,xe,ad).call(this,{method:"getCode"},e,t))}async getStorage(e,t,r){const s=oe(t,"position");return ie(await J(this,xe,ad).call(this,{method:"getStorage",position:s},e,r))}async broadcastTransaction(e){const{blockNumber:t,hash:r,network:s}=await Sn({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=_y.from(e);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,s).replaceableTransaction(t)}async getBlock(e,t){const{network:r,params:s}=await Sn({network:this.getNetwork(),params:J(this,xe,Mb).call(this,e,!!t)});return s==null?null:this._wrapBlock(s,r)}async getTransaction(e){const{network:t,params:r}=await Sn({network:this.getNetwork(),params:J(this,xe,er).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){const{network:t,params:r}=await Sn({network:this.getNetwork(),params:J(this,xe,er).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const s=await J(this,xe,er).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){const{result:t}=await Sn({network:this.getNetwork(),result:J(this,xe,er).call(this,{method:"getTransactionResult",hash:e})});return t==null?null:ie(t)}async getLogs(e){let t=this._getFilter(e);Eg(t)&&(t=await t);const{network:r,params:s}=await Sn({network:this.getNetwork(),params:J(this,xe,er).call(this,{method:"getLogs",filter:t})});return s.map(i=>this._wrapLog(i,r))}_getProvider(e){Q(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Ay.fromName(this,e)}async getAvatar(e){const t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){const t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){e=Qe(e);const t=Sb(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await Ay.getEnsAddress(this),i=await new kd(r,["function resolver(bytes32) view returns (address)"],this).resolver(t);if(i==null||i===vf)return null;const a=await new kd(i,["function name(bytes32) view returns (string)"],this).name(t);return await this.resolveName(a)!==e?null:a}catch(r){if(Yt(r,"BAD_DATA")&&r.value==="0x"||Yt(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,t,r){const s=t??1;return s===0?this.getTransactionReceipt(e):new Promise(async(i,o)=>{let a=null;const l=async c=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&c-u.blockNumber+1>=s){i(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",l)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",l),o(dt("timeout","TIMEOUT",{reason:"timeout"})))},r)),l(await this.getBlockNumber())})}async waitForBlock(e){Q(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=A(this,_r).get(e);t&&(t.timer&&clearTimeout(t.timer),A(this,_r).delete(e))}_setTimeout(e,t){t==null&&(t=0);const r=Sh(this,Uf)._++,s=()=>{A(this,_r).delete(r),e()};if(this.paused)A(this,_r).set(r,{timer:null,func:s,time:t});else{const i=setTimeout(s,t);A(this,_r).set(r,{timer:i,func:s,time:Ev()})}return r}_forEachSubscriber(e){for(const t of A(this,un).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new RM(e.type);case"block":{const t=new gY(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new mY(this,e.type);case"event":return new _x(this,e.filter);case"transaction":return new wY(this,e.hash);case"orphan":return new yY(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const r of A(this,un).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),A(this,hn)!=null&&t.pause(A(this,hn));break}}async on(e,t){const r=await J(this,xe,sm).call(this,e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,A(this,hn)!=null&&r.subscriber.pause(A(this,hn))),this}async once(e,t){const r=await J(this,xe,sm).call(this,e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,A(this,hn)!=null&&r.subscriber.pause(A(this,hn))),this}async emit(e,...t){const r=await J(this,xe,ld).call(this,e,t);if(!r||r.listeners.length===0)return!1;const s=r.listeners.length;return r.listeners=r.listeners.filter(({listener:i,once:o})=>{const a=new QD(this,o?null:i,e);try{i.call(this,...t,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),A(this,un).delete(r.tag)),s>0}async listenerCount(e){if(e){const r=await J(this,xe,ld).call(this,e);return r?r.listeners.length:0}let t=0;for(const{listeners:r}of A(this,un).values())t+=r.length;return t}async listeners(e){if(e){const r=await J(this,xe,ld).call(this,e);return r?r.listeners.map(({listener:s})=>s):[]}let t=[];for(const{listeners:r}of A(this,un).values())t=t.concat(r.map(({listener:s})=>s));return t}async off(e,t){const r=await J(this,xe,ld).call(this,e);if(!r)return this;if(t){const s=r.listeners.map(({listener:i})=>i).indexOf(t);s>=0&&r.listeners.splice(s,1)}return(!t||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),A(this,un).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:r,subscriber:s}=await J(this,xe,sm).call(this,e);r&&s.stop(),A(this,un).delete(t)}else for(const[t,{started:r,subscriber:s}]of A(this,un))r&&s.stop(),A(this,un).delete(t);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return A(this,bu)}destroy(){this.removeAllListeners();for(const e of A(this,_r).keys())this._clearTimeout(e);L(this,bu,!0)}get paused(){return A(this,hn)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(L(this,ai,-1),A(this,hn)!=null){if(A(this,hn)==!!e)return;Q(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),L(this,hn,!!e);for(const t of A(this,_r).values())t.timer&&clearTimeout(t.timer),t.time=Ev()-t.time}resume(){if(A(this,hn)!=null){this._forEachSubscriber(e=>e.resume()),L(this,hn,null);for(const e of A(this,_r).values()){let t=e.time;t<0&&(t=0),e.time=Ev(),setTimeout(e.func,t)}}}}un=new WeakMap,yo=new WeakMap,hn=new WeakMap,bu=new WeakMap,ir=new WeakMap,qa=new WeakMap,wo=new WeakMap,ai=new WeakMap,Uf=new WeakMap,_r=new WeakMap,Eu=new WeakMap,xu=new WeakMap,xe=new WeakSet,er=async function(e){const t=A(this,xu).cacheTimeout;if(t<0)return await this._perform(e);const r=rm(e.method,e);let s=A(this,wo).get(r);return s||(s=this._perform(e),A(this,wo).set(r,s),setTimeout(()=>{A(this,wo).get(r)===s&&A(this,wo).delete(r)},t)),await s},Db=async function(e,t,r){Q(r<_Y,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});const s=Ey(e);try{return ie(await this._perform({method:"call",transaction:s,blockTag:t}))}catch(i){if(!this.disableCcipRead&&Z1(i)&&i.data&&r>=0&&t==="latest"&&s.to!=null&&ft(i.data,0,4)==="0x556f1830"){const o=i.data,a=await Rn(s.to,this);let l;try{l=CY(ft(i.data,4))}catch(d){Q(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:o}})}Q(l.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:l.errorArgs}});const c=await this.ccipReadFetch(s,l.calldata,l.urls);Q(c!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:i.data,errorArgs:l.errorArgs}});const u={to:a,data:At([l.selector,IY([c,l.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const d=await J(this,xe,Db).call(this,u,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:d}),d}}throw i}},Lb=async function(e){const{value:t}=await Sn({network:this.getNetwork(),value:e});return t},ad=async function(e,t,r){let s=this._getAddress(t),i=this._getBlockTag(r);return(typeof s!="string"||typeof i!="string")&&([s,i]=await Promise.all([s,i])),await J(this,xe,Lb).call(this,J(this,xe,er).call(this,Object.assign(e,{address:s,blockTag:i})))},Mb=async function(e,t){if(Xe(e,32))return await J(this,xe,er).call(this,{method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await J(this,xe,er).call(this,{method:"getBlock",blockTag:r,includeTransactions:t})},ld=async function(e,t){let r=await bv(e,this);return r.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(r=await bv({orphan:"drop-log",log:t[0]},this)),A(this,un).get(r.tag)||null},sm=async function(e){const t=await bv(e,this),r=t.tag;let s=A(this,un).get(r);return s||(s={subscriber:this._getSubscriber(t),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},A(this,un).set(r,s)),s};function AY(n,e){try{const t=Fb(n,e);if(t)return fy(t)}catch{}return null}function Fb(n,e){if(n==="0x")return null;try{const t=Ee(ft(n,e,e+32)),r=Ee(ft(n,t,t+32));return ft(n,t+32,t+32+r)}catch{}return null}function FP(n){const e=Pn(n);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function TY(n){if(n.length%32===0)return n;const e=new Uint8Array(Math.ceil(n.length/32)*32);return e.set(n),e}const SY=new Uint8Array([]);function IY(n){const e=[];let t=0;for(let r=0;r<n.length;r++)e.push(SY),t+=32;for(let r=0;r<n.length;r++){const s=De(n[r]);e[r]=FP(t),e.push(FP(s.length)),e.push(TY(s)),t+=32+Math.ceil(s.length/32)*32}return At(e)}const BP="0x0000000000000000000000000000000000000000000000000000000000000000";function CY(n){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Q(Bc(n)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const t=ft(n,0,32);Q(ft(t,0,12)===ft(BP,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=ft(t,12);try{const r=[],s=Ee(ft(n,32,64)),i=Ee(ft(n,s,s+32)),o=ft(n,s+32);for(let a=0;a<i;a++){const l=AY(o,a*32);if(l==null)throw new Error("abort");r.push(l)}e.urls=r}catch{Q(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=Fb(n,64);if(r==null)throw new Error("abort");e.calldata=r}catch{Q(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Q(ft(n,100,128)===ft(BP,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=ft(n,96,100);try{const r=Fb(n,128);if(r==null)throw new Error("abort");e.extraData=r}catch{Q(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function Jl(n,e){if(n.provider)return n.provider;Q(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function UP(n,e){let t=Ey(e);if(t.to!=null&&(t.to=Rn(t.to,n)),t.from!=null){const r=t.from;t.from=Promise.all([n.getAddress(),Rn(r,n)]).then(([s,i])=>(B(s.toLowerCase()===i.toLowerCase(),"transaction from mismatch","tx.from",i),s))}else t.from=n.getAddress();return await Sn(t)}class PY{constructor(e){F(this,"provider");de(this,{provider:e||null})}async getNonce(e){return Jl(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await UP(this,e)}async populateTransaction(e){const t=Jl(this,"populateTransaction"),r=await UP(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const s=await this.provider.getNetwork();if(r.chainId!=null){const o=oe(r.chainId);B(o===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=s.chainId;const i=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||i)?B(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&i&&B(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await t.getFeeData();Q(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await t.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(Q(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):Q(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await Sn(r)}async estimateGas(e){return Jl(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Jl(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Jl(this,"resolveName").resolveName(e)}async sendTransaction(e){const t=Jl(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const s=_y.from(r);return await t.broadcastTransaction(await this.signTransaction(s))}}function kY(n){return JSON.parse(JSON.stringify(n))}var An,ys,Ja,vo,Ya,Au,Zo,Bb,Ub;class NM{constructor(e){j(this,Zo);j(this,An);j(this,ys);j(this,Ja);j(this,vo);j(this,Ya);j(this,Au);L(this,An,e),L(this,ys,null),L(this,Ja,J(this,Zo,Bb).bind(this)),L(this,vo,!1),L(this,Ya,null),L(this,Au,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){A(this,vo)||(L(this,vo,!0),J(this,Zo,Bb).call(this,-2))}stop(){A(this,vo)&&(L(this,vo,!1),L(this,Au,!0),J(this,Zo,Ub).call(this),A(this,An).off("block",A(this,Ja)))}pause(e){e&&J(this,Zo,Ub).call(this),A(this,An).off("block",A(this,Ja))}resume(){this.start()}}An=new WeakMap,ys=new WeakMap,Ja=new WeakMap,vo=new WeakMap,Ya=new WeakMap,Au=new WeakMap,Zo=new WeakSet,Bb=async function(e){try{A(this,ys)==null&&L(this,ys,this._subscribe(A(this,An)));let t=null;try{t=await A(this,ys)}catch(i){if(!Yt(i,"UNSUPPORTED_OPERATION")||i.operation!=="eth_newFilter")throw i}if(t==null){L(this,ys,null),A(this,An)._recoverSubscriber(this,this._recover(A(this,An)));return}const r=await A(this,An).getNetwork();if(A(this,Ya)||L(this,Ya,r),A(this,Ya).chainId!==r.chainId)throw new Error("chaid changed");if(A(this,Au))return;const s=await A(this,An).send("eth_getFilterChanges",[t]);await this._emitResults(A(this,An),s)}catch(t){console.log("@TODO",t)}A(this,An).once("block",A(this,Ja))},Ub=function(){const e=A(this,ys);e&&(L(this,ys,null),e.then(t=>{A(this,An).destroyed||A(this,An).send("eth_uninstallFilter",[t])}))};var Xa;class RY extends NM{constructor(t,r){super(t);j(this,Xa);L(this,Xa,kY(r))}_recover(t){return new _x(t,A(this,Xa))}async _subscribe(t){return await t.send("eth_newFilter",[A(this,Xa)])}async _emitResults(t,r){for(const s of r)t.emit(A(this,Xa),t._wrapLog(s,t._network))}}Xa=new WeakMap;class NY extends NM{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const r of t)e.emit("pending",r)}}const OY="bigint,boolean,function,number,string,symbol".split(/,/g);function im(n){if(n==null||OY.indexOf(typeof n)>=0||typeof n.getAddress=="function")return n;if(Array.isArray(n))return n.map(im);if(typeof n=="object")return Object.keys(n).reduce((e,t)=>(e[t]=n[t],e),{});throw new Error(`should not happen: ${n} (${typeof n})`)}function DY(n){return new Promise(e=>{setTimeout(e,n)})}function Yl(n){return n&&n.toLowerCase()}function VP(n){return n&&typeof n.pollingInterval=="number"}const OM={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class xv extends PY{constructor(t,r){super(t);F(this,"address");r=Qe(r),de(this,{address:r})}connect(t){Q(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const r=im(t),s=[];if(r.from){const o=r.from;s.push((async()=>{const a=await Rn(o,this.provider);B(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&&s.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const o=r.to;s.push((async()=>{r.to=await Rn(o,this.provider)})())}s.length&&await Promise.all(s);const i=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[i])}async sendTransaction(t){const r=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(t);return await new Promise((i,o)=>{const a=[1e3,100];let l=0;const c=async()=>{try{const u=await this.provider.getTransaction(s);if(u!=null){i(u.replaceableTransaction(r));return}}catch(u){if(Yt(u,"CANCELLED")||Yt(u,"BAD_DATA")||Yt(u,"NETWORK_ERROR")||Yt(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=s,o(u);return}if(Yt(u,"INVALID_ARGUMENT")&&(l++,u.info==null&&(u.info={}),u.info.sendTransactionHash=s,l>10)){o(u);return}this.provider.emit("error",dt("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{c()},a.pop()||4e3)};c()})}async signTransaction(t){const r=im(t);if(r.from){const i=await Rn(r.from,this.provider);B(i!=null&&i.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),r.from=i}else r.from=this.address;const s=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[s])}async signMessage(t){const r=typeof t=="string"?bi(t):t;return await this.provider.send("personal_sign",[ie(r),this.address.toLowerCase()])}async signTypedData(t,r,s){const i=im(s),o=await by.resolveNames(t,r,i,async a=>{const l=await Rn(a);return B(l!=null,"TypedData does not support null address","value",a),l});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(by.getPayload(o.domain,r,o.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const r=typeof t=="string"?bi(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),ie(r)])}}var Za,Tu,li,ws,Gr,br,Vn,Vf,Vb;class LY extends xY{constructor(t,r){super(t,r);j(this,Vf);j(this,Za);j(this,Tu);j(this,li);j(this,ws);j(this,Gr);j(this,br);j(this,Vn);L(this,Tu,1),L(this,Za,Object.assign({},OM,r||{})),L(this,li,[]),L(this,ws,null),L(this,br,null),L(this,Vn,null);{let i=null;const o=new Promise(a=>{i=a});L(this,Gr,{promise:o,resolve:i})}const s=this._getOption("staticNetwork");typeof s=="boolean"?(B(!s||t!=="any","staticNetwork cannot be used on special network 'any'","options",r),s&&t!=null&&L(this,br,xs.from(t))):s&&(B(t==null||s.matches(t),"staticNetwork MUST match network object","options",r),L(this,br,s))}_getOption(t){return A(this,Za)[t]}get _network(){return Q(A(this,br),"network is not available yet","NETWORK_ERROR"),A(this,br)}async _perform(t){if(t.method==="call"||t.method==="estimateGas"){let s=t.transaction;if(s&&s.type!=null&&oe(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const i=await this.getFeeData();i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null&&(t=Object.assign({},t,{transaction:Object.assign({},s,{type:void 0})}))}}const r=this.getRpcRequest(t);return r!=null?await this.send(r.method,r.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)if(t===!0){if(A(this,br))return A(this,br)}else return t;return A(this,Vn)?await A(this,Vn):this.ready?(L(this,Vn,(async()=>{try{const r=xs.from(oe(await this.send("eth_chainId",[])));return L(this,Vn,null),r}catch(r){throw L(this,Vn,null),r}})()),await A(this,Vn)):(L(this,Vn,(async()=>{const r={id:Sh(this,Tu)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let s;try{s=(await this._send(r))[0],L(this,Vn,null)}catch(i){throw L(this,Vn,null),this.emit("debug",{action:"receiveRpcError",error:i}),i}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return xs.from(oe(s.result));throw this.getRpcError(r,s)})()),await A(this,Vn))}_start(){A(this,Gr)==null||A(this,Gr).resolve==null||(A(this,Gr).resolve(),L(this,Gr,null),(async()=>{for(;A(this,br)==null&&!this.destroyed;)try{L(this,br,await this._detectNetwork())}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",dt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await DY(1e3)}J(this,Vf,Vb).call(this)})())}async _waitUntilReady(){if(A(this,Gr)!=null)return await A(this,Gr).promise}_getSubscriber(t){return t.type==="pending"?new NY(this):t.type==="event"?this._getOption("polling")?new _x(this,t.filter):new RY(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new RM("orphan"):super._getSubscriber(t)}get ready(){return A(this,Gr)==null}getRpcTransaction(t){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(t[s]==null)return;let i=s;s==="gasLimit"&&(i="gas"),r[i]=bc(oe(t[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{t[s]!=null&&(r[s]=ie(t[s]))}),t.accessList&&(r.accessList=Bl(t.accessList)),t.blobVersionedHashes&&(r.blobVersionedHashes=t.blobVersionedHashes.map(s=>s.toLowerCase())),r}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Yl(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Yl(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[Yl(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Yl(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&t.filter.address!=null&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(Yl):t.filter.address=Yl(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,r){const{method:s}=t,{error:i}=r;if(s==="eth_estimateGas"&&i.message){const l=i.message;if(!l.match(/revert/i)&&l.match(/insufficient funds/i))return dt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:i}})}if(s==="eth_call"||s==="eth_estimateGas"){const l=jb(i),c=Sf.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",t.params[0],l?l.data:null);return c.info={error:i,payload:t},c}const o=JSON.stringify(FY(i));if(typeof i.message=="string"&&i.message.match(/user denied|ethers-user-denied/i))return dt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:t,error:i}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const l=t.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return dt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:l,info:{error:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return dt("nonce has already been used","NONCE_EXPIRED",{transaction:l,info:{error:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return dt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:l,info:{error:i}});if(o.match(/only replay-protected/i))return dt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:l,info:{error:i}}})}let a=!!o.match(/the method .* does not exist/i);return a||i&&i.details&&i.details.startsWith("Unauthorized method:")&&(a=!0),a?dt("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:i,payload:t}}):dt("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:t})}send(t,r){if(this.destroyed)return Promise.reject(dt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const s=Sh(this,Tu)._++,i=new Promise((o,a)=>{A(this,li).push({resolve:o,reject:a,payload:{method:t,params:r,id:s,jsonrpc:"2.0"}})});return J(this,Vf,Vb).call(this),i}async getSigner(t){t==null&&(t=0);const r=this.send("eth_accounts",[]);if(typeof t=="number"){const i=await r;if(t>=i.length)throw new Error("no such account");return new xv(this,i[t])}const{accounts:s}=await Sn({network:this.getNetwork(),accounts:r});t=Qe(t);for(const i of s)if(Qe(i)===t)return new xv(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new xv(this,r))}destroy(){A(this,ws)&&(clearTimeout(A(this,ws)),L(this,ws,null));for(const{payload:t,reject:r}of A(this,li))r(dt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));L(this,li,[]),super.destroy()}}Za=new WeakMap,Tu=new WeakMap,li=new WeakMap,ws=new WeakMap,Gr=new WeakMap,br=new WeakMap,Vn=new WeakMap,Vf=new WeakSet,Vb=function(){if(A(this,ws))return;const t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");L(this,ws,setTimeout(()=>{L(this,ws,null);const r=A(this,li);for(L(this,li,[]);r.length;){const s=[r.shift()];for(;r.length&&s.length!==A(this,Za).batchMaxCount;)if(s.push(r.shift()),JSON.stringify(s.map(o=>o.payload)).length>A(this,Za).batchMaxSize){r.unshift(s.pop());break}(async()=>{const i=s.length===1?s[0].payload:s.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:i});try{const o=await this._send(i);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:l,payload:c}of s){if(this.destroyed){l(dt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method}));continue}const u=o.filter(d=>d.id===c.id)[0];if(u==null){const d=dt("missing response for request","BAD_DATA",{value:o,info:{payload:c}});this.emit("error",d),l(d);continue}if("error"in u){l(this.getRpcError(c,u));continue}a(u.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of s)a(o)}})()}},t))};var _o;class MY extends LY{constructor(t,r){super(t,r);j(this,_o);let s=this._getOption("pollingInterval");s==null&&(s=OM.pollingInterval),L(this,_o,s)}_getSubscriber(t){const r=super._getSubscriber(t);return VP(r)&&(r.pollingInterval=A(this,_o)),r}get pollingInterval(){return A(this,_o)}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");L(this,_o,t),this._forEachSubscriber(r=>{VP(r)&&(r.pollingInterval=A(this,_o))})}}_o=new WeakMap;function jb(n){if(n==null)return null;if(typeof n.message=="string"&&n.message.match(/revert/i)&&Xe(n.data))return{message:n.message,data:n.data};if(typeof n=="object"){for(const e in n){const t=jb(n[e]);if(t)return t}return null}if(typeof n=="string")try{return jb(JSON.parse(n))}catch{}return null}function zb(n,e){if(n!=null){if(typeof n.message=="string"&&e.push(n.message),typeof n=="object")for(const t in n)zb(n[t],e);if(typeof n=="string")try{return zb(JSON.parse(n),e)}catch{}}}function FY(n){const e=[];return zb(n,e),e}var Su;class BY extends MY{constructor(t,r,s){const i=Object.assign({},s??{},{batchMaxCount:1});B(t&&t.request,"invalid EIP-1193 provider","ethereum",t);super(r,i);j(this,Su);L(this,Su,async(o,a)=>{const l={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:l});try{const c=await t.request(l);return this.emit("debug",{action:"receiveEip1193Result",result:c}),c}catch(c){const u=new Error(c.message);throw u.code=c.code,u.data=c.data,u.payload=l,this.emit("debug",{action:"receiveEip1193Error",error:u}),u}})}async send(t,r){return await this._start(),await super.send(t,r)}async _send(t){B(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{const r=await A(this,Su).call(this,t.method,t.params||[]);return[{id:t.id,result:r}]}catch(r){return[{id:t.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(t,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(t,r)}async hasSigner(t){t==null&&(t=0);const r=await this.send("eth_accounts",[]);return typeof t=="number"?r.length>t:(t=t.toLowerCase(),r.filter(s=>s.toLowerCase()===t).length!==0)}async getSigner(t){if(t==null&&(t=0),!await this.hasSigner(t))try{await A(this,Su).call(this,"eth_requestAccounts",[])}catch(r){const s=r.payload;throw this.getRpcError(s,{id:s.id,error:r})}return await super.getSigner(t)}}Su=new WeakMap;const UY=({onAddSaving:n,onCancel:e,handleResetSaving:t,handleUpdateGoal:r,goalSet:s})=>{const[i,o]=V.useState(""),[a,l]=V.useState(0),[c,u]=V.useState(""),[d,f]=V.useState(0),[p,g]=V.useState({description:"",goal:"",currentSavings:"",date:""}),y=()=>{let w={...p},_=!0;if(i?w.description="":(w.description="Description is required",_=!1),!d&&!s?(w.goal="Goal amount is required and must be a valid positive number",_=!1):w.goal="",!a||isNaN(a)||a<0?(w.currentSavings="Current saving is required and must be a valid number",_=!1):w.currentSavings="",c?w.date="":(w.date="Date is required",_=!1),_){const E=s&&localStorage.getItem("savedGoalDescription")||i;!s&&i&&localStorage.setItem("savedGoalDescription",i);const C={id:Date.now(),type:"saving",description:E,amount:0,goal:d,currentSavings:a,date:c};n(C),f(d),l(0),u("")}g(w)},v=()=>{d&&r(d)};return V.useEffect(()=>{if(s){const w=localStorage.getItem("savedGoalDescription");w&&o(w)}},[s]),S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:S.jsxs("div",{className:"saving-container p-6 bg-blue-50 rounded-lg shadow-md w-full max-w-md",children:[S.jsx("h3",{className:"text-xl font-semibold text-blue-600 mb-4",children:"Saving Goal"}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"text-sm font-semibold text-blue-500",children:"Goal Description:"}),S.jsx("input",{type:"text",value:i,placeholder:"Enter description",onChange:w=>{o(w.target.value)},disabled:s,className:`w-full p-2 border border-blue-300 
                    rounded-lg focus:outline-none focus:ring 
                    focus:ring-blue-200`}),p.description&&S.jsx("p",{className:"text-red-500 text-xs",children:p.description})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"text-sm font-semibold text-blue-500",children:"Goal Amount:"}),S.jsx("input",{type:"number",value:d,placeholder:"Enter your Goal!",onChange:w=>{f(parseFloat(w.target.value))},disabled:s,className:`w-full p-2 border border-blue-300 
                    rounded-lg focus:outline-none focus:ring 
                    focus:ring-blue-200`}),p.goal&&S.jsx("p",{className:"text-red-500 text-xs",children:p.goal})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"text-sm font-semibold text-blue-500",children:"Current saving:"}),S.jsx("input",{type:"number",value:a,placeholder:"Enter current savings",onChange:w=>{l(parseFloat(w.target.value))},className:`w-full p-2 border border-blue-300 
                    rounded-lg focus:outline-none focus:ring 
                    focus:ring-blue-200`}),p.currentSavings&&S.jsx("p",{className:"text-red-500 text-xs",children:p.currentSavings})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"text-sm font-semibold text-blue-500",children:"Date:"}),S.jsx("input",{type:"date",value:c,onChange:w=>u(w.target.value),className:`w-full p-2 border border-blue-300 
                    rounded-lg focus:outline-none focus:ring 
                    focus:ring-blue-200`}),p.date&&S.jsx("p",{className:"text-red-500 text-xs",children:p.date})]}),S.jsxs("div",{className:"flex justify-between",children:[S.jsx("button",{onClick:()=>{y(),v()},className:`w-20 text-xs bg-blue-500 text-white py-2 
                    rounded hover:bg-blue-700 transition`,children:"Add Saving"}),S.jsx("button",{onClick:e,className:`w-20 text-xs bg-gray-400 text-white py-2 
                    rounded hover:bg-gray-600 transition`,children:"Cancel"}),S.jsx("button",{onClick:t,className:`w-20 text-xs bg-red-400 text-white py-2 
                    rounded hover:bg-red-600 transition`,children:"Reset"})]})]})})},VY=({address:n,balance:e})=>{const t=r=>`${r.slice(0,6)}...${r.slice(-4)}`;return S.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg shadow-lg w-full max-w-sm",children:[S.jsx("h3",{className:"text-xl text-gray-600 font-semibold",children:"Wallet Information"}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Address:"}),S.jsx("p",{className:"text-sm font-mono text-gray-700",children:t(n)})]}),S.jsxs("div",{className:"flex items-center justify-between mt-3",children:[S.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Balance:"}),S.jsxs("p",{className:"text-lg font-semibold text-green-500",children:[e," ETH"]})]})]})};function DM(n,e){return function(){return n.apply(e,arguments)}}const{toString:jY}=Object.prototype,{getPrototypeOf:bx}=Object,F0=(n=>e=>{const t=jY.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ss=n=>(n=n.toLowerCase(),e=>F0(e)===n),B0=n=>e=>typeof e===n,{isArray:uh}=Array,Cf=B0("undefined");function zY(n){return n!==null&&!Cf(n)&&n.constructor!==null&&!Cf(n.constructor)&&ur(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const LM=ss("ArrayBuffer");function HY(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&LM(n.buffer),e}const GY=B0("string"),ur=B0("function"),MM=B0("number"),U0=n=>n!==null&&typeof n=="object",WY=n=>n===!0||n===!1,om=n=>{if(F0(n)!=="object")return!1;const e=bx(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},$Y=ss("Date"),QY=ss("File"),KY=ss("Blob"),qY=ss("FileList"),JY=n=>U0(n)&&ur(n.pipe),YY=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ur(n.append)&&((e=F0(n))==="formdata"||e==="object"&&ur(n.toString)&&n.toString()==="[object FormData]"))},XY=ss("URLSearchParams"),[ZY,eX,tX,nX]=["ReadableStream","Request","Response","Headers"].map(ss),rX=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function up(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,s;if(typeof n!="object"&&(n=[n]),uh(n))for(r=0,s=n.length;r<s;r++)e.call(null,n[r],r,n);else{const i=t?Object.getOwnPropertyNames(n):Object.keys(n),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,n[a],a,n)}}function FM(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,s;for(;r-- >0;)if(s=t[r],e===s.toLowerCase())return s;return null}const Oa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,BM=n=>!Cf(n)&&n!==Oa;function Hb(){const{caseless:n}=BM(this)&&this||{},e={},t=(r,s)=>{const i=n&&FM(e,s)||s;om(e[i])&&om(r)?e[i]=Hb(e[i],r):om(r)?e[i]=Hb({},r):uh(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&up(arguments[r],t);return e}const sX=(n,e,t,{allOwnKeys:r}={})=>(up(e,(s,i)=>{t&&ur(s)?n[i]=DM(s,t):n[i]=s},{allOwnKeys:r}),n),iX=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),oX=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},aX=(n,e,t,r)=>{let s,i,o;const a={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),i=s.length;i-- >0;)o=s[i],(!r||r(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&bx(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},lX=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},cX=n=>{if(!n)return null;if(uh(n))return n;let e=n.length;if(!MM(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},uX=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&bx(Uint8Array)),hX=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(n,i[0],i[1])}},dX=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},fX=ss("HTMLFormElement"),pX=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,s){return r.toUpperCase()+s}),jP=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),gX=ss("RegExp"),UM=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};up(t,(s,i)=>{let o;(o=e(s,i,n))!==!1&&(r[i]=o||s)}),Object.defineProperties(n,r)},mX=n=>{UM(n,(e,t)=>{if(ur(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(ur(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},yX=(n,e)=>{const t={},r=s=>{s.forEach(i=>{t[i]=!0})};return uh(n)?r(n):r(String(n).split(e)),t},wX=()=>{},vX=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,Av="abcdefghijklmnopqrstuvwxyz",zP="0123456789",VM={DIGIT:zP,ALPHA:Av,ALPHA_DIGIT:Av+Av.toUpperCase()+zP},_X=(n=16,e=VM.ALPHA_DIGIT)=>{let t="";const{length:r}=e;for(;n--;)t+=e[Math.random()*r|0];return t};function bX(n){return!!(n&&ur(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const EX=n=>{const e=new Array(10),t=(r,s)=>{if(U0(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=uh(r)?[]:{};return up(r,(o,a)=>{const l=t(o,s+1);!Cf(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return t(n,0)},xX=ss("AsyncFunction"),AX=n=>n&&(U0(n)||ur(n))&&ur(n.then)&&ur(n.catch),jM=((n,e)=>n?setImmediate:e?((t,r)=>(Oa.addEventListener("message",({source:s,data:i})=>{s===Oa&&i===t&&r.length&&r.shift()()},!1),s=>{r.push(s),Oa.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",ur(Oa.postMessage)),TX=typeof queueMicrotask<"u"?queueMicrotask.bind(Oa):typeof process<"u"&&process.nextTick||jM,H={isArray:uh,isArrayBuffer:LM,isBuffer:zY,isFormData:YY,isArrayBufferView:HY,isString:GY,isNumber:MM,isBoolean:WY,isObject:U0,isPlainObject:om,isReadableStream:ZY,isRequest:eX,isResponse:tX,isHeaders:nX,isUndefined:Cf,isDate:$Y,isFile:QY,isBlob:KY,isRegExp:gX,isFunction:ur,isStream:JY,isURLSearchParams:XY,isTypedArray:uX,isFileList:qY,forEach:up,merge:Hb,extend:sX,trim:rX,stripBOM:iX,inherits:oX,toFlatObject:aX,kindOf:F0,kindOfTest:ss,endsWith:lX,toArray:cX,forEachEntry:hX,matchAll:dX,isHTMLForm:fX,hasOwnProperty:jP,hasOwnProp:jP,reduceDescriptors:UM,freezeMethods:mX,toObjectSet:yX,toCamelCase:pX,noop:wX,toFiniteNumber:vX,findKey:FM,global:Oa,isContextDefined:BM,ALPHABET:VM,generateString:_X,isSpecCompliantForm:bX,toJSONObject:EX,isAsyncFn:xX,isThenable:AX,setImmediate:jM,asap:TX};function ve(n,e,t,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}H.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const zM=ve.prototype,HM={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{HM[n]={value:n}});Object.defineProperties(ve,HM);Object.defineProperty(zM,"isAxiosError",{value:!0});ve.from=(n,e,t,r,s,i)=>{const o=Object.create(zM);return H.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ve.call(o,n.message,e,t,r,s),o.cause=n,o.name=n.name,i&&Object.assign(o,i),o};const SX=null;function Gb(n){return H.isPlainObject(n)||H.isArray(n)}function GM(n){return H.endsWith(n,"[]")?n.slice(0,-2):n}function HP(n,e,t){return n?n.concat(e).map(function(s,i){return s=GM(s),!t&&i?"["+s+"]":s}).join(t?".":""):e}function IX(n){return H.isArray(n)&&!n.some(Gb)}const CX=H.toFlatObject(H,{},null,function(e){return/^is[A-Z]/.test(e)});function V0(n,e,t){if(!H.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=H.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,v){return!H.isUndefined(v[y])});const r=t.metaTokens,s=t.visitor||u,i=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(e);if(!H.isFunction(s))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(H.isDate(g))return g.toISOString();if(!l&&H.isBlob(g))throw new ve("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(g)||H.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,y,v){let w=g;if(g&&!v&&typeof g=="object"){if(H.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(H.isArray(g)&&IX(g)||(H.isFileList(g)||H.endsWith(y,"[]"))&&(w=H.toArray(g)))return y=GM(y),w.forEach(function(E,C){!(H.isUndefined(E)||E===null)&&e.append(o===!0?HP([y],C,i):o===null?y:y+"[]",c(E))}),!1}return Gb(g)?!0:(e.append(HP(v,y,i),c(g)),!1)}const d=[],f=Object.assign(CX,{defaultVisitor:u,convertValue:c,isVisitable:Gb});function p(g,y){if(!H.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(g),H.forEach(g,function(w,_){(!(H.isUndefined(w)||w===null)&&s.call(e,w,H.isString(_)?_.trim():_,y,f))===!0&&p(w,y?y.concat(_):[_])}),d.pop()}}if(!H.isObject(n))throw new TypeError("data must be an object");return p(n),e}function GP(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Ex(n,e){this._pairs=[],n&&V0(n,this,e)}const WM=Ex.prototype;WM.append=function(e,t){this._pairs.push([e,t])};WM.toString=function(e){const t=e?function(r){return e.call(this,r,GP)}:GP;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function PX(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $M(n,e,t){if(!e)return n;const r=t&&t.encode||PX,s=t&&t.serialize;let i;if(s?i=s(e,t):i=H.isURLSearchParams(e)?e.toString():new Ex(e,t).toString(r),i){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+i}return n}class WP{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){H.forEach(this.handlers,function(r){r!==null&&e(r)})}}const QM={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kX=typeof URLSearchParams<"u"?URLSearchParams:Ex,RX=typeof FormData<"u"?FormData:null,NX=typeof Blob<"u"?Blob:null,OX={isBrowser:!0,classes:{URLSearchParams:kX,FormData:RX,Blob:NX},protocols:["http","https","file","blob","url","data"]},xx=typeof window<"u"&&typeof document<"u",Wb=typeof navigator=="object"&&navigator||void 0,DX=xx&&(!Wb||["ReactNative","NativeScript","NS"].indexOf(Wb.product)<0),LX=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",MX=xx&&window.location.href||"http://localhost",FX=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xx,hasStandardBrowserEnv:DX,hasStandardBrowserWebWorkerEnv:LX,navigator:Wb,origin:MX},Symbol.toStringTag,{value:"Module"})),Jn={...FX,...OX};function BX(n,e){return V0(n,new Jn.classes.URLSearchParams,Object.assign({visitor:function(t,r,s,i){return Jn.isNode&&H.isBuffer(t)?(this.append(r,t.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function UX(n){return H.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function VX(n){const e={},t=Object.keys(n);let r;const s=t.length;let i;for(r=0;r<s;r++)i=t[r],e[i]=n[i];return e}function KM(n){function e(t,r,s,i){let o=t[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=t.length;return o=!o&&H.isArray(s)?s.length:o,l?(H.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!H.isObject(s[o]))&&(s[o]=[]),e(t,r,s[o],i)&&H.isArray(s[o])&&(s[o]=VX(s[o])),!a)}if(H.isFormData(n)&&H.isFunction(n.entries)){const t={};return H.forEachEntry(n,(r,s)=>{e(UX(r),s,t,0)}),t}return null}function jX(n,e,t){if(H.isString(n))try{return(e||JSON.parse)(n),H.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(n)}const hp={transitional:QM,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,i=H.isObject(e);if(i&&H.isHTMLForm(e)&&(e=new FormData(e)),H.isFormData(e))return s?JSON.stringify(KM(e)):e;if(H.isArrayBuffer(e)||H.isBuffer(e)||H.isStream(e)||H.isFile(e)||H.isBlob(e)||H.isReadableStream(e))return e;if(H.isArrayBufferView(e))return e.buffer;if(H.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return BX(e,this.formSerializer).toString();if((a=H.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return V0(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(t.setContentType("application/json",!1),jX(e)):e}],transformResponse:[function(e){const t=this.transitional||hp.transitional,r=t&&t.forcedJSONParsing,s=this.responseType==="json";if(H.isResponse(e)||H.isReadableStream(e))return e;if(e&&H.isString(e)&&(r&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ve.from(a,ve.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Jn.classes.FormData,Blob:Jn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],n=>{hp.headers[n]={}});const zX=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),HX=n=>{const e={};let t,r,s;return n&&n.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!t||e[t]&&zX[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},$P=Symbol("internals");function Hh(n){return n&&String(n).trim().toLowerCase()}function am(n){return n===!1||n==null?n:H.isArray(n)?n.map(am):String(n)}function GX(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const WX=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Tv(n,e,t,r,s){if(H.isFunction(r))return r.call(this,e,t);if(s&&(e=t),!!H.isString(e)){if(H.isString(r))return e.indexOf(r)!==-1;if(H.isRegExp(r))return r.test(e)}}function $X(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function QX(n,e){const t=H.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class Yn{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function i(a,l,c){const u=Hh(l);if(!u)throw new Error("header name must be a non-empty string");const d=H.findKey(s,u);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=am(a))}const o=(a,l)=>H.forEach(a,(c,u)=>i(c,u,l));if(H.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(H.isString(e)&&(e=e.trim())&&!WX(e))o(HX(e),t);else if(H.isHeaders(e))for(const[a,l]of e.entries())i(l,a,r);else e!=null&&i(t,e,r);return this}get(e,t){if(e=Hh(e),e){const r=H.findKey(this,e);if(r){const s=this[r];if(!t)return s;if(t===!0)return GX(s);if(H.isFunction(t))return t.call(this,s,r);if(H.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Hh(e),e){const r=H.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Tv(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let s=!1;function i(o){if(o=Hh(o),o){const a=H.findKey(r,o);a&&(!t||Tv(r,r[a],a,t))&&(delete r[a],s=!0)}}return H.isArray(e)?e.forEach(i):i(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const i=t[r];(!e||Tv(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const t=this,r={};return H.forEach(this,(s,i)=>{const o=H.findKey(r,i);if(o){t[o]=am(s),delete t[i];return}const a=e?$X(i):String(i).trim();a!==i&&delete t[i],t[a]=am(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return H.forEach(this,(r,s)=>{r!=null&&r!==!1&&(t[s]=e&&H.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[$P]=this[$P]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Hh(o);r[a]||(QX(s,o),r[a]=!0)}return H.isArray(e)?e.forEach(i):i(e),this}}Yn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(Yn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});H.freezeMethods(Yn);function Sv(n,e){const t=this||hp,r=e||t,s=Yn.from(r.headers);let i=r.data;return H.forEach(n,function(a){i=a.call(t,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function qM(n){return!!(n&&n.__CANCEL__)}function hh(n,e,t){ve.call(this,n??"canceled",ve.ERR_CANCELED,e,t),this.name="CanceledError"}H.inherits(hh,ve,{__CANCEL__:!0});function JM(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new ve("Request failed with status code "+t.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function KX(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function qX(n,e){n=n||10;const t=new Array(n),r=new Array(n);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];o||(o=c),t[s]=l,r[s]=c;let d=i,f=0;for(;d!==s;)f+=t[d++],d=d%n;if(s=(s+1)%n,s===i&&(i=(i+1)%n),c-o<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function JX(n,e){let t=0,r=1e3/e,s,i;const o=(c,u=Date.now())=>{t=u,s=null,i&&(clearTimeout(i),i=null),n.apply(null,c)};return[(...c)=>{const u=Date.now(),d=u-t;d>=r?o(c,u):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},r-d)))},()=>s&&o(s)]}const Ty=(n,e,t=3)=>{let r=0;const s=qX(50,250);return JX(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,c=s(l),u=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(d)},t)},QP=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},KP=n=>(...e)=>H.asap(()=>n(...e)),YX=Jn.hasStandardBrowserEnv?function(){const e=Jn.navigator&&/(msie|trident)/i.test(Jn.navigator.userAgent),t=document.createElement("a");let r;function s(i){let o=i;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=s(window.location.href),function(o){const a=H.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),XX=Jn.hasStandardBrowserEnv?{write(n,e,t,r,s,i){const o=[n+"="+encodeURIComponent(e)];H.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),H.isString(r)&&o.push("path="+r),H.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ZX(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function eZ(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function YM(n,e){return n&&!ZX(e)?eZ(n,e):e}const qP=n=>n instanceof Yn?{...n}:n;function Il(n,e){e=e||{};const t={};function r(c,u,d){return H.isPlainObject(c)&&H.isPlainObject(u)?H.merge.call({caseless:d},c,u):H.isPlainObject(u)?H.merge({},u):H.isArray(u)?u.slice():u}function s(c,u,d){if(H.isUndefined(u)){if(!H.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function i(c,u){if(!H.isUndefined(u))return r(void 0,u)}function o(c,u){if(H.isUndefined(u)){if(!H.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in n)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>s(qP(c),qP(u),!0)};return H.forEach(Object.keys(Object.assign({},n,e)),function(u){const d=l[u]||s,f=d(n[u],e[u],u);H.isUndefined(f)&&d!==a||(t[u]=f)}),t}const XM=n=>{const e=Il({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;e.headers=o=Yn.from(o),e.url=$M(YM(e.baseURL,e.url),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(H.isFormData(t)){if(Jn.hasStandardBrowserEnv||Jn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(Jn.hasStandardBrowserEnv&&(r&&H.isFunction(r)&&(r=r(e)),r||r!==!1&&YX(e.url))){const c=s&&i&&XX.read(i);c&&o.set(s,c)}return e},tZ=typeof XMLHttpRequest<"u",nZ=tZ&&function(n){return new Promise(function(t,r){const s=XM(n);let i=s.data;const o=Yn.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,u,d,f,p,g;function y(){p&&p(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function w(){if(!v)return;const E=Yn.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),R={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:E,config:n,request:v};JM(function(T){t(T),y()},function(T){r(T),y()},R),v=null}"onloadend"in v?v.onloadend=w:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(w)},v.onabort=function(){v&&(r(new ve("Request aborted",ve.ECONNABORTED,n,v)),v=null)},v.onerror=function(){r(new ve("Network Error",ve.ERR_NETWORK,n,v)),v=null},v.ontimeout=function(){let C=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const R=s.transitional||QM;s.timeoutErrorMessage&&(C=s.timeoutErrorMessage),r(new ve(C,R.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,n,v)),v=null},i===void 0&&o.setContentType(null),"setRequestHeader"in v&&H.forEach(o.toJSON(),function(C,R){v.setRequestHeader(R,C)}),H.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),a&&a!=="json"&&(v.responseType=s.responseType),c&&([f,g]=Ty(c,!0),v.addEventListener("progress",f)),l&&v.upload&&([d,p]=Ty(l),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(u=E=>{v&&(r(!E||E.type?new hh(null,n,v):E),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const _=KX(s.url);if(_&&Jn.protocols.indexOf(_)===-1){r(new ve("Unsupported protocol "+_+":",ve.ERR_BAD_REQUEST,n));return}v.send(i||null)})},rZ=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,s;const i=function(c){if(!s){s=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof ve?u:new hh(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,i(new ve(`timeout ${e} of ms exceeded`,ve.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),n=null)};n.forEach(c=>c.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>H.asap(a),l}},sZ=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,s;for(;r<t;)s=r+e,yield n.slice(r,s),r=s},iZ=async function*(n,e){for await(const t of oZ(n))yield*sZ(t,e)},oZ=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},JP=(n,e,t,r)=>{const s=iZ(n,e);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){a(),l.close();return}let d=u.byteLength;if(t){let f=i+=d;t(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},j0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ZM=j0&&typeof ReadableStream=="function",aZ=j0&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),eF=(n,...e)=>{try{return!!n(...e)}catch{return!1}},lZ=ZM&&eF(()=>{let n=!1;const e=new Request(Jn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),YP=64*1024,$b=ZM&&eF(()=>H.isReadableStream(new Response("").body)),Sy={stream:$b&&(n=>n.body)};j0&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Sy[e]&&(Sy[e]=H.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new ve(`Response type '${e}' is not supported`,ve.ERR_NOT_SUPPORT,r)})})})(new Response);const cZ=async n=>{if(n==null)return 0;if(H.isBlob(n))return n.size;if(H.isSpecCompliantForm(n))return(await new Request(Jn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(H.isArrayBufferView(n)||H.isArrayBuffer(n))return n.byteLength;if(H.isURLSearchParams(n)&&(n=n+""),H.isString(n))return(await aZ(n)).byteLength},uZ=async(n,e)=>{const t=H.toFiniteNumber(n.getContentLength());return t??cZ(e)},hZ=j0&&(async n=>{let{url:e,method:t,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:f}=XM(n);c=c?(c+"").toLowerCase():"text";let p=rZ([s,i&&i.toAbortSignal()],o),g;const y=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let v;try{if(l&&lZ&&t!=="get"&&t!=="head"&&(v=await uZ(u,r))!==0){let R=new Request(e,{method:"POST",body:r,duplex:"half"}),D;if(H.isFormData(r)&&(D=R.headers.get("content-type"))&&u.setContentType(D),R.body){const[T,x]=QP(v,Ty(KP(l)));r=JP(R.body,YP,T,x)}}H.isString(d)||(d=d?"include":"omit");const w="credentials"in Request.prototype;g=new Request(e,{...f,signal:p,method:t.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:w?d:void 0});let _=await fetch(g);const E=$b&&(c==="stream"||c==="response");if($b&&(a||E&&y)){const R={};["status","statusText","headers"].forEach(I=>{R[I]=_[I]});const D=H.toFiniteNumber(_.headers.get("content-length")),[T,x]=a&&QP(D,Ty(KP(a),!0))||[];_=new Response(JP(_.body,YP,T,()=>{x&&x(),y&&y()}),R)}c=c||"text";let C=await Sy[H.findKey(Sy,c)||"text"](_,n);return!E&&y&&y(),await new Promise((R,D)=>{JM(R,D,{data:C,headers:Yn.from(_.headers),status:_.status,statusText:_.statusText,config:n,request:g})})}catch(w){throw y&&y(),w&&w.name==="TypeError"&&/fetch/i.test(w.message)?Object.assign(new ve("Network Error",ve.ERR_NETWORK,n,g),{cause:w.cause||w}):ve.from(w,w&&w.code,n,g)}}),Qb={http:SX,xhr:nZ,fetch:hZ};H.forEach(Qb,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const XP=n=>`- ${n}`,dZ=n=>H.isFunction(n)||n===null||n===!1,tF={getAdapter:n=>{n=H.isArray(n)?n:[n];const{length:e}=n;let t,r;const s={};for(let i=0;i<e;i++){t=n[i];let o;if(r=t,!dZ(t)&&(r=Qb[(o=String(t)).toLowerCase()],r===void 0))throw new ve(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(XP).join(`
`):" "+XP(i[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Qb};function Iv(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new hh(null,n)}function ZP(n){return Iv(n),n.headers=Yn.from(n.headers),n.data=Sv.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),tF.getAdapter(n.adapter||hp.adapter)(n).then(function(r){return Iv(n),r.data=Sv.call(n,n.transformResponse,r),r.headers=Yn.from(r.headers),r},function(r){return qM(r)||(Iv(n),r&&r.response&&(r.response.data=Sv.call(n,n.transformResponse,r.response),r.response.headers=Yn.from(r.response.headers))),Promise.reject(r)})}const nF="1.7.7",Ax={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Ax[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const ek={};Ax.transitional=function(e,t,r){function s(i,o){return"[Axios v"+nF+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new ve(s(o," has been removed"+(t?" in "+t:"")),ve.ERR_DEPRECATED);return t&&!ek[o]&&(ek[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,a):!0}};function fZ(n,e,t){if(typeof n!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=n[i],l=a===void 0||o(a,i,n);if(l!==!0)throw new ve("option "+i+" must be "+l,ve.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ve("Unknown option "+i,ve.ERR_BAD_OPTION)}}const Kb={assertOptions:fZ,validators:Ax},Gi=Kb.validators;class cl{constructor(e){this.defaults=e,this.interceptors={request:new WP,response:new WP}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Il(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:i}=t;r!==void 0&&Kb.assertOptions(r,{silentJSONParsing:Gi.transitional(Gi.boolean),forcedJSONParsing:Gi.transitional(Gi.boolean),clarifyTimeoutError:Gi.transitional(Gi.boolean)},!1),s!=null&&(H.isFunction(s)?t.paramsSerializer={serialize:s}:Kb.assertOptions(s,{encode:Gi.function,serialize:Gi.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&H.merge(i.common,i[t.method]);i&&H.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),t.headers=Yn.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(t)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,d=0,f;if(!l){const g=[ZP.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),f=g.length,u=Promise.resolve(t);d<f;)u=u.then(g[d++],g[d++]);return u}f=a.length;let p=t;for(d=0;d<f;){const g=a[d++],y=a[d++];try{p=g(p)}catch(v){y.call(this,v);break}}try{u=ZP.call(this,p)}catch(g){return Promise.reject(g)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Il(this.defaults,e);const t=YM(e.baseURL,e.url);return $M(t,e.params,e.paramsSerializer)}}H.forEach(["delete","get","head","options"],function(e){cl.prototype[e]=function(t,r){return this.request(Il(r||{},{method:e,url:t,data:(r||{}).data}))}});H.forEach(["post","put","patch"],function(e){function t(r){return function(i,o,a){return this.request(Il(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}cl.prototype[e]=t(),cl.prototype[e+"Form"]=t(!0)});class Tx{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(i){t=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new hh(i,o,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Tx(function(s){e=s}),cancel:e}}}function pZ(n){return function(t){return n.apply(null,t)}}function gZ(n){return H.isObject(n)&&n.isAxiosError===!0}const qb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qb).forEach(([n,e])=>{qb[e]=n});function rF(n){const e=new cl(n),t=DM(cl.prototype.request,e);return H.extend(t,cl.prototype,e,{allOwnKeys:!0}),H.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return rF(Il(n,s))},t}const Tt=rF(hp);Tt.Axios=cl;Tt.CanceledError=hh;Tt.CancelToken=Tx;Tt.isCancel=qM;Tt.VERSION=nF;Tt.toFormData=V0;Tt.AxiosError=ve;Tt.Cancel=Tt.CanceledError;Tt.all=function(e){return Promise.all(e)};Tt.spread=pZ;Tt.isAxiosError=gZ;Tt.mergeConfig=Il;Tt.AxiosHeaders=Yn;Tt.formToJSON=n=>KM(H.isHTMLForm(n)?new FormData(n):n);Tt.getAdapter=tF.getAdapter;Tt.HttpStatusCode=qb;Tt.default=Tt;const mZ=()=>{const[n,e]=V.useState({BTCUSDT:{image:"",symbol:"BTC",price:0,change:0},ETHUSDT:{image:"",symbol:"ETH",price:0,change:0},BNBUSDT:{image:"",symbol:"BNB",price:0,change:0},SOLUSDT:{image:"",symbol:"SOL",price:0,change:0},XRPUSDT:{image:"",symbol:"XRP",price:0,change:0}}),t=async()=>{try{const r=await Tt.get("https://api.coingecko.com/api/v3/coins/markets",{params:{vs_currency:"usd",ids:"bitcoin,ethereum,solana,binancecoin,ripple"}}),s={};r.data.forEach(i=>{const o=i.symbol.toUpperCase();s[o]=i.image}),e(i=>{const o={...i};return Object.keys(o).forEach(a=>{o[a]={...o[a],image:s[o[a].symbol]}}),o})}catch(r){console.log("Error fetching crypto images:",r)}};return V.useEffect(()=>{t();const s=["btcusdt","ethusdt","solusdt","bnbusdt","xrpusdt"].map(i=>{const o=new WebSocket(`wss://stream.binance.com:9443/ws/${i}@trade`);return o.onmessage=a=>{const l=JSON.parse(a.data);e(c=>({...c,[i.toUpperCase()]:{...c[i.toUpperCase()],price:parseFloat(l.p),change:c[i.toUpperCase()]?parseFloat(l.p)-c[i.toUpperCase()].price:0}}))},o});return()=>{s.forEach(i=>i.close())}},[]),S.jsxs("div",{className:"mt-2 p-4 bg-white rounded-lg shadow-md",children:[S.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-600",children:"CryptoTracker"}),S.jsx("div",{className:"space-y-2",children:Object.values(n).map(({symbol:r,price:s,change:i,image:o})=>S.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg",style:{backgroundColor:i>=0?"#e0ffe6":"#ffe0e0",color:i>=0?"#28a745":"#dc3545"},children:[S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("img",{src:o,alt:`${r} logo`,className:"w-6 h-6"}),S.jsx("span",{className:"text-lg font-semibold",children:r})]}),S.jsx("div",{children:S.jsxs("span",{className:"text-lg font-bold",children:["$",s.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})})]},r))})]})},yZ="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2024%2024'%3e%3cdefs%3e%3clinearGradient%20id='goldGradient'%20x1='0%25'%20y1='0%25'%20x2='100%25'%20y2='100%25'%3e%3cstop%20offset='0%25'%20style='stop-color:%23FFD700'/%3e%3cstop%20offset='100%25'%20style='stop-color:%23FFA500'/%3e%3c/linearGradient%3e%3c/defs%3e%3cpath%20fill='url(%23goldGradient)'%20d='M12%202L2%2019h20L12%202zm0%204l6.9%2011H5.1L12%206z'/%3e%3ccircle%20fill='%23FFD700'%20cx='12'%20cy='14'%20r='2'/%3e%3c/svg%3e",wZ=()=>{const[n,e]=V.useState(null),[t,r]=V.useState(!0),[s,i]=V.useState(null),o=l=>{const[c,u,d]=l.split(" "),p=["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาม"].indexOf(u),g=parseInt(d)-543;return p!==-1?`${c.padStart(2,"0")} / ${(p+1).toString().padStart(2,"0")} / ${g}`:"Invalid Date;"},a=async()=>{try{const c=(await Tt.get("https://api.chnwt.dev/thai-gold-api/latest")).data;console.log(c),e({buy:c.response.price.gold_bar.buy,sell:c.response.price.gold_bar.sell,date:o(c.response.date),change:c.response.price.change.compare_yesterday,changeText:c.response.price.change.compare_yesterday>0?"High":"Low"}),console.log(c.response.date)}catch{i("Cannot fetch gold price")}finally{r(!1)}};return V.useEffect(()=>{a()},[]),S.jsxs("div",{className:"bg-white rounded-lg shadow-lg mt-2 p-4 max-w-md mx-auto",children:[S.jsx("div",{className:"flex justify-between mb-2",children:S.jsxs("div",{className:"flex items-center",children:[S.jsx("img",{src:yZ,alt:"Gold Icon",className:"w-10 h-10 mr-3 mb-1"}),S.jsx("h2",{className:"text-xl font-bold text-center text-gray-600",children:"Gold Price"})]})}),t?S.jsx("p",{children:"Loading..."}):s?S.jsx("p",{className:"text-red-500",children:s}):n&&S.jsxs("div",{className:"text-gray-600 space-y-3",children:[S.jsxs("div",{className:"gid grid-cols-2 gap-4",children:[S.jsxs("div",{className:"p-2 bg-gray-50 rounded-lg",children:[S.jsx("div",{className:"text-sm text-gray-500",children:"Buy:"}),S.jsxs("div",{className:"text-xl font-semibold text-gray-600 mt-1",children:["฿",n.buy.toLocaleString()]})]}),S.jsxs("div",{className:"p-2 bg-gray-50 rounded-lg",children:[S.jsx("div",{className:"text-sm text-gray-500",children:"Sell:"}),S.jsxs("div",{className:"text-xl font-semibold text-gray-600 mt-1",children:["฿",n.sell.toLocaleString()]})]})]}),S.jsxs("div",{className:"mt-4",children:[S.jsx("span",{className:"text-sm text-gray-500",children:"Change:"}),S.jsxs("span",{className:`text-lg font-semibold ml-2 
                            ${n.change>0?"text-green-600":"text-red-500"}`,children:[" ฿ ",n.change," (",n.changeText,")"]})]}),S.jsxs("div",{className:"mt-2 font-semibold text-gray-500",children:["Date: ",S.jsx("span",{children:new Date(n.date).toLocaleDateString()})]})]})]})},vZ=({title:n,emergencySaving:e})=>S.jsxs("div",{className:`p-4 shadow-md rounded-lg cursor-pointer transition-all 
        duration-300 ease-in-out hover:scale-105 hover:shadow-lg
        bg-orange-50 text-orange-400 hover:bg-orange-100`,children:[S.jsx("div",{className:"-my-2",children:S.jsx("h3",{className:"text-lg font-medium md:text-xl;",children:n})}),S.jsx("div",{className:"bg-gray-50 outline-none rounded-lg shadow-md mt-3 py-1 px-1",children:S.jsxs("p",{className:"text-xl md:text-2xl font-semibold",children:["฿",e.toLocaleString()]})})]}),_Z="/assets/millionaire-Bkncc1iu.png",bZ="/assets/healthy-DTtiBqas.png",EZ="/assets/moderate-CcIDp21Y.png",xZ="/assets/danger-YkzLuTtn.png",AZ=({totalIncome:n,totalExpense:e,totalCurrentSavings:t,totalEmergencySaving:r})=>{const[s,i]=V.useState(0),[o,a]=V.useState("Healthy");V.useEffect(()=>{const c=n>0?Math.min((n-e)/n,1)*50:0,u=t>0?Math.min(r/t,1)*50:0,d=c+u,f=Math.round(d);i(f),f===100?a("Millionaire"):f>70?a("Healthy"):f>50?a("Moderate"):a("Danger!!")},[n,e,t,r]);const l=()=>{switch(o){case"Millionaire":return S.jsx("img",{src:_Z,alt:"millionaire"});case"Healthy":return S.jsx("img",{src:bZ,alt:"millionaire"});case"Moderate":return S.jsx("img",{src:EZ,alt:"millionaire"});case"Danger!!":return S.jsx("img",{src:xZ,alt:"millionaire"});default:return""}};return S.jsxs("div",{className:`health-score-card flex flex-row justify-between p-4 shadow-md rounded-lg cursor-pointer transition-all 
        duration-300 ease-in-out hover:scale-105 hover:shadow-lg
        ${o==="Millionaire"?"bg-yellow-100":o==="Healthy"?"bg-green-100":o==="Moderate"?"bg-gray-100":"bg-red-200"}`,children:[S.jsxs("div",{className:`flex flex-col ${o==="Millionaire"?"text-yellow-400":o==="Healthy"?"text-green-400":o==="Moderate"?"text-gray-600":"text-red-500"}`,children:[S.jsx("h3",{className:"text-lg flex font-semibold md:text-xl;",children:"Financial Health Score"}),S.jsx("p",{className:`text-2xl md:text-3xl font-bold 
                `,children:s}),S.jsx("p",{children:o==="Millionaire"?"Millionaire":o.charAt(0)+o.slice(1)})]}),S.jsx("div",{className:"status-icon w-16 sm:w-16",children:l()})]})},TZ=()=>{const[n,e]=V.useState(null),[t,r]=V.useState("USD"),[s,i]=V.useState(!0),[o,a]=V.useState(null),l=[{code:"USD",name:"US Dollar"},{code:"THB",name:"Thai Baht"},{code:"JPY",name:"Japanese Yen"},{code:"EUR",name:"Euro"},{code:"GBP",name:"British Pound"},{code:"AUD",name:"Australian Dollar"}],c=u=>{const d=u.target.value;!t.includes(d)&&d!==""&&(r(d),u.target.value="")};return V.useEffect(()=>{(async()=>{const d=localStorage.getItem("exchangeRates"),f=localStorage.getItem("exchangeRatesTime"),p="bc6ca86ea90c692230955fa5";if(d&&f&&new Date().getTime()-Number(f)<864e5){e(JSON.parse(d)),i(!1);return}try{i(!0);const y=await(await fetch(`http://cors-anywhere.herokuapp.com/http://v6.exchangerate-api.com/v6/${p}/latest/USD`)).json();y.result==="success"?(e(y.conversion_rates),localStorage.setItem("exchangeRates",JSON.stringify(y.conversion_rates)),localStorage.setItem("exchangeRatesTime",new Date().getTime().toString())):a("Failed to fetch exchange rates")}catch(g){console.error("An error occurred while fetching exchange rates",g)}finally{i(!1)}})()},[t]),s?S.jsx("div",{children:"Loading..."}):o?S.jsx("div",{children:o}):S.jsxs("div",{className:"w-full max-w-xl mt-2 bg-white rounded-lg shadow-md",children:[S.jsx("div",{className:"p-1 border-b border-gray-100",children:S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx(q$,{className:"h-5 w-5 ml-1 text-blue-600"}),S.jsx("h2",{className:"text-md text-gray-600 font-semibold",children:"Currency Exchange Rates"})]})}),S.jsxs("div",{className:"p-4",children:[S.jsxs("div",{className:"mb-6",children:[S.jsx("label",{htmlFor:"currency",className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Currency to compare"}),S.jsxs("select",{id:"currency",value:t,onChange:c,className:`w-full max-w-xs px-3 py-2 bg-white border border-gray-300
                        rounded-lg shadow-sm focus:outline-none focus:ring-2 
                        focus:ring-blue-500 focus:border-blue-500`,children:[S.jsx("option",{value:"",children:"Select currency"}),l.map(u=>!t.includes(u.code)&&S.jsxs("option",{value:u.code,children:[u.code," - ",u.name]},u.code))]})]}),S.jsx("div",{className:"flex items-center justify-between mb-2 p-2 bg-gray-50 rounded-lg shadow-md",children:S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx(CC,{className:"h-5 w-5 text-blue-600"}),S.jsxs("div",{children:[S.jsx("span",{className:"text-xs font-semibold text-gray-500",children:"USD:"}),S.jsx("span",{className:"ml-2 font-semibold text-gray-600 text-lg",children:n?"1.00":"Loading..."})]})]})}),S.jsx("div",{className:"space-y-1",children:S.jsx("div",{className:"text-sm",children:S.jsx("div",{className:"flex flex-col text-lg font-semibold text-gray-600 bg-gray-50 shadow-md rounded-lg space-y-2",children:S.jsxs("div",{className:"flex items-center space-x-3 mt-4 ml-1",children:[S.jsx(CC,{className:"h-5 w-5 ml-1 text-blue-600"}),S.jsxs("span",{className:"text-xs text-gray-500 font-semibold ",children:[t,":"]}),S.jsx("span",{className:"ml-2 text-gray-600 mb-1",children:n?n[t]:"Loading..."})]})})})})]})]})},SZ=({handleToggleLogin:n,setShowLoginForm:e})=>{const[t,r]=V.useState(!1),[s,i]=V.useState(!1),[o,a]=V.useState(!1),[l,c]=V.useState(0),[u,d]=V.useState(0),[f,p]=V.useState(0),[g,y]=V.useState(!1),[v,w]=V.useState(0),[_,E]=V.useState([]),[C,R]=V.useState(null),[D,T]=V.useState(!1),[x,I]=V.useState(0),k=me=>Me.success(me),N=me=>Me.error(me),M=VO();V.useEffect(()=>{const me=localStorage.getItem("transactions");if(me){const We=JSON.parse(me);E(We),O(We)}},[]),V.useEffect(()=>{localStorage.setItem("transactions",JSON.stringify(_))},[_]);const O=me=>{const We=me.filter(Ie=>Ie.type==="income").reduce((Ie,Mt)=>Ie+Mt.amount,0),st=me.filter(Ie=>Ie.type==="expense").reduce((Ie,Mt)=>Ie+Mt.amount,0),Fn=me.filter(Ie=>Ie.type==="saving"&&Ie.currentSavings!==void 0).reduce((Ie,Mt)=>Ie+(Mt.currentSavings||0),0),Gt=me.filter(Ie=>Ie.type==="emergency").reduce((Ie,Mt)=>Ie+Mt.amount,0);c(We),d(st),w(Fn),I(Gt),console.log("Total income:",We),console.log("Total emergency saving:",Gt)},fe=()=>{r(!0)},G=()=>{i(!0)},q=()=>{a(!0)},Z=()=>{T(!D)},W=(me,We)=>{const st={id:Date.now(),type:"income",...me},Fn=me.amount*We/100,Gt={id:Date.now()+1,type:"emergency",description:"Emergency Saving",amount:Fn,date:me.date},Ie=[..._,st,Gt];E(Ie),O(Ie),r(!1),localStorage.setItem("emergencySaving",Fn.toString()),console.log("Update Income and EmergencySaving:",Ie)},K=me=>{const We={id:Date.now(),type:"expense",...me},st=[..._,We];E(st),O(st),i(!1)},te=me=>{const We={id:Date.now(),type:"saving",...me},st=[..._,We];E(st),O(st),a(!1)},le=me=>{g||(p(me),y(!0),localStorage.setItem("goal",JSON.stringify(me)),localStorage.setItem("goalSet","true"))},ae=()=>{const me=_.filter(We=>We.type!=="saving");E(me),O(me),p(0),y(!1),localStorage.removeItem("goal"),localStorage.removeItem("goalSet")},ce=l-u,_e=ce>0?"green":ce<0?"red":"black",ke=async()=>{if(window.ethereum){const me=new BY(window.ethereum);try{await me.send("eth_requestAccounts",[]);const st=await(await me.getSigner()).getAddress(),Fn=await me.getBalance(st),Gt=kQ(Fn);R({address:st,balance:Gt}),k("Metamask connected successfully!")}catch(We){console.log("Wallet connection failed",We)}}else N("MetaMask is required to connect")},Le=async()=>{try{await U3(ci),R(null),e(!1),console.log("User logged out"),k("Logged out Successful!"),M("/")}catch(me){console.log("Logout failed",me)}},qe=()=>{R(null),console.log("Wallet Disconnected!"),k("Wallet Disconnected!")};return V.useEffect(()=>{const me=localStorage.getItem("goal"),We=localStorage.getItem("goalSet");me&&p(JSON.parse(me)),We==="true"&&y(!0)},[]),V.useEffect(()=>{const me=localStorage.getItem("emergencySaving");me&&I(parseFloat(me))},[]),S.jsxs("div",{children:[S.jsx(JO,{showLogout:!0,handleWalletConnect:ke,walletInfo:C,handleLogout:Le,handleDisconnect:qe,handleToggleLogin:n,handleToggleSideContent:Z}),S.jsxs(AH,{isOpen:D,asideContent:S.jsxs(S.Fragment,{children:[C?S.jsx(VY,{address:C.address,balance:C.balance}):null,S.jsx(mZ,{}),S.jsx(wZ,{buy:0,sell:0,date:"",change:0,changeText:""}),S.jsx(TZ,{}),S.jsx(rQ,{})]}),children:[S.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 mb-6",children:[S.jsx(AZ,{totalIncome:l,totalExpense:u,totalCurrentSavings:v,totalEmergencySaving:x}),S.jsx(Zp,{title:"Balance",amount:l-u,goal:f,color:_e}),!t&&S.jsx(Zp,{title:"Total Income",amount:l,goal:f,color:"green",onClick:fe}),t&&S.jsx(sQ,{onAddIncomeAndEmergency:W,onCancel:()=>r(!1)}),!s&&S.jsx(Zp,{title:"Total Expense",amount:u,goal:f,color:"red",onClick:G}),s&&S.jsx(iQ,{onAddExpense:K,onCancel:()=>i(!1)}),!o&&S.jsx(Zp,{title:"Saving Goals",amount:v,goal:f,color:"blue",onClick:q}),o&&S.jsx(UY,{onAddSaving:te,handleUpdateGoal:le,handleResetSaving:ae,goalSet:g,onCancel:()=>a(!1)}),S.jsx(vZ,{title:"Emergency Saving",emergencySaving:x})]}),S.jsx("div",{className:"mb-6",children:S.jsx(eQ,{transactions:_,walletInfo:C})}),S.jsx("div",{className:"mb-6",children:S.jsx(nQ,{transactions:_})})]})]})},IZ=()=>{const[n,e]=V.useState(!1),[t,r]=V.useState({name:"",email:"",password:"",confirmPassword:""}),s=()=>{e(i=>!i),r({name:"",email:"",password:"",confirmPassword:""})};return S.jsxs(S.Fragment,{children:[S.jsx(nH,{position:"top-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!0}),S.jsx(Gz,{children:S.jsxs(jz,{children:[S.jsx(G_,{path:"/",element:S.jsx(xH,{showLoginForm:n,handleToggleLogin:s,setShowLoginForm:e,errors:t,setErrors:r})}),S.jsx(G_,{path:"/dashboard",element:S.jsx(SZ,{handleToggleLogin:s,setShowLoginForm:e})})]})})]})};kO(document.getElementById("root")).render(S.jsx(V.StrictMode,{children:S.jsx(Qj,{children:S.jsx(IZ,{})})}));
